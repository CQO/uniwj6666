(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-buy-index"],{"0217":function(t,e,a){var i=a("dd71");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("dcd427c4",i,!0,{sourceMap:!1,shadowMode:!1})},"0f8b":function(t,e,a){t.exports=a.p+"static/img/tabbar4.5894560e.png"},"10ef":function(t,e,a){var i=a("7e50");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("05df8562",i,!0,{sourceMap:!1,shadowMode:!1})},1898:function(t,e,a){var i=a("48ee");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("54bd11f0",i,!0,{sourceMap:!1,shadowMode:!1})},"189b":function(t,e,a){"use strict";a.r(e);var i=a("d5c1"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},1960:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-bb681a16]{background-color:#000;color:#fff!important}body.?%PAGE?%[data-v-bb681a16]{background-color:#000}",""]),t.exports=e},"1a69":function(t,e,a){t.exports=a.p+"static/img/tabbar1.7fce8969.png"},"205f":function(t,e,a){var i=a("c9ee");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("3ef33c72",i,!0,{sourceMap:!1,shadowMode:!1})},"20bf":function(t,e,a){"use strict";var i=a("8aa7"),n=a("ebb5").exportTypedArrayStaticMethod,r=a("a078");n("from",r,i)},"20d6":function(t,e,a){"use strict";var i=a("a49b"),n=a.n(i);n.a},"21f6":function(t,e,a){t.exports=a.p+"static/img/logo_gray.fb910829.png"},"22cf":function(t,e,a){"use strict";a.r(e);var i=a("b039"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"23f2":function(t,e,a){"use strict";a.r(e);var i=a("ed56"),n=a("4cfa");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("efe4");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"b1c30928",null,!1,i["a"],void 0);e["default"]=s.exports},"266f":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={props:{}}},"2a2c":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.kline-box[data-v-761a7597]{display:flex;justify-content:space-between;align-items:center;height:%?120?%}.kline-box .left[data-v-761a7597]{padding:%?20?%}.kline-box .price[data-v-761a7597]{color:#0ecb80;font-size:%?80?%;font-weight:700}.kline-box .item[data-v-761a7597]{display:flex;align-items:center}.kline-box .type[data-v-761a7597]{display:flex;justify-content:space-between}.kline-box .type .item[data-v-761a7597]{border-radius:20px;font-size:12px;padding:2px 10px;margin:0 %?10?%}.kline-box .type .item.current[data-v-761a7597]{background-color:#1c5699;color:#fff}.content[data-v-761a7597]{margin-top:%?50?%;width:%?750?%;height:%?600?%;position:relative;z-index:1}body[data-v-761a7597]{margin:0;font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#f2f3f5}div[data-v-761a7597],\np[data-v-761a7597]{box-sizing:border-box}p[data-v-761a7597]{margin:0}.app[data-v-761a7597]{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap;padding:15px}.k-line-chart-container[data-v-761a7597]{display:flex;flex-direction:column;margin:15px;border-radius:2px;box-shadow:0 2px 4px rgba(0,0,0,.3);background-color:#fff;width:620px;height:440px;padding:16px 6px 16px 16px}.k-line-chart-title[data-v-761a7597]{margin:0;color:#252525;padding-bottom:10px}.k-line-chart[data-v-761a7597]{display:flex;flex:1}.k-line-chart-menu-container[data-v-761a7597]{display:flex;flex-direction:row;align-items:center;margin-top:10px;font-size:12px;color:#606060}.k-line-chart-menu-container uni-button[data-v-761a7597]{cursor:pointer;background-color:#2196f3;border-radius:2px;margin-right:8px;height:24px;line-height:26px;padding:0 6px;font-size:12px;color:#fff;border:none;outline:none}.options[data-v-761a7597]{border-top:%?2?% solid #333;border-bottom:%?2?% solid #333;display:grid;grid-template-columns:repeat(2,1fr);color:#999}.options .item[data-v-761a7597]{position:relative;padding:%?16?% 0;line-height:%?40?%}.options .item[data-v-761a7597]::after{display:block;content:"";position:absolute;right:0;top:0;bottom:0;width:%?2?%;background:#333}.chart-box-num[data-v-761a7597]{display:flex;justify-content:space-around;width:100vw;margin-bottom:%?30?%;margin-top:%?30?%}.pdesc[data-v-761a7597]{margin-top:%?30?%;margin-bottom:%?30?%;white-space:normal;width:%?710?%;padding-bottom:100px;font-size:14px;margin:0 auto;word-break:break-all}.chart-box-num .item[data-v-761a7597]{border-right:#aaa 1px solid;width:30%;text-align:center}.chart-box-num .item[data-v-761a7597]:last-child{border-right:none}.chart-box-btn[data-v-761a7597]{display:flex;justify-content:space-between;margin:%?20?% %?60?%}.chart-box-btn .item.active[data-v-761a7597]{color:#1c5699;border-bottom:#1c5699 2px solid}',""]),t.exports=e},"2ad8":function(t,e,a){"use strict";a.r(e);var i=a("d793"),n=a("6c15");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("c2fa"),a("20d6");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"bb681a16",null,!1,i["a"],void 0);e["default"]=s.exports},"2af1":function(t,e,a){var i=a("23e7"),n=a("f748");i({target:"Math",stat:!0},{sign:n})},"2b41":function(t,e,a){"use strict";var i=a("8084"),n=a.n(i);n.a},"2b6b":function(t,e,a){"use strict";var i=a("8caa"),n=a.n(i);n.a},"2cb3":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{isDot:{type:Boolean,default:uni.$u.props.badge.isDot},value:{type:[Number,String],default:uni.$u.props.badge.value},show:{type:Boolean,default:uni.$u.props.badge.show},max:{type:[Number,String],default:uni.$u.props.badge.max},type:{type:String,default:uni.$u.props.badge.type},showZero:{type:Boolean,default:uni.$u.props.badge.showZero},bgColor:{type:[String,null],default:uni.$u.props.badge.bgColor},color:{type:[String,null],default:uni.$u.props.badge.color},shape:{type:String,default:uni.$u.props.badge.shape},numberType:{type:String,default:uni.$u.props.badge.numberType},offset:{type:Array,default:uni.$u.props.badge.offset},inverted:{type:Boolean,default:uni.$u.props.badge.inverted},absolute:{type:Boolean,default:uni.$u.props.badge.absolute}}};e.default=i},"2f73":function(t,e,a){"use strict";a.r(e);var i=a("7766"),n=a("edfd");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("d9d0");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6718ea06",null,!1,i["a"],void 0);e["default"]=s.exports},"30e0":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.popupbuy[data-v-bb681a16]  .u-popup__content{width:90%;margin:0 auto}.buy[data-v-bb681a16]{background:#000;min-height:100vh;display:flex;flex-direction:column;width:100vw}.buy .icon[data-v-bb681a16]{width:%?275?%;height:%?87?%}.tabmenu[data-v-bb681a16]{background-color:#e31f26;width:%?65?%;height:%?65?%;border-radius:50%;display:flex;justify-content:center;align-items:center}.tabmenu .icon[data-v-bb681a16]{width:%?30?%;height:%?30?%}.scrollview[data-v-bb681a16]{\n  /* margin: 0 40rpx; */}.form1[data-v-bb681a16]{border-top-left-radius:%?40?%;border-top-right-radius:%?40?%;display:flex;flex-direction:column;position:relative;padding:0 %?40?%;padding-top:%?50?%;color:#000!important}.form1 .form-title[data-v-bb681a16]{display:flex;justify-content:space-between;padding:%?40?% 0 0 0;color:#fff;font-weight:600;color:#000}.form1 .input-box[data-v-bb681a16]{margin:0;white-space:nowrap}.form1 .input-box .item1[data-v-bb681a16]{display:inline-flex;text-align:center;border-radius:%?12?%;width:%?190?%;box-sizing:border-box;border:#f8f8f8 2px solid;overflow:hidden;flex-direction:column;margin-right:%?30?%;padding:%?0?% 0;font-size:%?28?%;margin-top:%?20?%}.form1 .input-box .item1 .bottom[data-v-bb681a16]{background-color:#b7b3b3;padding:%?5?% %?10?%}.form1 .input-box .item1.active[data-v-bb681a16]{\n  /* border: #E31F26 2px solid; */background:#2979ff;color:#000}.form1 .input-box .item2[data-v-bb681a16]{text-align:center;border-radius:%?8?%;padding:%?20?%;box-sizing:border-box;overflow:hidden;display:inline-flex;align-items:center;justify-content:center;margin-right:%?30?%;font-size:%?28?%;margin-top:%?20?%}.form1 .input-box .item2.active[data-v-bb681a16]{background:#2979ff;color:#000}.form1 .input-box .btn[data-v-bb681a16]{border-radius:%?80?%;height:%?94?%;background-color:#e31f26;color:#000;font-size:%?40?%;margin:%?50?%}.form1 .input-box-wrap[data-v-bb681a16]{flex-wrap:wrap}.nav-title[data-v-bb681a16]{color:#e31f26;margin:%?20?%}.chart-box[data-v-bb681a16]{width:100%;height:%?480?%;margin-top:%?60?%}.chart-box-num[data-v-bb681a16]{display:flex;justify-content:space-around;width:100vw;margin-bottom:%?30?%;margin-top:%?30?%}.pdesc[data-v-bb681a16]{margin-top:%?30?%;margin-bottom:%?30?%;white-space:normal;width:%?710?%;padding-bottom:150px;font-size:14px;margin:0 auto;word-break:break-all}.chart-box-num .item[data-v-bb681a16]{border-right:#aaa 1px solid;width:30%;text-align:center}.chart-box-num .item[data-v-bb681a16]:last-child{border-right:none}.chart-box-btn[data-v-bb681a16]{display:flex;justify-content:space-between;margin:%?20?% %?60?%}.chart-box-btn .item.active[data-v-bb681a16]{color:#e31f26;border-bottom:#e31f26 2px solid}.num-box[data-v-bb681a16]{display:flex;flex-direction:column;justify-content:center;align-items:center}.navbar[data-v-bb681a16]{display:flex;justify-content:space-around;background-color:#000;\n  /* position: fixed;\n\tbottom: 50px;\n\twidth: 100vw; */align-items:center;padding:%?20?% 0;position:fixed;bottom:0;width:100vw\n  /* \tz-index: 99999; */}.navbar .btn-red[data-v-bb681a16]{width:%?242?%;height:%?81?%;border-radius:%?14?%;color:#000;display:flex;justify-content:center;align-items:center;background-color:#c41a1f;font-size:%?24?%;flex-direction:column}.navbar .btn-green[data-v-bb681a16]{width:%?242?%;height:%?81?%;border-radius:%?14?%;color:#000;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#3ea971;font-size:%?24?%}.CanvasBox[data-v-bb681a16]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center}',""]),t.exports=e},"327a":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("266f")),r={name:"u-safe-bottom",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{safeAreaBottomHeight:0,isNvue:!1}},computed:{style:function(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},mounted:function(){}};e.default=r},"33ea":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{value:{type:[String,Number,null],default:uni.$u.props.tabbar.value},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.tabbar.safeAreaInsetBottom},border:{type:Boolean,default:uni.$u.props.tabbar.border},zIndex:{type:[String,Number],default:uni.$u.props.tabbar.zIndex},activeColor:{type:String,default:uni.$u.props.tabbar.activeColor},inactiveColor:{type:String,default:uni.$u.props.tabbar.inactiveColor},fixed:{type:Boolean,default:uni.$u.props.tabbar.fixed},placeholder:{type:Boolean,default:uni.$u.props.tabbar.placeholder}}};e.default=i},3877:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.transition.show},mode:{type:String,default:uni.$u.props.transition.mode},duration:{type:[String,Number],default:uni.$u.props.transition.duration},timingFunction:{type:String,default:uni.$u.props.transition.timingFunction}}};e.default=i},3974:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c7eb")),r=i(a("1da1"));a("a9e3"),a("14d9");var o=a("9652"),s=a("b72e"),c={name:"klinechart",props:{currency_name:{type:String,default:""},legal_name:{type:String,default:""},pid:{type:Number,default:0},row:{type:String,default:"40"},precision:{type:Number,default:4}},data:function(){return{intervals:o.intervals,currentIntervalIndex:0,chartTypes:o.chartTypes,currentChartTypeIndex:0,shapes:o.shapes,chartData:{precision:4,historyData:[],updateData:{},chartType:null,createShapeName:null},period:"",dataList:[],current_type:0,current:0,times:[{label:"1M",value:1},{label:"15M",value:15},{label:"30M",value:30},{label:"1H",value:60},{label:"1D",value:"d"}],shishi:{},symbol:"",timer:null}},created:function(){clearInterval(this.timer),this.getHistoryData(),this.symbol=this.legal_name},watch:{pid:function(){clearInterval(this.timer),this.getHistoryData()}},destroyed:function(){clearInterval(this.timer)},methods:{changeType:function(t){this.chartData.chartType=this.chartTypes[t].value,this.current_type=t},getHistoryData:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a,i,r,o;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.http.post("index/api/getkdata",{pid:t.pid,num:60,interval:t.times[t.current].value});case 2:for(o in a=e.sent,i=JSON.parse(s.Base64.decode(a)),t.shishi=i.topdata,t.$emit("getSokcetData",t.shishi),r=[],i.items)r.push({timestamp:1e3*Number(i.items[o][0]),open:Number(i.items[o][1]),close:Number(i.items[o][2]),high:Number(i.items[o][3]),low:Number(i.items[o][4])});t.chartData.historyData=r,clearInterval(t.timer),t.setInterl();case 11:case"end":return e.stop()}}),e)})))()},setInterl:function(){var t=this;this.timer=setInterval((function(){t.getHistoryData()}),3e3)},selectTime:function(t){this.current=t,this.getHistoryData()},changeChartType:function(t){},createShape:function(t){}}};e.default=c},"3f78":function(t,e,a){var i,n,r,o=a("7037").default;a("6c57"),a("d81d"),a("d3b7"),a("159b"),a("14d9"),a("fb6a"),a("e6e1"),a("a9e3"),a("aff5"),a("99af"),a("d9e2"),a("d401"),a("7a82"),a("a4d3"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0"),a("ac1f"),a("466d"),a("5319"),a("c975"),a("07ac"),a("131a"),a("3410"),a("b636"),a("944a"),a("0c47"),a("23dc"),a("26e9"),a("e25e"),a("a630"),a("00b4"),a("f8c9"),a("4ae1"),a("4ec9"),a("cb29"),a("b64b"),a("4de4"),a("e439"),a("dbb4"),a("1d1c"),a("7db0"),a("c740"),a("a434"),a("5d41"),a("2ca0"),a("2af1"),function(a,s){"object"==o(e)&&"undefined"!=typeof t?s(e):(n=[e],i=s,r="function"===typeof i?i.apply(e,n):i,void 0===r||(t.exports=r))}(0,(function(t){"use strict";var e={name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldCheckParamCount:!0,shouldOhlc:!0,plots:[{key:"bbi",title:"BBI: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=Math.max.apply(null,a),n=[],r=[];return t.map((function(e,o){var s={},c=e.close;if(a.forEach((function(e,a){n[a]=(n[a]||0)+c,e-1>o||(r[a]=n[a]/e,n[a]-=t[o-(e-1)].close)})),o>=i-1){var l=0;r.forEach((function(t){l+=t})),s.bbi=l/4}return s}))}},a={name:"DMA",shortName:"DMA",calcParams:[10,50,10],plots:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=Math.max(a[0],a[1]),n=0,r=0,o=0,s=[];return t.forEach((function(e,c){var l,u,h={},d=e.close;if(n+=d,r+=d,a[0]-1>c||(l=n/a[0],n-=t[c-(a[0]-1)].close),a[1]-1>c||(u=r/a[1],r-=t[c-(a[1]-1)].close),c>=i-1){var f=l-u;h.dma=f,o+=f,i+a[2]-2>c||(h.ama=o/a[2],o-=s[c-(a[2]-1)].dma)}s.push(h)})),s}},i={name:"DMI",shortName:"DMI",calcParams:[14,6],plots:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=0,r=0,o=0,s=0,c=0,l=0,u=0,h=[];return t.forEach((function(e,d){var f={},p=t[d-1]||e,v=p.close,_=e.high,m=e.low,y=_-m,g=Math.abs(_-v),x=Math.abs(v-m),b=_-p.high,S=p.low-m,w=Math.max(Math.max(y,g),x),k=b>0&&b>S?b:0,C=S>0&&S>b?S:0;if(i+=w,n+=k,r+=C,d>=a[0]-1){d>a[0]-1?(o=o-o/a[0]+w,s=s-s/a[0]+k,c=c-c/a[0]+C):(o=i,s=n,c=r);var A=0,E=0;0!==o&&(A=100*s/o,E=100*c/o),f.pdi=A,f.mdi=E;var P=0;E+A!==0&&(P=Math.abs(E-A)/(E+A)*100),l+=P,2*a[0]-2>d||(f.adx=u=d>2*a[0]-2?(u*(a[0]-1)+P)/a[0]:l/a[0],2*a[0]+a[1]-3>d||(f.adxr=(h[d-(a[1]-1)].adx+u)/2))}h.push(f)})),h}},n={name:"MACD",shortName:"MACD",calcParams:[12,26,9],plots:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,color:function(t,e){var a=(t.current.technicalIndicatorData||{}).macd;return a>0?e.bar.upColor:0>a?e.bar.downColor:e.bar.noChangeColor},isStroke:function(t){return(t.current.technicalIndicatorData||{}).macd>(t.prev.technicalIndicatorData||{}).macd}}],calcTechnicalIndicator:function(t,e){var a,i,n=e.params,r=0,o=0,s=0,c=0,l=Math.max(n[0],n[1]);return t.map((function(t,e){var u={},h=t.close;return r+=h,n[0]-1>e||(a=e>n[0]-1?(2*h+(n[0]-1)*a)/(n[0]+1):r/n[0]),n[1]-1>e||(i=e>n[1]-1?(2*h+(n[1]-1)*i)/(n[1]+1):r/n[1]),l-1>e||(u.dif=o=a-i,s+=o,l+n[2]-2>e||(u.macd=2*(o-(c=e>l+n[2]-2?(2*o+c*(n[2]-1))/(n[2]+1):s/n[2])),u.dea=c)),u}))}},r={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],plots:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=Math.ceil(a[1]/2.5+1),n=Math.ceil(a[2]/2.5+1),r=Math.ceil(a[3]/2.5+1),o=Math.ceil(a[4]/2.5+1),s=0,c=[],l=0,u=[],h=0,d=[],f=0,p=[],v=[];return t.forEach((function(e,_){var m={},y=t[_-1]||e,g=(y.high+y.close+y.low+y.open)/4,x=Math.max(0,e.high-g),b=Math.max(0,g-e.low);a[0]-1>_||(m.cr=0!==b?x/b*100:0,s+=m.cr,l+=m.cr,h+=m.cr,f+=m.cr,a[0]+a[1]-2>_||(c.push(s/a[1]),a[0]+a[1]+i-3>_||(m.ma1=c[c.length-1-i]),s-=v[_-(a[1]-1)].cr),a[0]+a[2]-2>_||(u.push(l/a[2]),a[0]+a[2]+n-3>_||(m.ma2=u[u.length-1-n]),l-=v[_-(a[2]-1)].cr),a[0]+a[3]-2>_||(d.push(h/a[3]),a[0]+a[3]+r-3>_||(m.ma3=d[d.length-1-r]),h-=v[_-(a[3]-1)].cr),a[0]+a[4]-2>_||(p.push(f/a[4]),a[0]+a[4]+o-3>_||(m.ma4=p[p.length-1-o]),f-=v[_-(a[4]-1)].cr)),v.push(m)})),v}},s={name:"AO",shortName:"AO",calcParams:[5,34],shouldCheckParamCount:!0,plots:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,color:function(t,e){return(t.current.technicalIndicatorData||{}).ao>(t.prev.technicalIndicatorData||{}).ao?e.bar.upColor:e.bar.downColor},isStroke:function(t){return(t.current.technicalIndicatorData||{}).ao>(t.prev.technicalIndicatorData||{}).ao}}],calcTechnicalIndicator:function(t,e){var a=e.params,i=Math.max(a[0],a[1]),n=0,r=0,o=0,s=0;return t.map((function(e,c){var l={},u=(e.low+e.high)/2;if(n+=u,r+=u,c>=a[0]-1){o=n/a[0];var h=t[c-(a[0]-1)];n-=(h.low+h.high)/2}if(c>=a[1]-1){s=r/a[1];var d=t[c-(a[1]-1)];r-=(d.low+d.high)/2}return i-1>c||(l.ao=o-s),l}))}},c={name:"CCI",shortName:"CCI",calcParams:[20],plots:[{key:"cci",title:"CCI: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=a[0]-1,n=0,r=[];return t.map((function(e,o){var s={},c=(e.high+e.low+e.close)/3;if(n+=c,r.push(c),o>=i){var l=n/a[0],u=r.slice(o-i,o+1),h=0;u.forEach((function(t){h+=Math.abs(t-l)}));var d=h/a[0];s.cci=0!==d?(c-l)/d/.015:0,n-=(t[o-i].high+t[o-i].low+t[o-i].close)/3}return s}))}},l={name:"RSI",shortName:"RSI",calcParams:[6,12,24],shouldCheckParamCount:!1,plots:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t,e){var a=e+1;return{key:"rsi".concat(a),title:"RSI".concat(a,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var a=e.params,i=e.plots,n=[],r=[];return t.map((function(e,o){var s={},c=e.close-(t[o-1]||e).close;return a.forEach((function(e,a){if(c>0?n[a]=(n[a]||0)+c:r[a]=(r[a]||0)+Math.abs(c),o>=e-1){s[i[a].key]=0!==r[a]?100-100/(1+n[a]/r[a]):0;var l=t[o-(e-1)],u=l.close-(t[o-e]||l).close;u>0?n[a]-=u:r[a]-=Math.abs(u)}})),s}))}};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER;return t.forEach((function(t){e=Math.max(t.high,e),a=Math.min(t.low,a)})),{hn:e,ln:a}}var h={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],plots:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=[];return t.forEach((function(e,n){var r={},o=e.close;if(n>=a[0]-1){var s=u(t.slice(n-(a[0]-1),n+1)),c=s.ln,l=s.hn-c;r.k=((a[1]-1)*(i[n-1].k||50)+(o-c)/(0===l?1:l)*100)/a[1],r.d=((a[2]-1)*(i[n-1].d||50)+r.k)/a[2],r.j=3*r.k-2*r.d}i.push(r)})),i}},d={name:"WR",shortName:"WR",calcParams:[6,10,14],shouldCheckParamCount:!1,plots:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t,e){return{key:"wr".concat(e+1),title:"WR".concat(e+1,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var a=e.params,i=e.plots;return t.map((function(e,n){var r={},o=e.close;return a.forEach((function(e,a){var s=e-1;if(n>=s){var c=u(t.slice(n-s,n+1)),l=c.hn,h=l-c.ln;r[i[a].key]=0===h?0:(o-l)/h*100}})),r}))}},f={name:"BOLL",shortName:"BOLL",calcParams:[20,{value:2,allowDecimal:!0}],precision:2,shouldOhlc:!0,plots:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=a[0]-1,n=0;return t.map((function(e,r){var o={};if(n+=e.close,r>=i){o.mid=n/a[0];var s=function(t,e){var a=t.length,i=0;t.forEach((function(t){var a=t.close-e;i+=a*a}));var n=i>0,r=Math.sqrt((i=Math.abs(i))/a);return n?r:-1*r}(t.slice(r-i,r+1),o.mid);o.up=o.mid+a[1]*s,o.dn=o.mid-a[1]*s,n-=t[r-i].close}return o}))}},p={name:"SAR",shortName:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,plots:[{key:"sar",title:"SAR: ",type:"circle",color:function(t,e){var a=t.current,i=a.kLineData||{};return(i.high+i.low)/2>(a.technicalIndicatorData||{}).sar?e.circle.upColor:e.circle.downColor}}],calcTechnicalIndicator:function(t,e){var a=e.params,i=a[0]/100,n=a[1]/100,r=a[2]/100,o=i,s=-100,c=!1,l=0;return t.map((function(e,a){var u=l,h=e.high,d=e.low;if(c){(-100===s||h>s)&&(s=h,o=Math.min(o+n,r)),l=u+o*(s-u);var f=Math.min(t[Math.max(1,a)-1].low,d);l>e.low?(l=s,o=i,s=-100,c=!c):l>f&&(l=f)}else{(-100===s||s>d)&&(s=d,o=Math.min(o+n,r)),l=u+o*(s-u);var p=Math.max(t[Math.max(1,a)-1].high,h);e.high>l?(l=s,o=0,s=-100,c=!c):p>l&&(l=p)}return{sar:l}}))}},v={technicalIndicatorExtensions:{},shapeExtensions:{},addTechnicalIndicatorTemplate:function(t){var e=this;t&&[].concat(t).forEach((function(t){t.name&&(e.technicalIndicatorExtensions[t.name]=t)}))},addShapeTemplate:function(t){var e=this;t&&[].concat(t).forEach((function(t){t.name&&(e.shapeExtensions[t.name]=t)}))}};function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var a=0;e.length>a;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,a){return e&&m(t.prototype,e),a&&m(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t){return g="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)},g(t)}function x(t,e){if(k(t)&&k(e))for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&a in t){var i=t[a],n=e[a];k(n)&&k(i)&&!S(n)&&!S(i)?x(i,n):A(e[a])&&(t[a]=e[a])}}function b(t){if(!k(t))return t;var e;for(var a in e=S(t)?[]:{},t)if(Object.prototype.hasOwnProperty.call(t,a)){var i=t[a];e[a]=k(i)?b(i):i}return e}function S(t){return"[object Array]"===Object.prototype.toString.call(t)}function w(t){return t&&"function"==typeof t}function k(t){return!!t&&"object"===g(t)}function C(t){return"number"==typeof t&&!isNaN(t)}function A(t){return null!=t}function E(t){return"boolean"==typeof t}function P(t){return"string"==typeof t}var I="stroke",M="fill",T="dash",D="solid",O="left",L="right",R="normal",B="percentage",F="log",z="candle_solid",j="area",N="always",H="rect",V="standard",Y="circle",W="rect",$="triangle",U="diamond",X="custom",q="point",G="top",K={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:T,dashValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:T,dashValue:[2,2]}},candle:{margin:{top:.2,bottom:.1},type:z,bar:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#999999"},area:{lineSize:2,lineColor:"#2196F3",value:"close",backgroundColor:[{offset:0,color:"rgba(33, 150, 243, 0.01)"},{offset:1,color:"rgba(33, 150, 243, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888",line:{show:!0,style:T,dashValue:[4,4],size:1},text:{show:!0,size:12,paddingLeft:2,paddingTop:2,paddingRight:2,paddingBottom:2,color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:N,showType:V,labels:["时间: ","开: ","收: ","高: ","低: ","成交量: "],values:null,defaultValue:"n/a",rect:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:6,offsetLeft:8,offsetTop:8,offsetRight:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",backgroundColor:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:8,marginTop:6,marginRight:8,marginBottom:0}}},technicalIndicator:{margin:{top:.2,bottom:.1},bar:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},line:{size:1,colors:["#FF9600","#9D65C9","#2196F3","#E11D74","#01C5C4"]},circle:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},lastValueMark:{show:!1,text:{show:!1,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:3,paddingTop:2,paddingRight:3,paddingBottom:2,borderRadius:2}},tooltip:{showRule:N,showType:V,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginTop:6,marginRight:8,marginBottom:0,marginLeft:8}}},xAxis:{show:!0,height:null,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",paddingTop:3,paddingBottom:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,width:null,type:R,position:L,inside:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:3,paddingRight:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:T,dashValue:[4,2],size:1,color:"#76808F"},text:{show:!0,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderColor:"#686D76",borderRadius:2,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:T,dashValue:[4,2],size:1,color:"#76808F"},text:{show:!0,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderRadius:2,borderColor:"#686D76",backgroundColor:"#686D76"}}},shape:{point:{backgroundColor:"#2196F3",borderColor:"rgba(33, 150, 243, 0.35)",borderSize:1,radius:5,activeBackgroundColor:"#2196F3",activeBorderColor:"rgba(33, 150, 243, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:D,color:"#2196F3",size:1,dashValue:[2,2]},polygon:{style:I,stroke:{style:D,size:1,color:"#2196F3",dashValue:[2,2]},fill:{color:"#2196F3"}},arc:{style:I,stroke:{style:D,size:1,color:"#2196F3",dashValue:[2,2]},fill:{color:"#2196F3"}},text:{style:M,color:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",offset:[0,0]}},annotation:{position:G,offset:[20,0],symbol:{type:U,size:8,color:"#2196F3",activeSize:10,activeColor:"#FF9600"}},tag:{position:q,offset:0,line:{show:!0,style:T,dashValue:[4,2],size:1,color:"#2196F3"},text:{color:"#FFFFFF",backgroundColor:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderRadius:2,borderSize:1,borderColor:"#2196F3"},mark:{offset:0,color:"#FFFFFF",backgroundColor:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderRadius:2,borderSize:1,borderColor:"#2196F3"}}};function Z(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--";if(k(t)){var i=t[e];if(A(i))return i}return a}function J(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MM-DD hh:mm";if(C(e)){var i=t.format(new Date(e)),n=i.split(", "),r=n[0].split("/"),o={YYYY:r[2],MM:r[0],DD:r[1],"hh:mm":"24"===n[1].match(/^[\d]{2}/)[0]?n[1].replace(/^[\d]{2}/,"00"):n[1]};return a.replace(/YYYY|MM|DD|(hh:mm)/g,(function(t){return o[t]}))}return"--"}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=+t;return(a||0===a)&&C(a)?a.toFixed(e):"".concat(a)}function tt(t){return C(+t)?t>1e9?"".concat(+(t/1e9).toFixed(3),"B"):t>1e6?"".concat(+(t/1e6).toFixed(3),"M"):t>1e3?"".concat(+(t/1e3).toFixed(3),"K"):t:"--"}function et(t,e){return null==e&&(e=10),+(t=(+t).toFixed(e=Math.min(Math.max(0,e),20)))}function at(t){return Math.log(t)/Math.log(10)}function it(t){return Math.pow(10,t)}var nt={ZOOM:"zoom",SCROLL:"scroll",CROSSHAIR:"crosshair",TOOLTIP:"tooltip",PANE_DRAG:"pane_drag"};function rt(t){return Object.values(nt).indexOf(t)>-1}var ot=function(){function t(e){_(this,t),this._chartStore=e,this._dateTimeFormat=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalDataSpace=0,this._dataSpace=6,this._barSpace=this._calcBarSpace(),this._offsetRightSpace=50,this._offsetRightBarCount=this._offsetRightSpace/this._dataSpace,this._leftMinVisibleBarCount=2,this._rightMinVisibleBarCount=2,this._from=0,this._to=0,this._preOffsetRightBarCount=0}return y(t,[{key:"_calcBarSpace",value:function(){return Math.max(1,Math.min(Math.floor(.82*this._dataSpace),Math.floor(this._dataSpace)-1))}},{key:"adjustFromTo",value:function(){var t=this._chartStore.dataList().length,e=this._totalDataSpace/this._dataSpace,a=e-Math.min(this._leftMinVisibleBarCount,t);this._offsetRightBarCount>a&&(this._offsetRightBarCount=a);var i=-t+Math.min(this._rightMinVisibleBarCount,t);i>this._offsetRightBarCount&&(this._offsetRightBarCount=i),this._to=Math.round(this._offsetRightBarCount+t+.5),this._from=Math.round(this._to-e)-1,this._to>t&&(this._to=t),0>this._from&&(this._from=0),this._chartStore.adjustVisibleDataList(),0===this._from&&this._more&&!this._loading&&w(this._loadMoreCallback)&&(this._loading=!0,this._loadMoreCallback(Z(this._chartStore.dataList()[0],"timestamp")))}},{key:"setMore",value:function(t){this._more=t}},{key:"setLoading",value:function(t){this._loading=t}},{key:"dateTimeFormat",value:function(){return this._dateTimeFormat}},{key:"setTimezone",value:function(t){var e;try{e=new Intl.DateTimeFormat("en",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){}e&&(this._dateTimeFormat=e)}},{key:"timezone",value:function(){return this._dateTimeFormat.resolvedOptions().timeZone}},{key:"dataSpace",value:function(){return this._dataSpace}},{key:"barSpace",value:function(){return this._barSpace}},{key:"halfBarSpace",value:function(){return this._barSpace/2}},{key:"setDataSpace",value:function(t,e){1>t||t>50||this._dataSpace===t||(this._dataSpace=t,this._barSpace=this._calcBarSpace(),e&&e(),this.adjustFromTo(),this._chartStore.crosshairStore().recalculate(!0),this._chartStore.invalidate())}},{key:"setTotalDataSpace",value:function(t){this._totalDataSpace!==t&&(this._totalDataSpace=t,this.adjustFromTo(),this._chartStore.crosshairStore().recalculate(!0))}},{key:"setOffsetRightSpace",value:function(t,e){this._offsetRightSpace=t,this._offsetRightBarCount=t/this._dataSpace,e&&(this.adjustFromTo(),this._chartStore.crosshairStore().recalculate(!0),this._chartStore.invalidate())}},{key:"resetOffsetRightSpace",value:function(){this.setOffsetRightSpace(this._offsetRightSpace)}},{key:"offsetRightSpace",value:function(){return this._offsetRightSpace}},{key:"offsetRightBarCount",value:function(){return this._offsetRightBarCount}},{key:"setOffsetRightBarCount",value:function(t){this._offsetRightBarCount=t}},{key:"setLeftMinVisibleBarCount",value:function(t){this._leftMinVisibleBarCount=t}},{key:"setRightMinVisibleBarCount",value:function(t){this._rightMinVisibleBarCount=t}},{key:"from",value:function(){return this._from}},{key:"to",value:function(){return this._to}},{key:"startScroll",value:function(){this._preOffsetRightBarCount=this._offsetRightBarCount}},{key:"scroll",value:function(t,e){if(this._scrollEnabled){var a=t/this._dataSpace;this._chartStore.actionStore().execute(nt.SCROLL,{barCount:a,distance:t}),this._offsetRightBarCount=this._preOffsetRightBarCount-a,this.adjustFromTo();var i=e||this._chartStore.crosshairStore().get();this._chartStore.crosshairStore().set(i,!0),this._chartStore.invalidate()}}},{key:"getDataByDataIndex",value:function(t){return this._chartStore.dataList()[t]}},{key:"coordinateToFloatIndex",value:function(t){var e=this._chartStore.dataList().length;return Math.round(1e6*(e+this._offsetRightBarCount-(this._totalDataSpace-t)/this._dataSpace))/1e6}},{key:"dataIndexToTimestamp",value:function(t){var e=this.getDataByDataIndex(t);if(e)return e.timestamp}},{key:"timestampToDataIndex",value:function(t){return 0===this._chartStore.dataList().length?0:function(t,e,a){var i=0,n=0;for(n=t.length-1;i!==n;){var r=Math.floor((n+i)/2),o=n-i,s=t[r][e];if(a===t[i][e])return i;if(a===t[n][e])return n;if(a===s)return r;if(a>s?i=r:n=r,2>=o)break}return i}(this._chartStore.dataList(),"timestamp",t)}},{key:"dataIndexToCoordinate",value:function(t){var e=this._chartStore.dataList().length;return this._totalDataSpace-(e+this._offsetRightBarCount-t-.5)*this._dataSpace}},{key:"coordinateToDataIndex",value:function(t){return Math.ceil(this.coordinateToFloatIndex(t))-1}},{key:"zoom",value:function(t,e){var a=this;if(this._zoomEnabled){if(!e||!A(e.x)){var i=this._chartStore.crosshairStore().get();e={x:A(i.x)?i.x:this._totalDataSpace/2}}this._chartStore.actionStore().execute(nt.ZOOM,{coordinate:e,scale:t});var n=this.coordinateToFloatIndex(e.x);this.setDataSpace(this._dataSpace+t*(this._dataSpace/10),(function(){a._offsetRightBarCount+=n-a.coordinateToFloatIndex(e.x)}))}}},{key:"setZoomEnabled",value:function(t){this._zoomEnabled=t}},{key:"zoomEnabled",value:function(){return this._zoomEnabled}},{key:"setScrollEnabled",value:function(t){this._scrollEnabled=t}},{key:"scrollEnabled",value:function(){return this._scrollEnabled}},{key:"setLoadMoreCallback",value:function(t){this._loadMoreCallback=t}},{key:"clear",value:function(){this._more=!0,this._loading=!0,this._from=0,this._to=0}}]),t}();function st(t,e){return st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},st(t,e)}function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}function lt(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}function ht(t,e,a,i,n,r,o){try{var s=t[r](o),c=s.value}catch(t){return void a(t)}s.done?e(c):Promise.resolve(c).then(i,n)}var dt={exports:{}};!function(t){var e=function(t){var e,a=Object.prototype,i=a.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,a){return t[e]=a}}function u(t,e,a,i){var n=Object.create((e&&e.prototype instanceof m?e:m).prototype),r=new I(i||[]);return n._invoke=function(t,e,a){var i=d;return function(n,r){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===n)throw r;return T()}for(a.method=n,a.arg=r;;){var o=a.delegate;if(o){var s=A(o,a);if(s){if(s===_)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===d)throw i=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=p;var c=h(t,e,a);if("normal"===c.type){if(i=a.done?v:f,c.arg===_)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(i=v,a.method="throw",a.arg=c.arg)}}}(t,a,r),n}function h(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",_={};function m(){}function y(){}function g(){}var x={};l(x,r,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(M([])));S&&S!==a&&i.call(S,r)&&(x=S);var w=g.prototype=m.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function a(n,r,s,c){var l=h(t[n],t,r);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,s,c)}),(function(t){a("throw",t,s,c)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return a("throw",t,s,c)}))}c(l.arg)}var n;this._invoke=function(t,i){function r(){return new e((function(e,n){a(t,i,e,n)}))}return n=n?n.then(r,r):r()}}function A(t,a){var i=t.iterator[a.method];if(i===e){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=e,A(t,a),"throw"===a.method))return _;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var n=h(i,t.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,_;var r=n.arg;return r?r.done?(a[t.resultName]=r.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,_):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,_)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function M(t){if(t){var a=t[r];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function a(){for(;++n<t.length;)if(i.call(t,n))return a.value=t[n],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}return{next:T}}function T(){return{value:e,done:!0}}return y.prototype=g,l(w,"constructor",g),l(g,"constructor",y),y.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,a,i,n,r){void 0===r&&(r=Promise);var o=new C(u(e,a,i,n),r);return t.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(w),l(w,c,"Generator"),l(w,r,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var i=e.pop();if(i in t)return a.value=i,a.done=!1,a}return a.done=!0,a}},t.values=M,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(i,n){return s.type="throw",s.arg=t,a.next=i,n&&(a.method="next",a.arg=e),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(this.prev>=o.tryLoc){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(o.catchLoc>this.prev)return n(o.catchLoc,!0);if(o.finallyLoc>this.prev)return n(o.finallyLoc)}else if(c){if(o.catchLoc>this.prev)return n(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(o.finallyLoc>this.prev)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(this.prev>=n.tryLoc&&i.call(n,"finallyLoc")&&n.finallyLoc>this.prev){var r=n;break}}!r||"break"!==t&&"continue"!==t||r.tryLoc>e||e>r.finallyLoc||(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),P(a),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var n=i.arg;P(a)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,a,i){return this.delegate={iterator:M(t),resultName:a,nextLoc:i},"next"===this.method&&(this.arg=e),_}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==("undefined"===typeof globalThis?"undefined":o(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(dt);var ft=dt.exports,pt="line",vt="circle",_t={PRICE:"price",VOLUME:"volume",NORMAL:"normal"};function mt(t,e,a,i,n,r){var o=r.color,s=r.isStroke,c={prev:{kLineData:t[a-1],technicalIndicatorData:e[a-1]},current:{kLineData:t[a],technicalIndicatorData:e[a]},next:{kLineData:t[a+1],technicalIndicatorData:e[a+1]}};return A(i.color)&&(o=w(i.color)?i.color(c,n)||r.color:i.color||r.color),A(i.isStroke)&&(s=w(i.isStroke)?i.isStroke(c):i.isStroke),{color:o,isStroke:s}}var yt=function(){function t(e){var a=e.name,i=e.shortName,n=e.series,r=e.calcParams,o=e.plots,s=e.precision,c=e.shouldCheckParamCount,l=e.shouldOhlc,u=e.shouldFormatBigNumber,h=e.minValue,d=e.maxValue,f=e.styles;_(this,t),this.name=a||"",this.shortName=i||a||"",this.series=-1!==Object.values(_t).indexOf(n)?n:_t.NORMAL,this.precision=C(s)&&s>=0?s:4,this._precisionFlag=!1,this.calcParams=S(r)?r:[],this.plots=S(o)?o:[],this.shouldCheckParamCount=!E(c)||c,this.shouldOhlc=!!E(l)&&l,this.shouldFormatBigNumber=!!E(u)&&u,this.minValue=h,this.maxValue=d,this.styles=f,this.result=[]}var e,a;return y(t,[{key:"_createParams",value:function(t){return t.map((function(t){return k(t)?t.value:t}))}},{key:"setShortName",value:function(t){return this.shortName!==t&&(this.shortName=t,!0)}},{key:"setPrecision",value:function(t,e){return!(!C(t)||0>t||e&&(!e||this._precisionFlag))&&(this.precision=parseInt(t,10),e||(this._precisionFlag=!0),!0)}},{key:"setCalcParams",value:function(t){if(!S(t))return!1;if(this.shouldCheckParamCount&&t.length!==this.calcParams.length)return!1;for(var e=[],a=0;t.length>a;a++){var i=t[a],n=void 0,r=void 0;k(i)?(n=i.value,r=i.allowDecimal):(n=i,r=!1);var o=this.calcParams[a];if(k(o)&&E(o.allowDecimal)&&(r=o.allowDecimal),!C(n)||0>=n||!r&&parseInt(n,10)!==n)return!1;e.push({allowDecimal:r,value:n})}this.calcParams=e;var s=this.regeneratePlots(this._createParams(e));return s&&S(s)&&(this.plots=s),!0}},{key:"setShouldOhlc",value:function(t){return!(!E(t)||this.shouldOhlc===t)&&(this.shouldOhlc=t,!0)}},{key:"setShouldFormatBigNumber",value:function(t){return!(!E(t)||this.shouldFormatBigNumber===t)&&(this.shouldFormatBigNumber=t,!0)}},{key:"setStyles",value:function(t,e){return!!k(t)&&(this.styles||(this.styles={margin:b(e.margin),bar:b(e.bar),line:b(e.line),circle:b(e.circle)}),x(this.styles,t),!0)}},{key:"calc",value:(e=ft.mark((function t(e){return ft.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.calcTechnicalIndicator(e,{params:this._createParams(this.calcParams),plots:this.plots});case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:this.result=t.t0;case 6:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,a=arguments;return new Promise((function(i,n){var r=e.apply(t,a);function o(t){ht(r,i,n,o,s,"next",t)}function s(t){ht(r,i,n,o,s,"throw",t)}o(void 0)}))},function(t){return a.apply(this,arguments)})},{key:"calcTechnicalIndicator",value:function(t,e){}},{key:"regeneratePlots",value:function(t){}}]),t}();function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);e>a;a++)i[a]=t[a];return i}var xt=function(){function t(e){_(this,t),this._chartStore=e,this._templates=this._createTemplates(),this._instances=new Map}return y(t,[{key:"_createTechInfo",value:function(t){return{name:t.name,shortName:t.shortName,series:t.series,calcParams:t.calcParams,shouldCheckParamCount:t.shouldCheckParamCount,shouldOhlc:t.shouldOhlc,shouldFormatBigNumber:t.shouldFormatBigNumber,precision:t.precision,styles:t.styles,plots:t.plots,result:t.result||[]}}},{key:"_createTemplates",value:function(){var t={},e=v.technicalIndicatorExtensions;for(var a in e){var i=this._createTemplateInstance(e[a]);i&&(t[a]=i)}return t}},{key:"_createTemplateInstance",value:function(t){var e=t.name,a=t.shortName,i=t.series,n=t.calcParams,r=t.plots,o=t.precision,s=t.shouldCheckParamCount,c=t.shouldOhlc,l=t.shouldFormatBigNumber,u=t.minValue,h=t.maxValue,d=t.styles,f=t.calcTechnicalIndicator,p=t.regeneratePlots,v=t.createToolTipDataSource,m=t.render;if(!e||!w(f))return null;var g=function(t){ct(p,t);var f=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(p);function p(){return _(this,p),f.call(this,{name:e,shortName:a,series:i,calcParams:n,plots:r,precision:o,shouldCheckParamCount:s,shouldOhlc:c,shouldFormatBigNumber:l,minValue:u,maxValue:h,styles:d})}return y(p)}(yt);return g.prototype.calcTechnicalIndicator=f,w(p)&&(g.prototype.regeneratePlots=p),w(v)&&(g.prototype.createToolTipDataSource=v),w(m)&&(g.prototype.render=m),new g}},{key:"addTemplate",value:function(t){var e=this;t.forEach((function(t){var a=e._createTemplateInstance(t||{});a&&(e._templates[a.name]=a)}))}},{key:"hasTemplate",value:function(t){return!!this._templates[t]}},{key:"getTemplateInfo",value:function(t){if(!A(t)){var e={};for(var a in this._templates)e[a]=this._createTechInfo(this._templates[a]);return e}var i=this._templates[t];return i?this._createTechInfo(i):{}}},{key:"addInstance",value:function(t,e,a){var i=e.name,n=e.calcParams,r=e.precision,o=e.shouldOhlc,s=e.shouldFormatBigNumber,c=e.styles,l=this._instances.get(t);if(!l||!l.has(i)){l||(l=new Map,this._instances.set(t,l));var u=this._templates[i],h=Object.create(Object.getPrototypeOf(u));for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(h[d]=u[d]);return h.setCalcParams(n),h.setPrecision(r),h.setShouldOhlc(o),h.setShouldFormatBigNumber(s),h.setStyles(c,this._chartStore.styleOptions().technicalIndicator),a||l.clear(),l.set(i,h),h.calc(this._chartStore.dataList())}}},{key:"instances",value:function(t){return this._instances.get(t)||new Map}},{key:"removeInstance",value:function(t,e){var a=!1;if(this._instances.has(t)){var i=this._instances.get(t);A(e)?i.has(e)&&(i.delete(e),a=!0):(i.clear(),a=!0),0===i.size&&this._instances.delete(t)}return a}},{key:"hasInstance",value:function(t){return this._instances.has(t)}},{key:"calcInstance",value:function(t,e){var a=this,i=[];if(A(t))if(A(e)){var n=this._instances.get(e);n&&n.has(t)&&i.push(n.get(t).calc(this._chartStore.dataList()))}else this._instances.forEach((function(e){e.has(t)&&i.push(e.get(t).calc(a._chartStore.dataList()))}));else this._instances.forEach((function(t){t.forEach((function(t){i.push(t.calc(a._chartStore.dataList()))}))}));return Promise.all(i)}},{key:"getInstanceInfo",value:function(t,e){var a=this,i=function(t){var i,n=[],r=function(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return gt(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?gt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return t.length>i?{done:!1,value:t[i++]}:{done:!0}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw r}}}}(t);try{for(r.s();!(i=r.n()).done;){var o=i.value[1];if(o){var s=a._createTechInfo(o);if(o.name===e)return s;n.push(s)}}}catch(t){r.e(t)}finally{r.f()}return n};if(!A(t)){var n={};return this._instances.forEach((function(t,e){n[e]=i(t)})),n}return this._instances.has(t)?i(this._instances.get(t)):{}}},{key:"setSeriesPrecision",value:function(t,e){var a=function(a){a.series===_t.PRICE&&a.setPrecision(t,!0),a.series===_t.VOLUME&&a.setPrecision(e,!0)};for(var i in this._templates)a(this._templates[i]);this._instances.forEach((function(t){t.forEach((function(t){a(t)}))}))}},{key:"override",value:function(t,e){var a=this,i=t.name,n=t.shortName,r=t.calcParams,o=t.precision,s=t.shouldOhlc,c=t.shouldFormatBigNumber,l=t.styles,u=this._chartStore.styleOptions().technicalIndicator,h=new Map;if(A(e))this._instances.has(e)&&h.set(e,this._instances.get(e));else{h=this._instances;var d=this._templates[i];d&&(d.setCalcParams(r),d.setShortName(n),d.setPrecision(o),d.setShouldOhlc(s),d.setShouldFormatBigNumber(c),d.setStyles(l,u))}var f=!1,p=[];if(h.forEach((function(t){if(t.has(i)){var e=t.get(i),h=e.setShortName(n),d=e.setCalcParams(r),v=e.setPrecision(o),_=e.setShouldOhlc(s),m=e.setShouldFormatBigNumber(c),y=e.setStyles(l,u);(h||d||v||_||m||y)&&(f=!0),d&&p.push(e.calc(a._chartStore.dataList()))}})),f)return Promise.all(p)}}]),t}();function bt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function St(t,e){e.forEach((function(e){var a=e.key,i=e.fn;w(i)&&(t[a]=i)}))}var wt=function(){function t(e){var a=e.id,i=e.chartStore,n=e.xAxis,r=e.yAxis;_(this,t),this._id=a,this._chartStore=i,this._xAxis=n,this._yAxis=r,this._styles=null}return y(t,[{key:"draw",value:function(t){}},{key:"setStyles",value:function(t,e){return!!k(t)&&(this._styles||(this._styles=b(e)),x(this._styles,t),!0)}},{key:"id",value:function(){return this._id}},{key:"styles",value:function(){return this._styles}},{key:"setYAxis",value:function(t){t&&(this._yAxis=t)}},{key:"checkEventCoordinateOn",value:function(t){}},{key:"onClick",value:function(t){}},{key:"onRightClick",value:function(t){}},{key:"onMouseEnter",value:function(t){}},{key:"onMouseLeave",value:function(t){}}]),t}();function kt(t,e,a,i){t.fillStyle=e,t.beginPath(),t.arc(a.x,a.y,i,0,2*Math.PI),t.closePath(),t.fill()}function Ct(t,e,a){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),r=Math.abs(a.x-t.x);return Math.abs(i*Math.abs(a.y-t.y)-r*n)/2}function At(t,e){var a=t.x-e.x;if(0!==a){var i=(t.y-e.y)/a;return{k:i,b:t.y-i*t.x}}}function Et(t,e,a){return Pt(At(t,e),a)}function Pt(t,e){return t?e.x*t.k+t.b:e.y}function It(t,e,a){if(!a||!t||!e)return!1;if(t.x===e.x)return 2>Math.abs(a.x-t.x);var i=At(t,e),n=Pt(i,a),r=Math.abs(n-a.y);return 4>r*r/(i.k*i.k+1)}function Mt(t,e,a){return!!It(t,e,a)&&(t.x===e.x?e.y>t.y?2>t.y-a.y:2>a.y-t.y:e.x>t.x?2>t.x-a.x:2>a.x-t.x)}function Tt(t,e,a){return!!It(t,e,a)&&(t.x===e.x?4>Math.abs(t.y-a.y)+Math.abs(e.y-a.y)-Math.abs(t.y-e.y):4>Math.abs(t.x-a.x)+Math.abs(e.x-a.x)-Math.abs(t.x-e.x))}function Dt(t,e,a){if(!a)return!1;var i=a.x-t.x,n=a.y-t.y;return!(i*i+n*n>e*e)}function Ot(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[];if(t.length>1)if(t[0].x===t[1].x){var n=0,r=e.y;if(i.push([{x:t[0].x,y:n},{x:t[0].x,y:r}]),t.length>2){i.push([{x:t[2].x,y:n},{x:t[2].x,y:r}]);for(var o=t[0].x-t[2].x,s=0;a>s;s++){var c=o*(s+1);i.push([{x:t[0].x+c,y:n},{x:t[0].x+c,y:r}])}}}else{var l=0,u=e.x,h=At(t[0],t[1]),d=h.k,f=h.b;if(i.push([{x:l,y:l*d+f},{x:u,y:u*d+f}]),t.length>2){var p=t[2].y-d*t[2].x;i.push([{x:l,y:l*d+p},{x:u,y:u*d+p}]);for(var v=f-p,_=0;a>_;_++){var m=f+v*(_+1);i.push([{x:l,y:l*d+m},{x:u,y:u*d+m}])}}}return i}function Lt(t,e,a){t.save(),t.lineWidth%2&&t.translate(.5,.5),t.beginPath();var i=!0;e.forEach((function(e){e&&(i?(t.moveTo(e.x,e.y),i=!1):t.lineTo(e.x,e.y))})),a(),t.restore()}function Rt(t,e){Lt(t,e,(function(){t.closePath(),t.stroke()}))}function Bt(t,e){Lt(t,e,(function(){t.closePath(),t.fill()}))}function Ft(t,e,a,i){t.beginPath();var n=t.lineWidth%2?.5:0;t.moveTo(a,e+n),t.lineTo(i,e+n),t.stroke(),t.closePath()}function zt(t,e,a,i){t.beginPath();var n=t.lineWidth%2?.5:0;t.moveTo(e+n,a),t.lineTo(e+n,i),t.stroke(),t.closePath()}function jt(t,e){Lt(t,e,(function(){t.stroke(),t.closePath()}))}function Nt(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||2}function Ht(t,e){return Math.round(t.measureText(e).width)}function Vt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Helvetica Neue";return"".concat(e," ").concat(t,"px ").concat(a)}function Yt(t,e,a){t.font=Vt(a.size,a.weight,a.family);var i=Ht(t,e);return a.paddingLeft+a.paddingRight+i+2*(a.borderSize||0)}function Wt(t){return t.paddingTop+t.paddingBottom+t.size+2*(t.borderSize||0)}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);e>a;a++)i[a]=t[a];return i}var Ut="point",Xt="none",qt={NORMAL:"normal",WEAK_MAGNET:"weak_magnet",STRONG_MAGNET:"strong_magnet"},Gt=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t){var i,n=t.id,r=t.name,o=t.totalStep,s=t.chartStore,c=t.xAxis,l=t.yAxis,u=t.points,h=t.styles,d=t.lock,f=t.mode,p=t.data;return _(this,a),(i=e.call(this,{id:n,chartStore:s,xAxis:c,yAxis:l}))._name=r,i._totalStep=o,i._lock=d,i._mode=qt.NORMAL,i.setMode(f),i._data=p,i._drawStep=1,i._points=[],i.setPoints(u),i.setStyles(h,s.styleOptions().shape),i._prevPressPoint=null,i._prevPoints=null,i._coordinates=[],i}return y(a,[{key:"setPoints",value:function(t){if(S(t)&&t.length>0){var e;this._totalStep-1>t.length?(this._drawStep=t.length+1,this._points=b(t),e=t.length):(this._drawStep=-1,this._points=t.slice(0,this._totalStep-1),e=this._totalStep-1);for(var a=0;e>a;a++)this.performEventMoveForDrawing({step:a+2,mode:this._mode,points:this._points,movePoint:this._points[a],xAxis:this._xAxis,yAxis:this._yAxis});-1===this._drawStep&&this.performEventPressedMove({mode:this._mode,points:this._points,pressPointIndex:this._points.length-1,pressPoint:this._points[this._points.length-1],xAxis:this._xAxis,yAxis:this._yAxis})}}},{key:"_timestampOrDataIndexToCoordinateX",value:function(t){var e=t.timestamp,a=t.dataIndex;return e&&(a=this._chartStore.timeScaleStore().timestampToDataIndex(e)),this._xAxis.convertToPixel(a)}},{key:"_drawLines",value:function(t,e,a,i){t.save(),t.strokeStyle=a.color||i.color,t.lineWidth=a.size||i.size,a.style===T&&t.setLineDash(a.dashValue||i.dashValue),e.forEach((function(e){var a,i;if(e.length>1)switch((a=e[0]).x===(i=e[1]).x?2:a.y===i.y?1:0){case 0:jt(t,e);break;case 1:Ft(t,e[0].y,e[0].x,e[1].x);break;case 2:zt(t,e[0].x,e[0].y,e[1].y)}})),t.restore()}},{key:"_drawContinuousLines",value:function(t,e,a,i){t.save(),t.strokeStyle=a.color||i.color,t.lineWidth=a.size||i.size,a.style===T&&t.setLineDash(a.dashValue||i.dashValue),e.forEach((function(e){e.length>0&&jt(t,e)})),t.restore()}},{key:"_drawPolygons",value:function(t,e,a,i){var n;if(t.save(),a.style===M)t.fillStyle=(a.fill||i.fill).color,n=Bt;else{var r=a.stroke||i.stroke;r.style===T&&t.setLineDash(r.dashValue),t.lineWidth=r.size,t.strokeStyle=r.color,n=Rt}e.forEach((function(e){e.length>0&&n(t,e)})),t.restore()}},{key:"_drawArcs",value:function(t,e,a,i){if(t.save(),a.style===M)t.fillStyle=(a.fill||i.fill).color;else{var n=a.stroke||i.stroke;n.style===T&&t.setLineDash(n.dashValue),t.lineWidth=n.size,t.strokeStyle=n.color}e.forEach((function(e){var i=e.x,n=e.y,r=e.radius,o=e.startAngle,s=e.endAngle;t.beginPath(),t.arc(i,n,r,o,s),a.style===M?(t.closePath(),t.fill()):(t.stroke(),t.closePath())})),t.restore()}},{key:"_drawText",value:function(t,e,a,i){var n;t.save(),a.style===I?(t.strokeStyle=a.color||i.color,n=t.strokeText):(t.fillStyle=a.color||i.color,n=t.fillText),t.font=Vt(a.size||i.size,a.family||i.family,a.weight||i.weight);var r=a.offset||i.offset||[0,0];e.forEach((function(e){n.call(t,e.text,e.x+r[1],e.y+r[0])})),t.restore()}},{key:"draw",value:function(t){var e=this;this._coordinates=this._points.map((function(t){var a=t.value;return{x:e._timestampOrDataIndexToCoordinateX({timestamp:t.timestamp,dataIndex:t.dataIndex}),y:e._yAxis.convertToPixel(a)}}));var a=this._styles||this._chartStore.styleOptions().shape;if(1!==this._drawStep&&this._coordinates.length>0){var i={width:this._xAxis.width(),height:this._yAxis.height()},n={price:this._chartStore.pricePrecision(),volume:this._chartStore.volumePrecision()};this._shapeDataSources=this.createShapeDataSource({step:this._drawStep,mode:this._mode,points:this._points,coordinates:this._coordinates,viewport:{width:this._xAxis.width(),height:this._yAxis.height()},precision:{price:this._chartStore.pricePrecision(),volume:this._chartStore.volumePrecision()},styles:a,xAxis:this._xAxis,yAxis:this._yAxis,data:this._data})||[],this._shapeDataSources.forEach((function(i){var n=i.styles,r=i.dataSource,o=void 0===r?[]:r;if(i.isDraw)switch(i.type){case"line":e._drawLines(t,o,n||a.line,a.line);break;case"continuous_line":e._drawContinuousLines(t,o,n||a.line,a.line);break;case"polygon":e._drawPolygons(t,o,n||a.polygon,a.polygon);break;case"arc":e._drawArcs(t,o,n||a.arc,a.arc);break;case"text":e._drawText(t,o,n||a.text,a.text)}})),this.drawExtend&&(t.save(),this.drawExtend({ctx:t,dataSource:this._shapeDataSources,styles:a,viewport:i,precision:n,mode:this._mode,xAxis:this._xAxis,yAxis:this._yAxis,data:this._data}),t.restore())}var r=this._chartStore.shapeStore().mouseOperate();(r.hover.id===this._id&&r.hover.element!==Xt||r.click.id===this._id&&r.click.element!==Xt||this.isDrawing())&&this._coordinates.forEach((function(i,n){var o=i.x,s=i.y,c=a.point.radius,l=a.point.backgroundColor,u=a.point.borderColor,h=a.point.borderSize;r.hover.id===e._id&&r.hover.element===Ut&&n===r.hover.elementIndex&&(c=a.point.activeRadius,l=a.point.activeBackgroundColor,u=a.point.activeBorderColor,h=a.point.activeBorderSize),kt(t,u,{x:o,y:s},c+h),kt(t,l,{x:o,y:s},c)}))}},{key:"setLock",value:function(t){this._lock=t}},{key:"name",value:function(){return this._name}},{key:"lock",value:function(){return this._lock}},{key:"totalStep",value:function(){return this._totalStep}},{key:"mode",value:function(){return this._mode}},{key:"setMode",value:function(t){Object.values(qt).indexOf(t)>-1&&(this._mode=t)}},{key:"setData",value:function(t){return t!==this._data&&(this._data=t,!0)}},{key:"data",value:function(){return this._data}},{key:"points",value:function(){return this._points}},{key:"isDrawing",value:function(){return-1!==this._drawStep}},{key:"isStart",value:function(){return 1===this._drawStep}},{key:"checkEventCoordinateOn",value:function(t){for(var e=this._styles||this._chartStore.styleOptions().shape,a=this._coordinates.length-1;a>-1;a--)if(Dt(this._coordinates[a],e.point.radius,t))return{id:this._id,element:Ut,elementIndex:a,instance:this};if(this._shapeDataSources){var i,n=function(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return $t(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?$t(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return t.length>i?{done:!1,value:t[i++]}:{done:!0}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw r}}}}(this._shapeDataSources);try{for(n.s();!(i=n.n()).done;){var r=i.value,o=r.key,s=r.type,c=r.dataSource,l=void 0===c?[]:c;if(r.isCheck)for(var u=0;l.length>u;u++)if(this.checkEventCoordinateOnShape({key:o,type:s,dataSource:l[u],eventCoordinate:t}))return{id:this._id,element:"other",elementIndex:u,instance:this}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_performValue",value:function(t,e,a){var i=this._yAxis.convertFromPixel(t);if(this._mode===qt.NORMAL||"candle_pane"!==a)return i;var n=this._chartStore.timeScaleStore().getDataByDataIndex(e);if(!n)return i;if(i>n.high){if(this._mode===qt.WEAK_MAGNET){var r=this._yAxis.convertToPixel(n.high);return this._yAxis.convertFromPixel(r-8)>i?n.high:i}return n.high}if(n.low>i){if(this._mode===qt.WEAK_MAGNET){var o=this._yAxis.convertToPixel(n.low);return i>this._yAxis.convertFromPixel(o-8)?n.low:i}return n.low}var s=Math.max(n.open,n.close);if(i>s)return n.high-i>i-s?s:n.high;var c=Math.min(n.open,n.close);return c>i?c-i>i-n.low?n.low:c:i-c>s-i?s:c}},{key:"mouseMoveForDrawing",value:function(t,e){var a=this._xAxis.convertFromPixel(t.x),i=this._chartStore.timeScaleStore().dataIndexToTimestamp(a),n=this._performValue(t.y,a,e.paneId);this._points[this._drawStep-1]={timestamp:i,value:n,dataIndex:a},this.performEventMoveForDrawing({step:this._drawStep,mode:this._mode,points:this._points,movePoint:{timestamp:i,value:n,dataIndex:a},xAxis:this._xAxis,yAxis:this._yAxis}),this.onDrawing({id:this._id,step:this._drawStep,points:this._points})}},{key:"mouseLeftButtonDownForDrawing",value:function(){this._drawStep===this._totalStep-1?(this._drawStep=-1,this._chartStore.shapeStore().progressInstanceComplete(),this.onDrawEnd({id:this._id,points:this._points})):this._drawStep++}},{key:"mousePressedPointMove",value:function(t,e){var a=this._chartStore.shapeStore().mouseOperate(),i=a.click.elementIndex;if(!this._lock&&a.click.id===this._id&&a.click.element===Ut&&-1!==i){var n=this._xAxis.convertFromPixel(t.x),r=this._chartStore.timeScaleStore().dataIndexToTimestamp(n),o=this._performValue(t.y,n,e.paneId);this._points[i].timestamp=r,this._points[i].dataIndex=n,this._points[i].value=o,this.performEventPressedMove({points:this._points,mode:this._mode,pressPointIndex:i,pressPoint:{dataIndex:n,timestamp:r,value:o},xAxis:this._xAxis,yAxis:this._yAxis}),this.onPressedMove({id:this._id,element:Ut,points:this._points,event:e})}}},{key:"startPressedOtherMove",value:function(t){var e=this._xAxis.convertFromPixel(t.x),a=this._yAxis.convertFromPixel(t.y);this._prevPressPoint={dataIndex:e,value:a},this._prevPoints=b(this._points)}},{key:"mousePressedOtherMove",value:function(t,e){var a=this;if(this._prevPressPoint){var i=this._xAxis.convertFromPixel(t.x),n=this._yAxis.convertFromPixel(t.y),r=i-this._prevPressPoint.dataIndex,o=n-this._prevPressPoint.value;this._points=this._prevPoints.map((function(t){A(t.dataIndex)||(t.dataIndex=a._chartStore.timeScaleStore().timestampToDataIndex(t.timestamp));var e=t.dataIndex+r;return{dataIndex:e,value:t.value+o,timestamp:a._chartStore.timeScaleStore().dataIndexToTimestamp(e)}})),this.onPressedMove({id:this._id,element:"other",points:this._points,event:e})}}},{key:"onDrawStart",value:function(t){}},{key:"onDrawing",value:function(t){}},{key:"onDrawEnd",value:function(t){}},{key:"onPressedMove",value:function(t){}},{key:"onRemove",value:function(t){}},{key:"checkEventCoordinateOnShape",value:function(t){}},{key:"createShapeDataSource",value:function(t){}},{key:"performEventMoveForDrawing",value:function(t){}},{key:"performEventPressedMove",value:function(t){}}]),a}(wt);function Kt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Zt(t){for(var e=1;arguments.length>e;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(a),!0).forEach((function(e){bt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Kt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Jt(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return Qt(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Qt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return t.length>i?{done:!1,value:t[i++]}:{done:!0}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw r}}}}function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);e>a;a++)i[a]=t[a];return i}var te=function(){function t(e){_(this,t),this._chartStore=e,this._templates=this._createTemplates(),this._mouseOperate={click:{id:"",element:Xt,elementIndex:-1},hover:{id:"",element:Xt,elementIndex:-1}},this._progressInstance=null,this._pressedInstance=null,this._instances=new Map}return y(t,[{key:"_createTemplates",value:function(){var t={},e=v.shapeExtensions;for(var a in e){var i=this._createTemplateClass(e[a]);i&&(t[a]=i)}return t}},{key:"_createTemplateClass",value:function(t){var e=t.name,a=t.totalStep,i=t.checkEventCoordinateOnShape,n=t.createShapeDataSource,r=t.performEventPressedMove,o=t.performEventMoveForDrawing,s=t.drawExtend;if(!(e&&C(a)&&w(i)&&w(n)))return null;var c=function(t){ct(n,t);var i=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(n);function n(t){var r=t.id,o=t.chartStore,s=t.xAxis,c=t.yAxis,l=t.points,u=t.styles,h=t.lock,d=t.mode,f=t.data;return _(this,n),i.call(this,{id:r,name:e,totalStep:a,chartStore:o,xAxis:s,yAxis:c,points:l,styles:u,lock:h,mode:d,data:f})}return y(n)}(Gt);return c.prototype.checkEventCoordinateOnShape=i,c.prototype.createShapeDataSource=n,w(r)&&(c.prototype.performEventPressedMove=r),w(o)&&(c.prototype.performEventMoveForDrawing=o),w(s)&&(c.prototype.drawExtend=s),c}},{key:"addTemplate",value:function(t){var e=this;t.forEach((function(t){var a=e._createTemplateClass(t);a&&(e._templates[t.name]=a)}))}},{key:"getTemplate",value:function(t){return this._templates[t]}},{key:"getInstance",value:function(t){var e,a=Jt(this._instances);try{for(a.s();!(e=a.n()).done;){var i=(e.value[1]||[]).find((function(e){return e.id()===t}));if(i)return i}}catch(t){a.e(t)}finally{a.f()}return null}},{key:"hasInstance",value:function(t){return!!this.getInstance(t)}},{key:"addInstance",value:function(t,e){t.isDrawing()?this._progressInstance={paneId:e,instance:t,fixed:A(e)}:(this._instances.has(e)||this._instances.set(e,[]),this._instances.get(e).push(t)),this._chartStore.invalidate(1)}},{key:"progressInstance",value:function(){return this._progressInstance||{}}},{key:"progressInstanceComplete",value:function(){var t=this.progressInstance(),e=t.instance,a=t.paneId;e&&!e.isDrawing()&&(this._instances.has(a)||this._instances.set(a,[]),this._instances.get(a).push(e),this._progressInstance=null)}},{key:"updateProgressInstance",value:function(t,e){var a=this.progressInstance(),i=a.instance;i&&!a.fixed&&(i.setYAxis(t),this._progressInstance.paneId=e)}},{key:"pressedInstance",value:function(){return this._pressedInstance||{}}},{key:"updatePressedInstance",value:function(t,e,a){this._pressedInstance=t?{instance:t,paneId:e,element:a}:null}},{key:"instances",value:function(t){return this._instances.get(t)||[]}},{key:"setInstanceOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=t.styles,i=t.lock,n=t.mode,r=t.data,o=this._chartStore.styleOptions().shape,s=!1;if(A(e)){var c=this.getInstance(e);c&&(c.setLock(i),c.setMode(n),(c.setStyles(a,o)||c.setData(r))&&(s=!0))}else this._instances.forEach((function(t){t.forEach((function(t){t.setLock(i),t.setMode(n),(t.setStyles(a,o)||t.setData(r))&&(s=!0)}))}));s&&this._chartStore.invalidate(1)}},{key:"getInstanceInfo",value:function(t){var e=function(t){return{name:t.name(),id:t.id(),totalStep:t.totalStep(),lock:t.lock(),mode:t.mode(),points:t.points(),styles:t.styles(),data:t.data()}},a=this.progressInstance();if(!A(t)){var i={};return this._instances.forEach((function(t,n){i[n]=t.map((function(t){return e(t)})),a.paneId===n&&a.instance&&i[n].push(e(a.instance))})),i}if(a.instance&&a.instance.id()===t)return e(a.instance);var n=this.getInstance(t);return n?e(n):null}},{key:"removeInstance",value:function(t){var e=!1,a=this.progressInstance().instance;if(!a||A(t)&&a.id()!==t||(a.onRemove({id:a.id()}),this._progressInstance=null,e=!0),A(t)){var i,n=Jt(this._instances);try{for(n.s();!(i=n.n()).done;){var r=i.value,o=r[1]||[],s=o.findIndex((function(e){return e.id()===t}));if(s>-1){o[s].onRemove({id:o[s].id()}),o.splice(s,1),0===o.length&&this._instances.delete(r[0]),e=!0;break}}}catch(t){n.e(t)}finally{n.f()}}else this._instances.forEach((function(t){t.length>0&&t.forEach((function(t){t.onRemove({id:t.id()})}))})),this._instances.clear(),e=!0;e&&this._chartStore.invalidate(1)}},{key:"mouseOperate",value:function(){return this._mouseOperate}},{key:"setMouseOperate",value:function(t){var e=this._mouseOperate,a=e.hover,i=e.click;!t.hover||a.id===t.hover.id&&a.element===t.hover.element&&a.elementIndex===t.hover.elementIndex||(this._mouseOperate.hover=Zt({},t.hover)),!t.click||i.id===t.click.id&&i.element===t.click.element&&i.elementIndex===t.click.elementIndex||(this._mouseOperate.click=Zt({},t.click))}},{key:"isEmpty",value:function(){return 0===this._instances.size&&!this.progressInstance().instance}},{key:"isDrawing",value:function(){var t=this.progressInstance().instance;return t&&t.isDrawing()}},{key:"isPressed",value:function(){return!!this.pressedInstance().instance}}]),t}();function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);e>a;a++)i[a]=t[a];return i}function ae(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var ie=function(){function t(e){_(this,t),this._chartStore=e,this._annotations=new Map,this._visibleAnnotations=new Map,this._mouseOperate={id:""}}return y(t,[{key:"mouseOperate",value:function(){return this._mouseOperate}},{key:"setMouseOperate",value:function(t){t&&this._mouseOperate.id!==t.id&&(this._mouseOperate=function(t){for(var e=1;arguments.length>e;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(a),!0).forEach((function(e){bt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t))}},{key:"createVisibleAnnotations",value:function(){var t=this;this._visibleAnnotations.clear(),this._annotations.size>0&&this._chartStore.visibleDataList().forEach((function(e){var a=e.data,i=e.x;t._annotations.forEach((function(e,n){if(e.size>0){var r=e.get(a.timestamp)||[];if(r.length>0){var o,s=function(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return ee(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ee(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return t.length>i?{done:!1,value:t[i++]}:{done:!0}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw r}}}}(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.createSymbolCoordinate(i),t._visibleAnnotations.has(n)?t._visibleAnnotations.get(n).push(c):t._visibleAnnotations.set(n,[c])}}catch(t){s.e(t)}finally{s.f()}}}}))}))}},{key:"add",value:function(t,e){var a=this;this._annotations.has(e)||this._annotations.set(e,new Map),t.forEach((function(t){var i=a._annotations.get(e);i.has(t.id())?i.get(t.id()).push(t):i.set(t.id(),[t])})),this.createVisibleAnnotations(),this._chartStore.invalidate(1)}},{key:"get",value:function(t){return this._visibleAnnotations.get(t)}},{key:"remove",value:function(t,e){var a=!1;if(A(t)){if(this._annotations.has(t))if(A(e)){var i=this._annotations.get(t);[].concat(e).forEach((function(t){var e=t.timestamp;i.has(e)&&(a=!0,i.delete(e))})),0===i.size&&this._annotations.delete(t),a&&this.createVisibleAnnotations()}else a=!0,this._annotations.delete(t),this._visibleAnnotations.delete(t)}else a=!0,this._annotations.clear(),this._visibleAnnotations.clear();a&&this._chartStore.invalidate(1)}},{key:"isEmpty",value:function(){return 0===this._visibleAnnotations.size}}]),t}(),ne=function(){function t(e){_(this,t),this._chartStore=e,this._tags=new Map}return y(t,[{key:"_getById",value:function(t,e){var a=this.get(e);return a?a.get(t):null}},{key:"has",value:function(t,e){return!!this._getById(t,e)}},{key:"update",value:function(t,e,a){var i=this._getById(t,e);return!!i&&i.update(a)}},{key:"get",value:function(t){return this._tags.get(t)}},{key:"add",value:function(t,e){this._tags.has(e)||this._tags.set(e,new Map);var a=this._tags.get(e);t.forEach((function(t){a.set(t.id(),t)})),this._chartStore.invalidate(1)}},{key:"remove",value:function(t,e){var a=!1;if(A(t)){if(this._tags.has(t))if(A(e)){var i=this._tags.get(t);[].concat(e).forEach((function(t){i.has(t)&&(a=!0,i.delete(t))})),0===i.size&&this._tags.delete(t)}else a=!0,this._tags.delete(t)}else a=!0,this._tags.clear();a&&this._chartStore.invalidate(1)}}]),t}();function re(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function oe(t){for(var e=1;arguments.length>e;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?re(Object(a),!0).forEach((function(e){bt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var se=function(){function t(e){_(this,t),this._chartStore=e,this._crosshair={}}return y(t,[{key:"set",value:function(t,e){var a,i,n=this._chartStore.dataList(),r=t||{},o=n[i=A(r.x)?0>(a=this._chartStore.timeScaleStore().coordinateToDataIndex(r.x))?0:a>n.length-1?n.length-1:a:a=n.length-1],s=this._chartStore.timeScaleStore().dataIndexToCoordinate(a),c=this._crosshair.x,l=this._crosshair.y,u=this._crosshair.paneId;this._crosshair=oe(oe({},r),{},{realX:s,kLineData:o,realDataIndex:a,dataIndex:i}),o&&this._chartStore.crosshairChange(this._crosshair),c===r.x&&l===r.y&&u===r.paneId||e||this._chartStore.invalidate(1)}},{key:"recalculate",value:function(t){this.set(this._crosshair,t)}},{key:"get",value:function(){return this._crosshair}}]),t}(),ce=function(){function t(){_(this,t),this._observers=[]}return y(t,[{key:"subscribe",value:function(t){0>this._observers.indexOf(t)&&this._observers.push(t)}},{key:"unsubscribe",value:function(t){var e=this._observers.indexOf(t);e>-1?this._observers.splice(e,1):this._observers=[]}},{key:"execute",value:function(t){this._observers.forEach((function(e){e(t)}))}},{key:"hasObservers",value:function(){return this._observers.length>0}}]),t}(),le=function(){function t(){_(this,t),this._delegates=new Map}return y(t,[{key:"execute",value:function(t,e){this.has(t)&&this._delegates.get(t).execute(e)}},{key:"has",value:function(t){return this._delegates.has(t)&&this._delegates.get(t).hasObservers()}},{key:"subscribe",value:function(t,e){return!!rt(t)&&(this._delegates.has(t)||this._delegates.set(t,new ce),this._delegates.get(t).subscribe(e),!0)}},{key:"unsubscribe",value:function(t,e){if(rt(t)){var a=this._delegates.get(t);return a.unsubscribe(e),a.hasObservers()||this._delegates.delete(t),!0}return!1}}]),t}(),ue=function(){function t(e,a){_(this,t),this._handler=a,this._styleOptions=b(K),x(this._styleOptions,e),this._pricePrecision=2,this._volumePrecision=0,this._dataList=[],this._visibleDataList=[],this._dragPaneFlag=!1,this._timeScaleStore=new ot(this),this._technicalIndicatorStore=new xt(this),this._shapeStore=new te(this),this._annotationStore=new ie(this),this._tagStore=new ne(this),this._crosshairStore=new se(this),this._actionStore=new le}return y(t,[{key:"adjustVisibleDataList",value:function(){this._visibleDataList=[];for(var t=this._timeScaleStore.from(),e=this._timeScaleStore.to(),a=t;e>a;a++){var i=this._dataList[a],n=this._timeScaleStore.dataIndexToCoordinate(a);this._visibleDataList.push({index:a,x:n,data:i})}this._annotationStore.createVisibleAnnotations()}},{key:"styleOptions",value:function(){return this._styleOptions}},{key:"applyStyleOptions",value:function(t){x(this._styleOptions,t)}},{key:"pricePrecision",value:function(){return this._pricePrecision}},{key:"volumePrecision",value:function(){return this._volumePrecision}},{key:"setPriceVolumePrecision",value:function(t,e){this._pricePrecision=t,this._volumePrecision=e,this._technicalIndicatorStore.setSeriesPrecision(t,e)}},{key:"dataList",value:function(){return this._dataList}},{key:"visibleDataList",value:function(){return this._visibleDataList}},{key:"addData",value:function(t,e,a){if(k(t)){if(S(t)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(!E(a)||a);var i=0===this._dataList.length;this._dataList=t.concat(this._dataList),i&&this._timeScaleStore.resetOffsetRightSpace(),this._timeScaleStore.adjustFromTo()}else if(e<this._dataList.length)this._dataList[e]=t,this.adjustVisibleDataList();else{this._dataList.push(t);var n=this._timeScaleStore.offsetRightBarCount();0>n&&this._timeScaleStore.setOffsetRightBarCount(--n),this._timeScaleStore.adjustFromTo()}this._crosshairStore.recalculate(!0)}}},{key:"clearDataList",value:function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear()}},{key:"timeScaleStore",value:function(){return this._timeScaleStore}},{key:"technicalIndicatorStore",value:function(){return this._technicalIndicatorStore}},{key:"shapeStore",value:function(){return this._shapeStore}},{key:"annotationStore",value:function(){return this._annotationStore}},{key:"tagStore",value:function(){return this._tagStore}},{key:"crosshairStore",value:function(){return this._crosshairStore}},{key:"actionStore",value:function(){return this._actionStore}},{key:"invalidate",value:function(t){this._handler.invalidate(t)}},{key:"crosshairChange",value:function(t){this._handler.crosshair(t)}},{key:"dragPaneFlag",value:function(){return this._dragPaneFlag}},{key:"setDragPaneFlag",value:function(t){this._dragPaneFlag=t}}]),t}();function he(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}function de(){return de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var i=he(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(3>arguments.length?t:a):n.value}},de.apply(this,arguments)}function fe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.createElement(t);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a.style[i]=e[i]);return a}var pe=function(){function t(e){_(this,t),this._height=-1,this._container=e.container,this._chartStore=e.chartStore,this._initBefore(e),this._initElement(),this._mainWidget=this._createMainWidget(this._element,e),this._yAxisWidget=this._createYAxisWidget(this._element,e)}return y(t,[{key:"_initBefore",value:function(t){}},{key:"_initElement",value:function(){this._element=fe("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"});var t=this._container.lastChild;t?this._container.insertBefore(this._element,t):this._container.appendChild(this._element)}},{key:"_createMainWidget",value:function(t,e){}},{key:"_createYAxisWidget",value:function(t,e){}},{key:"width",value:function(){return this._element.offsetWidth}},{key:"setWidth",value:function(t,e){this._mainWidget.setWidth(t),this._yAxisWidget&&this._yAxisWidget.setWidth(e)}},{key:"height",value:function(){return this._height}},{key:"setHeight",value:function(t){this._height=t,this._mainWidget.setHeight(t),this._yAxisWidget&&this._yAxisWidget.setHeight(t)}},{key:"setOffsetLeft",value:function(t,e){this._mainWidget.setOffsetLeft(t),this._yAxisWidget&&this._yAxisWidget.setOffsetLeft(e)}},{key:"layout",value:function(){this._element.offsetHeight!==this._height&&(this._element.style.height="".concat(this._height,"px")),this._mainWidget.layout(),this._yAxisWidget&&this._yAxisWidget.layout()}},{key:"invalidate",value:function(t){this._yAxisWidget&&this._yAxisWidget.invalidate(t),this._mainWidget.invalidate(t)}},{key:"createHtml",value:function(t){var e=t.id,a=t.content,i=t.style;return"yAxis"===t.position?this._yAxisWidget&&this._yAxisWidget.createHtml({id:e,content:a,style:i}):this._mainWidget.createHtml({id:e,content:a,style:i})}},{key:"removeHtml",value:function(t){this._yAxisWidget&&this._yAxisWidget.removeHtml(t),this._mainWidget.removeHtml(t)}},{key:"getImage",value:function(t){var e=this._element.offsetWidth,a=this._element.offsetHeight,i=fe("canvas",{width:"".concat(e,"px"),height:"".concat(a,"px"),boxSizing:"border-box"}),n=i.getContext("2d"),r=Nt(i);i.width=e*r,i.height=a*r,n.scale(r,r);var o=this._mainWidget.getElement(),s=o.offsetWidth,c=o.offsetHeight,l=parseInt(o.style.left,10);if(n.drawImage(this._mainWidget.getImage(t),l,0,s,c),this._yAxisWidget){var u=this._yAxisWidget.getElement(),h=u.offsetWidth,d=u.offsetHeight,f=parseInt(u.style.left,10);n.drawImage(this._yAxisWidget.getImage(t),f,0,h,d)}return i}},{key:"destroy",value:function(){this._container.removeChild(this._element)}}]),t}();function ve(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var _e=function(){function t(e){_(this,t),this._width=0,this._height=0,this._initElement(e.container),this._mainView=this._createMainView(this._element,e),this._overlayView=this._createOverlayView(this._element,e),this._htmlBaseId=0,this._htmls=new Map}return y(t,[{key:"_initElement",value:function(t){this._element=fe("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box"}),t.appendChild(this._element)}},{key:"_createMainView",value:function(t,e){}},{key:"_createOverlayView",value:function(t,e){}},{key:"createHtml",value:function(t){var e=t.id,a=t.content,i=t.style,n=fe("div",function(t){for(var e=1;arguments.length>e;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(a),!0).forEach((function(e){bt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({boxSizing:"border-box",position:"absolute",zIndex:12},void 0===i?{}:i));if(P(a)){var r=a.replace(/(^\s*)|(\s*$)/g,"");n.innerHTML=r}else n.appendChild(a);var o=e||"html_".concat(++this._htmlBaseId);return this._htmls.has(o)?this._element.replaceChild(n,this._htmls.get(o)):this._element.appendChild(n),this._htmls.set(o,n),o}},{key:"removeHtml",value:function(t){var e=this;t?[].concat(t).forEach((function(t){var a=e._htmls.get(t);a&&(e._element.removeChild(a),e._htmls.delete(t))})):(this._htmls.forEach((function(t){e._element.removeChild(t)})),this._htmls.clear())}},{key:"getElement",value:function(){return this._element}},{key:"setWidth",value:function(t){this._width=t,this._mainView.setWidth(t),this._overlayView.setWidth(t)}},{key:"setHeight",value:function(t){this._height=t,this._mainView.setHeight(t),this._overlayView.setHeight(t)}},{key:"setOffsetLeft",value:function(t){this._element.style.left="".concat(t,"px")}},{key:"layout",value:function(){this._element.offsetWidth!==this._width&&(this._element.style.width="".concat(this._width,"px")),this._element.offsetHeight!==this._height&&(this._element.style.height="".concat(this._height,"px")),this._mainView.layout(),this._overlayView.layout()}},{key:"invalidate",value:function(t){switch(t){case 1:this._overlayView.flush();break;case 2:case 3:this._mainView.flush(),this._overlayView.flush()}}},{key:"getImage",value:function(t){var e=fe("canvas",{width:"".concat(this._width,"px"),height:"".concat(this._height,"px"),boxSizing:"border-box"}),a=e.getContext("2d"),i=Nt(e);return e.width=this._width*i,e.height=this._height*i,a.scale(i,i),a.drawImage(this._mainView.getImage(),0,0,this._width,this._height),t&&this._overlayView&&a.drawImage(this._overlayView.getImage(),0,0,this._width,this._height),e}}]),t}();function me(t){return window.requestAnimationFrame?window.requestAnimationFrame(t):window.setTimeout(t,20)}var ye=function(){function t(e,a){_(this,t),this._chartStore=a,this._initCanvas(e)}return y(t,[{key:"_initCanvas",value:function(t){this._canvas=fe("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._ctx=this._canvas.getContext("2d"),t.appendChild(this._canvas)}},{key:"_redraw",value:function(t){this._ctx.clearRect(0,0,this._canvas.offsetWidth,this._canvas.offsetHeight),t&&t(),this._draw()}},{key:"_draw",value:function(){}},{key:"setWidth",value:function(t){this._width=t}},{key:"setHeight",value:function(t){this._height=t}},{key:"layout",value:function(){var t=this;this._height!==this._canvas.offsetHeight||this._width!==this._canvas.offsetWidth?this._redraw((function(){var e=Nt(t._canvas);t._canvas.style.width="".concat(t._width,"px"),t._canvas.style.height="".concat(t._height,"px"),t._canvas.width=Math.floor(t._width*e),t._canvas.height=Math.floor(t._height*e),t._ctx.scale(e,e)})):this.flush()}},{key:"flush",value:function(){var t,e=this;this.requestAnimationId&&(t=this.requestAnimationId,window.cancelAnimationFrame||clearTimeout(t),window.cancelAnimationFrame(t),this.requestAnimationId=null),this.requestAnimationId=me((function(){e._redraw()}))}},{key:"getImage",value:function(){return this._canvas}}]),t}();var ge=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i,n,r,o){var s;return _(this,a),(s=e.call(this,t,i))._xAxis=n,s._yAxis=r,s._paneId=o,s}return y(a,[{key:"_draw",value:function(){this._ctx.globalCompositeOperation="destination-over",this._drawContent()}},{key:"_drawContent",value:function(){this._drawTechs(),this._drawGrid()}},{key:"_drawGrid",value:function(){var t=this,e=this._chartStore.styleOptions().grid;if(e.show){var a=e.horizontal;this._ctx.save(),a.show&&(this._ctx.strokeStyle=a.color,this._ctx.lineWidth=a.size,this._ctx.setLineDash(a.style===T?a.dashValue:[]),this._yAxis.ticks().forEach((function(e){Ft(t._ctx,e.y,0,t._width)})));var i=e.vertical;i.show&&(this._ctx.strokeStyle=i.color,this._ctx.lineWidth=i.size,this._ctx.setLineDash(i.style===T?i.dashValue:[]),this._xAxis.ticks().forEach((function(e){zt(t._ctx,e.x,0,t._height)}))),this._ctx.restore()}}},{key:"_drawTechs",value:function(){var t=this;this._ctx.globalCompositeOperation="source-over";var e=this._chartStore.styleOptions().technicalIndicator;this._chartStore.technicalIndicatorStore().instances(this._paneId).forEach((function(a){var i=a.plots,n=[],r=t._chartStore.dataList(),o=a.result,s=a.styles||e;a.render&&(t._ctx.save(),a.render({ctx:t._ctx,dataSource:{from:t._chartStore.timeScaleStore().from(),to:t._chartStore.timeScaleStore().to(),kLineDataList:t._chartStore.dataList(),technicalIndicatorDataList:o},viewport:{width:t._width,height:t._height,dataSpace:t._chartStore.timeScaleStore().dataSpace(),barSpace:t._chartStore.timeScaleStore().barSpace()},styles:s,xAxis:t._xAxis,yAxis:t._yAxis}),t._ctx.restore());var c=s.line.colors||[],l=c.length,u=t._yAxis.isCandleYAxis();t._ctx.lineWidth=1,t._drawGraphics((function(e,h,d,f,p){var v=o[h]||{},_=0;a.shouldOhlc&&!u&&t._drawCandleBar(e,f,p,h,d,s.bar,"ohlc"),i.forEach((function(a){var i=v[a.key],u=t._yAxis.convertToPixel(i);switch(a.type){case vt:if(A(i)){var d=mt(r,o,h,a,s,{color:s.circle.noChangeColor,isStroke:!0});t._drawCircle({x:e,y:u,radius:f,color:d.color,isStroke:d.isStroke})}break;case"bar":if(A(i)){var p;p=A(a.baseValue)?a.baseValue:t._yAxis.min();var m=t._yAxis.convertToPixel(p),y=Math.abs(m-u),g={x:e-f,width:2*f,height:Math.max(1,y)};g.y=u>m?m:1>y?m-1:u;var x=mt(r,o,h,a,s,{color:s.bar.noChangeColor});g.color=x.color,g.isStroke=x.isStroke,t._drawBar(g)}break;case pt:var b=null;if(A(i)&&(b={x:e,y:u}),n[_])n[_].coordinates.push(b);else{var S=mt(r,o,h,a,s,{color:c[_%l]});n[_]={color:S.color,coordinates:[b]}}_++}}))}),(function(){t._drawLines(n,s)}))})),this._ctx.globalCompositeOperation="destination-over"}},{key:"_drawGraphics",value:function(t,e){var a=this._chartStore.visibleDataList(),i=this._chartStore.timeScaleStore().barSpace(),n=this._chartStore.timeScaleStore().halfBarSpace();a.forEach((function(e,a){t(e.x,e.index,e.data,n,i,a)})),e&&e()}},{key:"_drawLines",value:function(t,e){var a=this;this._ctx.lineWidth=e.line.size,t.forEach((function(t){a._ctx.strokeStyle=t.color,jt(a._ctx,t.coordinates)}))}},{key:"_drawBar",value:function(t){t.isStroke?(this._ctx.strokeStyle=t.color,this._ctx.strokeRect(t.x+.5,t.y,t.width-1,t.height)):(this._ctx.fillStyle=t.color,this._ctx.fillRect(t.x,t.y,t.width,t.height))}},{key:"_drawCircle",value:function(t){this._ctx.strokeStyle=t.color,this._ctx.fillStyle=t.color,this._ctx.beginPath(),this._ctx.arc(t.x,t.y,t.radius,2*Math.PI,0,!0),t.isStroke?this._ctx.stroke():this._ctx.fill(),this._ctx.closePath()}},{key:"_drawCandleBar",value:function(t,e,a,i,n,r,o){var s=n.open,c=n.close,l=n.high,u=n.low;c>s?(this._ctx.strokeStyle=r.upColor,this._ctx.fillStyle=r.upColor):s>c?(this._ctx.strokeStyle=r.downColor,this._ctx.fillStyle=r.downColor):(this._ctx.strokeStyle=r.noChangeColor,this._ctx.fillStyle=r.noChangeColor);var h=this._yAxis.convertToPixel(s),d=this._yAxis.convertToPixel(c),f=this._yAxis.convertToPixel(l),p=this._yAxis.convertToPixel(u),v=Math.min(h,d),_=Math.max(h,d);this._ctx.fillRect(t-.5,f,1,v-f),this._ctx.fillRect(t-.5,_,1,p-_);var m=Math.max(1,_-v);switch(o){case z:this._ctx.fillRect(t-e,v,a,m);break;case"candle_stroke":this._ctx.strokeRect(t-e+.5,v,a-1,m);break;case"candle_up_stroke":c>s?this._ctx.strokeRect(t-e+.5,v,a-1,m):this._ctx.fillRect(t-e,v,a,m);break;case"candle_down_stroke":c>s?this._ctx.fillRect(t-e,v,a,m):this._ctx.strokeRect(t-e+.5,v,a-1,m);break;default:this._ctx.fillRect(t-.5,f,1,p-f),this._ctx.fillRect(t-e,h-.5,e,1),this._ctx.fillRect(t,d-.5,e,1)}}}]),a}(ye);function xe(t,e,a,i,n){t.fillStyle=e,t.fillText(n,a,i)}var be=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i,n,r,o){var s;return _(this,a),(s=e.call(this,t,i))._xAxis=n,s._yAxis=r,s._paneId=o,s}return y(a,[{key:"_draw",value:function(){this._ctx.textBaseline="alphabetic",this._drawTag(),this._drawShape(),this._drawAnnotation();var t=this._chartStore.crosshairStore().get();if(t.kLineData){var e=this._chartStore.styleOptions().crosshair;t.paneId===this._paneId&&this._drawCrosshairLine(e,"horizontal",t.y,0,this._width,Ft),t.paneId&&this._drawCrosshairLine(e,"vertical",t.realX,0,this._height,zt),this._drawTooltip(t,this._chartStore.technicalIndicatorStore().instances(this._paneId))}}},{key:"_drawAnnotation",value:function(){var t=this,e=this._chartStore.annotationStore().get(this._paneId);e&&e.forEach((function(e){e.draw(t._ctx)}))}},{key:"_drawTag",value:function(){var t=this,e=this._chartStore.tagStore().get(this._paneId);e&&e.forEach((function(e){e.drawMarkLine(t._ctx)}))}},{key:"_drawShape",value:function(){var t=this;this._chartStore.shapeStore().instances(this._paneId).forEach((function(e){e.draw(t._ctx)}));var e=this._chartStore.shapeStore().progressInstance();e.paneId===this._paneId&&e.instance.draw(this._ctx)}},{key:"_drawTooltip",value:function(t,e){var a=this._chartStore.styleOptions().technicalIndicator;this._drawBatchTechToolTip(t,e,a,0,this._shouldDrawTooltip(t,a.tooltip))}},{key:"_drawCrosshairLine",value:function(t,e,a,i,n,r){var o=t[e],s=o.line;t.show&&o.show&&s.show&&(this._ctx.save(),this._ctx.lineWidth=s.size,this._ctx.strokeStyle=s.color,s.style===T&&this._ctx.setLineDash(s.dashValue),r(this._ctx,a,i,n),this._ctx.restore())}},{key:"_drawBatchTechToolTip",value:function(t,e,a){var i=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0;if(r){var o=a.tooltip,s=n;e.forEach((function(e){i._drawTechTooltip(t,e,a,s),s+=o.text.marginTop+o.text.size+o.text.marginBottom}))}}},{key:"_drawTechTooltip",value:function(t,e,a){var i=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=a.tooltip,o=r.text,s=o.marginLeft,c=o.marginRight,l=o.size,u=o.color,h=0,d=o.marginTop+n,f=this._getTechTooltipData(t,e,a);if(this._ctx.textBaseline="top",this._ctx.font=Vt(l,o.weight,o.family),r.showName){var p=f.name,v=Ht(this._ctx,p);xe(this._ctx,u,h+=s,d,p),h+=v,r.showParams||(h+=c)}if(r.showParams){var _=f.calcParamText,m=Ht(this._ctx,_);r.showName||(h+=s),xe(this._ctx,u,h,d,_),h+=m+c}f.values.forEach((function(t){h+=s;var e="".concat(t.title).concat(t.value),a=Ht(i._ctx,e);xe(i._ctx,t.color||o.color,h,d,e),h+=a+c}))}},{key:"_shouldDrawTooltip",value:function(t,e){var a=e.showRule;return a===N||"follow_cross"===a&&!!t.paneId}},{key:"_getTechTooltipData",value:function(t,e,a){var i=this._chartStore.dataList(),n=e.result,r="",o=e.calcParams;if(o.length>0){var s=o.map((function(t){return k(t)?t.value:t}));r="(".concat(s.join(","),")")}var c=[];if(w(e.createToolTipDataSource))c=e.createToolTipDataSource({dataSource:{from:this._chartStore.timeScaleStore().from(),to:this._chartStore.timeScaleStore().to(),kLineDataList:this._chartStore.dataList(),technicalIndicatorDataList:n},viewport:{width:this._width,height:this._height,dataSpace:this._chartStore.timeScaleStore().dataSpace(),barSpace:this._chartStore.timeScaleStore().barSpace()},crosshair:t,technicalIndicator:e,xAxis:this._xAxis,yAxis:this._yAxis,defaultStyles:a})||[];else{var l=e.styles||a,u=n[t.dataIndex],h=e.precision,d=e.shouldFormatBigNumber,f=l.line.colors||[],p=f.length,v=0;e.plots.forEach((function(e){var r={};switch(e.type){case vt:r={color:l.circle.noChangeColor};break;case"bar":r={color:l.bar.noChangeColor};break;case pt:r={color:f[v%p]||a.tooltip.text.color},v++}var o=mt(i,n,t.dataIndex,e,l,r),s={};if(A(e.title)){var _=(u||{})[e.key];A(_)&&(_=Q(_,h),d&&(_=tt(_))),s.title=e.title,s.value=_||a.tooltip.defaultValue,s.color=o.color,c.push(s)}}))}return{values:c,name:e.shortName||e.name,calcParamText:r}}}]),a}(ye);var Se=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_createMainView",value:function(t,e){return new ge(t,e.chartStore,e.xAxis,e.yAxis,e.paneId)}},{key:"_createOverlayView",value:function(t,e){return new be(t,e.chartStore,e.xAxis,e.yAxis,e.paneId)}}]),a}(_e);function we(t,e,a,i,n,r,o,s,c){Ce(t,e,n,r,o,s,c),ke(t,a,i,n,r,o,s,c)}function ke(t,e,a,i,n,r,o,s){t.lineWidth=a,t.strokeStyle=e,Ae(t,i,n,r,o,s),t.stroke()}function Ce(t,e,a,i,n,r,o){t.fillStyle=e,Ae(t,a,i,n,r,o),t.fill()}function Ae(t,e,a,i,n,r){t.beginPath(),t.moveTo(e+r,a),t.arcTo(e+i,a,e+i,a+n,r),t.arcTo(e+i,a+n,e,a+n,r),t.arcTo(e,a+n,e,a,r),t.arcTo(e,a,e+i,a,r),t.closePath()}function Ee(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Pe(t){for(var e=1;arguments.length>e;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(a),!0).forEach((function(e){bt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ie=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i,n,r){var o;return _(this,a),(o=e.call(this,t,i))._yAxis=n,o._paneId=r,o}return y(a,[{key:"_draw",value:function(){var t=this._chartStore.styleOptions().yAxis;t.show&&(this._drawAxisLine(t),this._drawTickLines(t),this._drawTickLabels(t),this._drawTechLastValue(),this._drawLastPriceLabel())}},{key:"_drawAxisLine",value:function(t){var e,a=t.axisLine;a.show&&(this._ctx.strokeStyle=a.color,this._ctx.lineWidth=a.size,e=this._yAxis.isFromYAxisZero()?0:this._width-1,zt(this._ctx,e,0,this._height))}},{key:"_drawTickLines",value:function(t){var e=this,a=t.tickLine;if(a.show){this._ctx.lineWidth=a.size,this._ctx.strokeStyle=a.color;var i,n,r=a.length;this._yAxis.isFromYAxisZero()?(i=0,t.axisLine.show&&(i+=t.axisLine.size),n=i+r):(i=this._width,t.axisLine.show&&(i-=t.axisLine.size),n=i-r),this._yAxis.ticks().forEach((function(t){Ft(e._ctx,t.y,i,n)}))}}},{key:"_drawTickLabels",value:function(t){var e=this,a=t.tickText;if(a.show){var i,n=t.tickLine,r=n.show,o=n.length;this._yAxis.isFromYAxisZero()?(i=a.paddingLeft,t.axisLine.show&&(i+=t.axisLine.size),r&&(i+=o),this._ctx.textAlign="left"):(i=this._width-a.paddingRight,t.axisLine.show&&(i-=t.axisLine.size),r&&(i-=o),this._ctx.textAlign="right"),this._ctx.textBaseline="middle",this._ctx.font=Vt(a.size,a.weight,a.family),this._ctx.fillStyle=a.color,this._yAxis.ticks().forEach((function(t){e._ctx.fillText(t.v,i,t.y)})),this._ctx.textAlign="left"}}},{key:"_drawTechLastValue",value:function(){var t=this,e=this._chartStore.styleOptions().technicalIndicator,a=e.lastValueMark;if(a.show&&a.text.show){var i=this._chartStore.technicalIndicatorStore().instances(this._paneId),n=this._chartStore.dataList();i.forEach((function(i){var r=i.result||[],o=r.length,s=r[o-1]||{},c={prev:{kLineData:n[o-2],technicalIndicatorData:r[o-2]},current:{kLineData:n[o-1],technicalIndicatorData:s},next:{kLineData:null,technicalIndicatorData:null}},l=i.precision,u=i.styles||e,h=u.line.colors||[],d=h.length,f=0;i.plots.forEach((function(e){var n,r=s[e.key];switch(e.type){case vt:n=e.color&&e.color(c,u)||u.circle.noChangeColor;break;case"bar":n=e.color&&e.color(c,u)||u.bar.noChangeColor;break;case pt:n=h[f%d],f++}A(r)&&t._drawMarkLabel(r,l,i.shouldFormatBigNumber,Pe(Pe({},a.text),{},{backgroundColor:n}))}))}))}}},{key:"_drawLastPriceLabel",value:function(){if(this._yAxis.isCandleYAxis()){var t=this._chartStore.styleOptions().candle.priceMark,e=t.last;if(t.show&&e.show&&e.text.show){var a=this._chartStore.dataList(),i=a[a.length-1];if(i){var n,r=i.close,o=i.open;n=r>o?e.upColor:o>r?e.downColor:e.noChangeColor,this._drawMarkLabel(r,this._chartStore.pricePrecision(),!1,Pe(Pe({},e.text),{},{backgroundColor:n}))}}}}},{key:"_drawMarkLabel",value:function(t,e,a,i){var n,r=i.size,o=i.weight,s=i.family,c=i.color,l=i.backgroundColor,u=i.borderRadius,h=i.paddingLeft,d=i.paddingTop,f=i.paddingRight,p=i.paddingBottom,v=this._yAxis.convertToNicePixel(t);if(this._yAxis.yAxisType()===B){var _=((this._chartStore.visibleDataList()[0]||{}).data||{}).close;n="".concat(((t-_)/_*100).toFixed(2),"%")}else n=Q(t,e),a&&(n=tt(n));this._ctx.font=Vt(r,o,s);var m,y=Ht(this._ctx,n)+h+f,g=d+r+p;m=this._yAxis.isFromYAxisZero()?0:this._width-y,Ce(this._ctx,l,m,v-d-r/2,y,g,u),this._ctx.textBaseline="middle",xe(this._ctx,c,m+h,v,n)}}]),a}(ye);var Me=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i,n,r){var o;return _(this,a),(o=e.call(this,t,i))._yAxis=n,o._paneId=r,o}return y(a,[{key:"_draw",value:function(){this._ctx.textBaseline="middle",this._drawTag(),this._drawCrossHairLabel()}},{key:"_drawTag",value:function(){var t=this,e=this._chartStore.tagStore().get(this._paneId);e&&e.forEach((function(e){e.drawText(t._ctx)}))}},{key:"_drawCrossHairLabel",value:function(){var t=this._chartStore.crosshairStore().get();if(t.paneId===this._paneId&&0!==this._chartStore.dataList().length){var e=this._chartStore.styleOptions().crosshair,a=e.horizontal,i=a.text;if(e.show&&a.show&&i.show){var n,r,o=this._yAxis.convertFromPixel(t.y);if(this._yAxis.yAxisType()===B){var s=(this._chartStore.visibleDataList()[0]||{}).data||{};n="".concat(((o-s.close)/s.close*100).toFixed(2),"%")}else{var c=this._chartStore.technicalIndicatorStore().instances(this._paneId),l=0,u=!1;this._yAxis.isCandleYAxis()?l=this._chartStore.pricePrecision():c.forEach((function(t){l=Math.max(t.precision,l),u||(u=t.shouldFormatBigNumber)})),n=Q(o,l),u&&(n=tt(n))}var h=i.borderSize,d=Yt(this._ctx,n,i),f=Wt(i);r=this._yAxis.isFromYAxisZero()?0:this._width-d,we(this._ctx,i.backgroundColor,i.borderColor,h,r,t.y-h-i.paddingTop-i.size/2,d,f,i.borderRadius),xe(this._ctx,i.color,r+h+i.paddingLeft,t.y,n)}}}}]),a}(ye);var Te=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_createMainView",value:function(t,e){return new Ie(t,e.chartStore,e.yAxis,e.paneId)}},{key:"_createOverlayView",value:function(t,e){return new Me(t,e.chartStore,e.yAxis,e.paneId)}}]),a}(_e),De=function(){function t(e){_(this,t),this._chartStore=e,this._width=0,this._height=0,this._cacheMinValue=0,this._cacheMaxValue=0,this._minValue=0,this._maxValue=0,this._range=0,this._ticks=[],this._initMeasureCanvas()}return y(t,[{key:"_initMeasureCanvas",value:function(){var t=fe("canvas"),e=Nt(t);this._measureCtx=t.getContext("2d"),this._measureCtx.scale(e,e)}},{key:"min",value:function(){return this._minValue}},{key:"max",value:function(){return this._maxValue}},{key:"width",value:function(){return this._width}},{key:"height",value:function(){return this._height}},{key:"setWidth",value:function(t){this._width=t}},{key:"setHeight",value:function(t){this._height=t}},{key:"ticks",value:function(){return this._ticks}},{key:"computeAxis",value:function(t){var e=this._optimalMinMax(this._computeMinMax());return this._minValue=e.min,this._maxValue=e.max,this._range=e.range,!(this._cacheMinValue===e.min&&this._cacheMaxValue===e.max&&!t)&&(this._cacheMinValue=e.min,this._cacheMaxValue=e.max,this._ticks=this._optimalTicks(this._computeTicks()),!0)}},{key:"_computeMinMax",value:function(){}},{key:"_optimalMinMax",value:function(t){}},{key:"_computeTicks",value:function(){var t=[];if(this._range>=0){var e=this._computeInterval(this._range),a=e.interval,i=e.precision,n=et(Math.ceil(this._minValue/a)*a,i),r=et(Math.floor(this._maxValue/a)*a,i),o=0,s=n;if(0!==a)for(;r>=s;)t[o]={v:s.toFixed(i)},++o,s+=a}return t}},{key:"_optimalTicks",value:function(t){}},{key:"_computeInterval",value:function(t){var e,a,i,n,r=(a=Math.floor(at(e=t/8)),i=it(a),e=(1.5>(n=e/i)?1:2.5>n?2:3.5>n?3:4.5>n?4:5.5>n?5:6.5>n?6:8)*i,-20>a?e:+e.toFixed(0>a?-a:0)),o=function(t){var e=""+t,a=e.indexOf("e");if(a>0){var i=+e.slice(a+1);return 0>i?-i:0}var n=e.indexOf(".");return 0>n?0:e.length-1-n}(r);return{interval:r,precision:o}}}]),t}();var Oe=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i,n){var r;return _(this,a),(r=e.call(this,t))._realRange=0,r._isCandleYAxis=i,r._paneId=n,r}return y(a,[{key:"_computeMinMax",value:function(){var t,e=this,a=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],i=[],n=!1,r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;this._chartStore.technicalIndicatorStore().instances(this._paneId).forEach((function(a){if(n||(n=a.shouldOhlc),s=Math.min(s,a.precision),C(a.minValue)&&(r=Math.min(r,a.minValue)),C(a.maxValue)&&(o=Math.max(o,a.maxValue)),a.styles){t||(t={top:0,bottom:0});var c=a.styles.margin;C(c.top)&&(t.top=Math.max(1>c.top?c.top:c.top/e._height,t.top)),C(c.bottom)&&(t.bottom=Math.max(1>c.bottom?c.bottom:c.bottom/e._height,t.bottom))}i.push({plots:a.plots,result:a.result})}));var c=4;if(this._isCandleYAxis){var l=this._chartStore.pricePrecision();c=s!==Number.MAX_SAFE_INTEGER?Math.min(s,l):l}else s!==Number.MAX_SAFE_INTEGER&&(c=s);var u=this._chartStore.visibleDataList(),h=this._chartStore.styleOptions().candle,d=h.type===j,f=h.area.value,p=this._isCandleYAxis&&!d||!this._isCandleYAxis&&n;return u.forEach((function(t){var n=t.index,r=t.data;p&&(a[0]=Math.min(a[0],r.low),a[1]=Math.max(a[1],r.high)),e._isCandleYAxis&&d&&(a[0]=Math.min(a[0],r[f]),a[1]=Math.max(a[1],r[f])),i.forEach((function(t){var e=t.result[n]||{};t.plots.forEach((function(t){var i=e[t.key];A(i)&&(a[0]=Math.min(a[0],i),a[1]=Math.max(a[1],i))}))}))})),a[0]!==Number.MAX_SAFE_INTEGER&&a[1]!==Number.MIN_SAFE_INTEGER?(a[0]=Math.min(r,a[0]),a[1]=Math.max(o,a[1])):(a[0]=0,a[1]=10),{min:a[0],max:a[1],precision:c,specifyMin:r,specifyMax:o,techGap:t}}},{key:"_optimalMinMax",value:function(t){var e,a,i=t.precision,n=t.specifyMin,r=t.specifyMax,o=t.techGap,s=t.min,c=t.max,l=this.yAxisType();switch(l){case B:var u=(this._chartStore.visibleDataList()[0]||{}).data||{};C(u.close)&&(s=(s-u.close)/u.close*100,c=(c-u.close)/u.close*100),e=.01;break;case F:s=at(s),c=at(c),e=.05*it(-i);break;default:e=it(-i)}if(s===c||e>Math.abs(s-c)){var h=n===s,d=r===c;s=h?s:d?s-8*e:s-4*e,c=d?c:h?c+8*e:c+4*e}var f,p=.2;C((a=this._isCandleYAxis?this._chartStore.styleOptions().candle.margin:o?{top:0,bottom:0}:this._chartStore.styleOptions().technicalIndicator.margin).top)&&(f=1>a.top?a.top:a.top/this._height,p=o?Math.max(o.top,f):f);var v,_=.1;C(a.bottom)&&(v=1>a.bottom?a.bottom:a.bottom/this._height,_=o?Math.max(o.bottom,v):v);var m=Math.abs(c-s);return m=Math.abs((c+=m*p)-(s-=m*_)),this._realRange=l===F?Math.abs(it(c)-it(s)):m,{min:s,max:c,range:m}}},{key:"_optimalTicks",value:function(t){var e=this,a=[],i=this.yAxisType(),n=this._chartStore.technicalIndicatorStore().instances(this._paneId),r=0,o=!1;this._isCandleYAxis?r=this._chartStore.pricePrecision():n.forEach((function(t){r=Math.max(r,t.precision),o||(o=t.shouldFormatBigNumber)}));var s,c,l=this._chartStore.styleOptions().xAxis.tickText.size;return i===F&&(s=this._computeInterval(this._realRange)),t.forEach((function(t){var n,u=t.v,h=e._innerConvertToPixel(+u);switch(i){case B:n="".concat(Q(u,2),"%");break;case F:n=et(it(u),s.precision),h=e._innerConvertToPixel(at(n)),n=Q(n,r);break;default:n=Q(u,r),o&&(n=tt(n))}h>l&&e._height-l>h&&(c&&c-h>2*l||!c)&&(a.push({v:n,y:h}),c=h)})),a}},{key:"_innerConvertToPixel",value:function(t){return Math.round((1-(t-this._minValue)/this._range)*this._height)}},{key:"isCandleYAxis",value:function(){return this._isCandleYAxis}},{key:"yAxisType",value:function(){return this._isCandleYAxis?this._chartStore.styleOptions().yAxis.type:R}},{key:"isFromYAxisZero",value:function(){var t=this._chartStore.styleOptions().yAxis;return t.position===O&&t.inside||t.position===L&&!t.inside}},{key:"getSelfWidth",value:function(){var t=this,e=this._chartStore.styleOptions(),a=e.yAxis,i=a.width;if(C(i))return i;var n=0;if(a.show&&(a.axisLine.show&&(n+=a.axisLine.size),a.tickLine.show&&(n+=a.tickLine.length),a.tickText.show)){var r=0;this._measureCtx.font=Vt(a.tickText.size,a.tickText.weight,a.tickText.family),this._ticks.forEach((function(e){r=Math.max(r,Ht(t._measureCtx,e.v))})),n+=a.tickText.paddingLeft+a.tickText.paddingRight+r}var o=e.crosshair,s=0;if(o.show&&o.horizontal.show&&o.horizontal.text.show){var c=this._chartStore.technicalIndicatorStore().instances(this._paneId),l=0,u=!1;c.forEach((function(t){l=Math.max(t.precision,l),u||(u=t.shouldFormatBigNumber)})),this._measureCtx.font=Vt(o.horizontal.text.size,o.horizontal.text.weight,o.horizontal.text.family);var h=2;if(this.yAxisType()!==B)if(this._isCandleYAxis){var d=this._chartStore.pricePrecision(),f=e.technicalIndicator.lastValueMark;h=f.show&&f.text.show?Math.max(l,d):d}else h=l;var p=Q(this._maxValue,h);u&&(p=tt(p)),s+=o.horizontal.text.paddingLeft+o.horizontal.text.paddingRight+2*o.horizontal.text.borderSize+Ht(this._measureCtx,p)}return Math.max(n,s)}},{key:"convertFromPixel",value:function(t){var e=(1-t/this._height)*this._range+this._minValue;switch(this.yAxisType()){case B:var a=(this._chartStore.visibleDataList()[0]||{}).data||{};if(C(a.close))return a.close*e/100+a.close;break;case F:return it(e);default:return e}}},{key:"convertToPixel",value:function(t){var e;switch(this.yAxisType()){case B:var a=(this._chartStore.visibleDataList()[0]||{}).data||{};C(a.close)&&(e=(t-a.close)/a.close*100);break;case F:e=at(t);break;default:e=t}return this._innerConvertToPixel(e)}},{key:"convertToNicePixel",value:function(t){var e=this.convertToPixel(t);return Math.round(Math.max(.05*this._height,Math.min(e,.98*this._height)))}}]),a}(De);var Le=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t){var i;return _(this,a),i=e.call(this,t),"height"in t&&i.setHeight(t.height),i}return y(a,[{key:"_initBefore",value:function(t){this._id=t.id,this._yAxis=this._createYAxis(t)}},{key:"_createYAxis",value:function(t){return new Oe(t.chartStore,!1,t.id)}},{key:"_createMainWidget",value:function(t,e){return new Se({container:t,chartStore:e.chartStore,xAxis:e.xAxis,yAxis:this._yAxis,paneId:e.id})}},{key:"_createYAxisWidget",value:function(t,e){return new Te({container:t,chartStore:e.chartStore,yAxis:this._yAxis,paneId:e.id})}},{key:"setHeight",value:function(t){de(ut(a.prototype),"setHeight",this).call(this,t),this._yAxis.setHeight(t)}},{key:"setWidth",value:function(t,e){de(ut(a.prototype),"setWidth",this).call(this,t,e),this._yAxis.setWidth(e)}},{key:"id",value:function(){return this._id}},{key:"yAxis",value:function(){return this._yAxis}}]),a}(pe);var Re=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_drawContent",value:function(){var t=this._chartStore.styleOptions().candle;this._drawLastPriceLine(t.priceMark),t.type===j?this._drawArea(t):(this._drawLowHighPrice(t.priceMark,"high","high",Number.MIN_SAFE_INTEGER,[-2,-5],(function(t,e){if(t>e)return t})),this._drawLowHighPrice(t.priceMark,"low","low",Number.MAX_SAFE_INTEGER,[2,5],(function(t,e){if(e>t)return t})),this._drawCandle(t)),this._drawTechs(),this._drawGrid()}},{key:"_drawArea",value:function(t){var e=this,a=[],i=[],n=Number.MAX_SAFE_INTEGER,r=t.area;this._drawGraphics((function(t,o,s,c,l,u){var h=s[r.value];if(C(h)){var d=e._yAxis.convertToPixel(h);if(0===u){var f=t-c;i.push({x:f,y:e._height}),i.push({x:f,y:d}),a.push({x:f,y:d})}a.push({x:t,y:d}),i.push({x:t,y:d}),n=Math.min(n,d)}}),(function(){var t=i.length;if(t>0){var o=i[t-1],s=e._chartStore.timeScaleStore().halfBarSpace(),c=o.x+s;a.push({x:c,y:o.y}),i.push({x:c,y:o.y}),i.push({x:c,y:e._height})}if(a.length>0&&(e._ctx.lineWidth=r.lineSize,e._ctx.strokeStyle=r.lineColor,jt(e._ctx,a)),i.length>0){var l=r.backgroundColor;if(S(l)){var u=e._ctx.createLinearGradient(0,e._height,0,n);try{l.forEach((function(t){u.addColorStop(t.offset,t.color)}))}catch(t){}e._ctx.fillStyle=u}else e._ctx.fillStyle=l;Bt(e._ctx,i)}}))}},{key:"_drawCandle",value:function(t){var e=this;this._drawGraphics((function(a,i,n,r,o){e._drawCandleBar(a,r,o,i,n,t.bar,t.type)}))}},{key:"_drawLowHighPrice",value:function(t,e,a,i,n,r){var o=t[e];if(t.show&&o.show){var s=this._chartStore.visibleDataList(),c=i,l=-1;s.forEach((function(t){var e=t.index,n=r(Z(t.data,a,i),c);n&&(c=n,l=e)}));var u=this._chartStore.pricePrecision(),h=this._yAxis.convertToPixel(c),d=this._xAxis.convertToPixel(l),f=h+n[0];this._ctx.textAlign="left",this._ctx.lineWidth=1,this._ctx.strokeStyle=o.color,this._ctx.fillStyle=o.color,jt(this._ctx,[{x:d-2,y:f+n[0]},{x:d,y:f},{x:d+2,y:f+n[0]}]);var p=f+n[1];jt(this._ctx,[{x:d,y:f},{x:d,y:p},{x:d+5,y:p}]),this._ctx.font=Vt(o.textSize,o.textWeight,o.textFamily);var v=Q(c,u);this._ctx.textBaseline="middle",this._ctx.fillText(v,d+5+o.textMargin,p)}}},{key:"_drawLastPriceLine",value:function(t){var e=t.last;if(t.show&&e.show&&e.line.show){var a=this._chartStore.dataList(),i=a[a.length-1];if(i){var n,r=i.close,o=i.open,s=this._yAxis.convertToNicePixel(r);n=r>o?e.upColor:o>r?e.downColor:e.noChangeColor,this._ctx.save(),this._ctx.strokeStyle=n,this._ctx.lineWidth=e.line.size,e.line.style===T&&this._ctx.setLineDash(e.line.dashValue),Ft(this._ctx,s,0,this._width),this._ctx.restore()}}}}]),a}(ge);var Be=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_drawTooltip",value:function(t,e){var a=this._chartStore.styleOptions(),i=a.candle,n=i.tooltip,r=a.technicalIndicator,o=r.tooltip,s=this._shouldDrawTooltip(t,n),c=this._shouldDrawTooltip(t,o);n.showType===H&&o.showType===H?this._drawCandleTooltipWithRect(t,e,i,s,r,c):n.showType===V?(this._drawCandleTooltipWithStandard(t.kLineData,i,s),o.showType===V?this._drawBatchTechToolTip(t,e,r,s?n.text.size+n.text.marginTop:0,c):this._drawCandleTooltipWithRect(t,e,i,!1,r,c)):(this._drawCandleTooltipWithRect(t,e,i,s,r,!1),this._drawBatchTechToolTip(t,e,r,0,c))}},{key:"_drawCandleTooltipWithStandard",value:function(t,e,a){var i=this;if(a){var n=this._getCandleTooltipData(t,e),r=e.tooltip,o=r.text.marginLeft,s=r.text.marginRight,c=r.text.size,l=r.text.color,u=r.labels;this._ctx.textBaseline="top",this._ctx.font=Vt(c,r.text.weight,r.text.family);var h=o,d=r.text.marginTop;u.forEach((function(t,e){var a=Ht(i._ctx,t);xe(i._ctx,l,h,d,t),h+=a;var c,u,f=n[e]||r.defaultValue;k(f)?(c=f.value||r.defaultValue,u=f.color||l):(u=l,c=f);var p=Ht(i._ctx,c);xe(i._ctx,u,h,d,c),h+=p+o+s}))}}},{key:"_drawCandleTooltipWithRect",value:function(t,e,a,i,n,r){var o=this;if(i||r){var s=a.tooltip,c=s.labels,l=this._getCandleTooltipData(t.kLineData,a),u=s.text.marginLeft,h=s.text.marginRight,d=s.text.marginTop,f=s.text.marginBottom,p=s.text.size,v=s.text.color,_=s.rect,m=_.borderSize,y=_.paddingLeft,g=_.paddingRight,x=_.paddingTop,b=_.paddingBottom,S=_.offsetLeft,w=_.offsetRight,C=0,E=0,P=0;this._ctx.save(),this._ctx.textBaseline="top",i&&(this._ctx.font=Vt(p,s.text.weight,s.text.family),c.forEach((function(t,e){var a,i=l[e];a=k(i)?i.value||s.defaultValue:i;var n="".concat(t).concat(a),r=Ht(o._ctx,n)+u+h;C=Math.max(C,r)})),P+=(f+d+p)*c.length);var I=n.tooltip,M=I.text.marginLeft,T=I.text.marginRight,D=I.text.marginTop,O=I.text.marginBottom,L=I.text.size,R=[];if(e.forEach((function(e){R.push(o._getTechTooltipData(t,e,n))})),r&&(this._ctx.font=Vt(L,I.text.weight,I.text.family),R.forEach((function(t){t.values.forEach((function(t){var e=t.title,a=t.value;if(A(e)){var i="".concat(e).concat(a),n=Ht(o._ctx,i)+M+T;C=Math.max(C,n),P+=D+O+L}}))}))),0!==(E+=C)&&0!==P){var B;E+=2*m+y+g;var F=_.offsetTop,z=_.borderRadius;Ce(this._ctx,_.backgroundColor,B=this._width/2>t.realX?this._width-w-E:S,F,E,P+=2*m+x+b,z),ke(this._ctx,_.borderColor,m,B,F,E,P,z);var j=B+m+y+u,N=F+m+x;if(i&&(this._ctx.font=Vt(p,s.text.weight,s.text.family),c.forEach((function(t,e){N+=d,o._ctx.textAlign="left",xe(o._ctx,v,j,N,t);var a,i,n=l[e];k(n)?(i=n.color||v,a=n.value||s.defaultValue):(i=v,a=n||s.defaultValue),o._ctx.textAlign="right",xe(o._ctx,i,B+E-m-h-g,N,a),N+=p+f}))),r){var H=B+m+y+M;this._ctx.font=Vt(L,I.text.weight,I.text.family),R.forEach((function(t){t.values.forEach((function(t){N+=D,o._ctx.textAlign="left",o._ctx.fillStyle=t.color||I.text.color,o._ctx.fillText(t.title,H,N),o._ctx.textAlign="right",o._ctx.fillText(t.value,B+E-m-T-g,N),N+=L+O}))}))}this._ctx.restore()}}}},{key:"_getCandleTooltipData",value:function(t,e){var a=this,i=e.tooltip.values,n=[];if(i)w(i)?n=i(t,e)||[]:S(i)&&(n=i);else{var r=this._chartStore.pricePrecision(),o=this._chartStore.volumePrecision();(n=[Z(t,"timestamp"),Z(t,"open"),Z(t,"close"),Z(t,"high"),Z(t,"low"),Z(t,"volume")]).forEach((function(t,e){switch(e){case 0:n[e]=J(a._chartStore.timeScaleStore().dateTimeFormat(),t,"YYYY-MM-DD hh:mm");break;case n.length-1:n[e]=tt(Q(t,o));break;default:n[e]=Q(t,r)}}))}return n}}]),a}(be);var Fe=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_createMainView",value:function(t,e){return new Re(t,e.chartStore,e.xAxis,e.yAxis,e.paneId)}},{key:"_createOverlayView",value:function(t,e){return new Be(t,e.chartStore,e.xAxis,e.yAxis,e.paneId)}}]),a}(Se);var ze=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_createYAxis",value:function(t){return new Oe(t.chartStore,!0,t.id)}},{key:"_createMainWidget",value:function(t,e){return new Fe({container:t,chartStore:e.chartStore,xAxis:e.xAxis,yAxis:this._yAxis,paneId:e.id})}}]),a}(Le);var je=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i,n){var r;return _(this,a),(r=e.call(this,t,i))._xAxis=n,r}return y(a,[{key:"_draw",value:function(){var t=this._chartStore.styleOptions().xAxis;t.show&&(this._drawAxisLine(t),this._drawTickLines(t),this._drawTickLabels(t))}},{key:"_drawAxisLine",value:function(t){var e=t.axisLine;e.show&&(this._ctx.strokeStyle=e.color,this._ctx.lineWidth=e.size,Ft(this._ctx,0,0,this._width))}},{key:"_drawTickLines",value:function(t){var e=this,a=t.tickLine;if(a.show){this._ctx.lineWidth=a.size,this._ctx.strokeStyle=a.color;var i=t.axisLine.show?t.axisLine.size:0,n=i+a.length;this._xAxis.ticks().forEach((function(t){zt(e._ctx,t.x,i,n)}))}}},{key:"_drawTickLabels",value:function(t){var e=t.tickText;if(e.show){var a=t.tickLine;this._ctx.textBaseline="top",this._ctx.font=Vt(e.size,e.weight,e.family),this._ctx.textAlign="center",this._ctx.fillStyle=e.color;var i=e.paddingTop;t.axisLine.show&&(i+=t.axisLine.size),a.show&&(i+=a.length);for(var n=this._xAxis.ticks(),r=n.length,o=0;r>o;o++)this._ctx.fillText(n[o].v,n[o].x,i)}}}]),a}(ye);var Ne=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i,n){var r;return _(this,a),(r=e.call(this,t,i))._xAxis=n,r}return y(a,[{key:"_draw",value:function(){this._drawCrosshairLabel()}},{key:"_drawCrosshairLabel",value:function(){var t=this._chartStore.crosshairStore().get();if(t.paneId){var e=this._chartStore.styleOptions().crosshair,a=e.vertical,i=a.text;if(e.show&&a.show&&i.show&&t.dataIndex===t.realDataIndex){var n=t.kLineData.timestamp,r=J(this._chartStore.timeScaleStore().dateTimeFormat(),n,"YYYY-MM-DD hh:mm"),o=i.paddingLeft,s=i.paddingRight,c=i.paddingTop,l=i.borderSize,u=Yt(this._ctx,r,i),h=Wt(i),d=u-2*l-o-s,f=t.realX-d/2;o+l>f?f=o+l:f>this._width-d-l-s&&(f=this._width-d-l-s),we(this._ctx,i.backgroundColor,i.borderColor,l,f-l-o,0,u,h,i.borderRadius),this._ctx.textBaseline="top",xe(this._ctx,i.color,f,l+c,r)}}}}]),a}(ye);var He=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_createMainView",value:function(t,e){return new je(t,e.chartStore,e.xAxis)}},{key:"_createOverlayView",value:function(t,e){return new Ne(t,e.chartStore,e.xAxis)}}]),a}(_e);var Ve=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_computeMinMax",value:function(){return{min:this._chartStore.timeScaleStore().from(),max:this._chartStore.timeScaleStore().to()-1}}},{key:"_optimalMinMax",value:function(t){var e=t.min,a=t.max;return{min:e,max:a,range:a-e+1}}},{key:"_optimalTicks",value:function(t){var e=[],a=t.length,i=this._chartStore.dataList();if(a>0){var n=this._chartStore.timeScaleStore().dateTimeFormat(),r=this._chartStore.styleOptions().xAxis.tickText;this._measureCtx.font=Vt(r.size,r.weight,r.family);var o=Ht(this._measureCtx,"00-00 00:00"),s=this.convertToPixel(parseInt(t[0].v,10)),c=1;if(a>1){var l=this.convertToPixel(parseInt(t[1].v,10)),u=Math.abs(l-s);o>u&&(c=Math.ceil(o/u))}for(var h=0;a>h;h+=c){var d=parseInt(t[h].v,10),f=i[d].timestamp,p=J(n,f,"hh:mm");0!==h&&(p=this._optimalTickLabel(n,f,i[parseInt(t[h-c].v,10)].timestamp)||p);var v=this.convertToPixel(d);e.push({v:p,x:v,oV:f})}if(1===e.length)e[0].v=J(n,e[0].oV,"YYYY-MM-DD hh:mm");else{var _=e[0].oV,m=e[1].oV;if(e[2]){var y=e[2].v;/^[0-9]{2}-[0-9]{2}$/.test(y)?e[0].v=J(n,_,"MM-DD"):/^[0-9]{4}-[0-9]{2}$/.test(y)?e[0].v=J(n,_,"YYYY-MM"):/^[0-9]{4}$/.test(y)&&(e[0].v=J(n,_,"YYYY"))}else e[0].v=this._optimalTickLabel(n,_,m)||e[0].v}}return e}},{key:"_optimalTickLabel",value:function(t,e,a){var i=J(t,e,"YYYY"),n=J(t,e,"YYYY-MM"),r=J(t,e,"MM-DD");return i!==J(t,a,"YYYY")?i:n!==J(t,a,"YYYY-MM")?n:r!==J(t,a,"MM-DD")?r:null}},{key:"getSelfHeight",value:function(){var t=this._chartStore.styleOptions(),e=t.xAxis,a=e.height;if(C(a))return a;var i=t.crosshair,n=0;e.show&&(e.axisLine.show&&(n+=e.axisLine.size),e.tickLine.show&&(n+=e.tickLine.length),e.tickText.show&&(n+=e.tickText.paddingTop+e.tickText.paddingBottom+e.tickText.size));var r=0;return i.show&&i.vertical.show&&i.vertical.text.show&&(r+=i.vertical.text.paddingTop+i.vertical.text.paddingBottom+2*i.vertical.text.borderSize+i.vertical.text.size),Math.max(n,r)}},{key:"convertFromPixel",value:function(t){return this._chartStore.timeScaleStore().coordinateToDataIndex(t)}},{key:"convertToPixel",value:function(t){return this._chartStore.timeScaleStore().dataIndexToCoordinate(t)}}]),a}(De);var Ye=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"_initBefore",value:function(){this._xAxis=new Ve(this._chartStore)}},{key:"_createMainWidget",value:function(t,e){return new He({container:t,chartStore:e.chartStore,xAxis:this._xAxis})}},{key:"xAxis",value:function(){return this._xAxis}},{key:"setWidth",value:function(t,e){de(ut(a.prototype),"setWidth",this).call(this,t,e),this._xAxis.setWidth(t)}},{key:"setHeight",value:function(t){de(ut(a.prototype),"setHeight",this).call(this,t),this._xAxis.setHeight(t)}}]),a}(pe);function We(t){return"touch"===t.type}function $e(t){return"mouse"===t.type}function Ue(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Xe(t){for(var e=1;arguments.length>e;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(a),!0).forEach((function(e){bt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function qe(t){return t.getBoundingClientRect()||{left:0,top:0}}function Ge(t){return!!t.touches}function Ke(t){t.cancelable&&t.preventDefault()}function Ze(t,e){var a=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(a*a+i*i)}var Je=function(){function t(e,a,i){_(this,t),this._target=e,this._handler=a,this._options=i,this._clickCount=0,this._clickTimeoutId=null,this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartPosition=null,this._moveExceededManhattanDistance=!1,this._cancelClick=!1,this._unsubscribeOutsideEvents=null,this._unsubscribeMousemove=null,this._unsubscribeRoot=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventDragProcess=!1,this._mousePressed=!1,this._init()}return y(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=Xe(Xe({},this.options),t)}},{key:"destroy",value:function(){null!==this._unsubscribeOutsideEvents&&(this._unsubscribeOutsideEvents(),this._unsubscribeOutsideEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),this._clearLongTapTimeout(),this._resetClickTimeout()}},{key:"_mouseEnterHandler",value:function(t){var e=this;this._unsubscribeMousemove&&this._unsubscribeMousemove();var a=this._mouseMoveHandler.bind(this),i=this._mouseWheelHandler.bind(this);this._unsubscribeMousemove=function(){e._target.removeEventListener("mousemove",a),e._target.removeEventListener("wheel",i)},this._target.addEventListener("mousemove",a),this._target.addEventListener("wheel",i,{passive:!1}),Ge(t)&&this._mouseMoveHandler(t);var n=this._makeCompatEvent(t);this._processEvent(n,this._handler.mouseEnterEvent)}},{key:"_resetClickTimeout",value:function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null}},{key:"_mouseMoveHandler",value:function(t){if(!this._mousePressed||Ge(t)){var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseMoveEvent)}}},{key:"_mouseWheelHandler",value:function(t){var e=this._makeCompatEvent(t);t.localX=e.localX,t.localY=e.localY,this._processEvent(t,this._handler.mouseWheelEvent)}},{key:"_mouseMoveWithDownHandler",value:function(t){if((!("button"in t)||0===t.button)&&null===this._startPinchMiddleCoordinate){var e=Ge(t);if(!this._preventDragProcess||!e){this._pinchPrevented=!0;var a=this._makeCompatEvent(t),i=this._mouseMoveStartPosition,n=Math.abs(i.x-a.pageX),r=Math.abs(i.y-a.pageY),o=n+r>5;if(o||!e){if(o&&!this._moveExceededManhattanDistance&&e){var s=.5*n;r>=s&&!this._options.treatVertTouchDragAsPageScroll||s>r&&!this._options.treatHorzTouchDragAsPageScroll||(this._preventDragProcess=!0)}o&&(this._moveExceededManhattanDistance=!0,this._cancelClick=!0,e&&this._clearLongTapTimeout()),this._preventDragProcess||(this._processEvent(a,this._handler.pressedMouseMoveEvent),e&&Ke(t))}}}}},{key:"_mouseUpHandler",value:function(t){if(!("button"in t)||0===t.button){var e=this._makeCompatEvent(t);this._clearLongTapTimeout(),this._mouseMoveStartPosition=null,this._mousePressed=!1,this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),Ge(t)&&this._mouseLeaveHandler(t),this._processEvent(e,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId&&this._clickCount>1?(this._processEvent(e,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(e,this._handler.mouseClickEvent),Ge(t)&&(Ke(t),this._mouseLeaveHandler(t),0===t.touches.length&&(this._longTapActive=!1))}}},{key:"_clearLongTapTimeout",value:function(){null!==this._longTapTimeoutId&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)}},{key:"_mouseDownHandler",value:function(t){if(!("button"in t)||0===t.button||2===t.button){var e=this._makeCompatEvent(t);if("button"in t&&2===t.button)this._processEvent(e,this._handler.mouseRightDownEvent);else{this._cancelClick=!1,this._moveExceededManhattanDistance=!1,this._preventDragProcess=!1,Ge(t)&&this._mouseEnterHandler(t),this._mouseMoveStartPosition={x:e.pageX,y:e.pageY},this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null);var a=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this),n=this._target.ownerDocument.documentElement;this._unsubscribeRoot=function(){n.removeEventListener("touchmove",a),n.removeEventListener("touchend",i),n.removeEventListener("mousemove",a),n.removeEventListener("mouseup",i)},n.addEventListener("touchmove",a,{passive:!1}),n.addEventListener("touchend",i,{passive:!1}),this._clearLongTapTimeout(),Ge(t)&&1===t.touches.length?this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),600):(n.addEventListener("mousemove",a),n.addEventListener("mouseup",i)),this._mousePressed=!0,this._processEvent(e,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500))}}}},{key:"_init",value:function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var e,a=this._target.ownerDocument,i=function(e){t._handler.mouseDownOutsideEvent&&(e.target&&t._target.contains(e.target)||t._handler.mouseDownOutsideEvent())};this._unsubscribeOutsideEvents=function(){a.removeEventListener("mousedown",i),a.removeEventListener("touchstart",i)},a.addEventListener("mousedown",i),a.addEventListener("touchstart",i,{passive:!0}),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._mouseDownHandler.bind(this),{passive:!0}),e="ontouchstart"in window||!!(window.DocumentTouch&&document instanceof window.DocumentTouch),"onorientationchange"in window&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints||e)||this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",(function(){}),{passive:!1})}},{key:"_initPinch",value:function(){var t=this;void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",(function(e){return t._checkPinchState(e.touches)}),{passive:!0}),this._target.addEventListener("touchmove",(function(e){if(2===e.touches.length&&null!==t._startPinchMiddleCoordinate&&void 0!==t._handler.pinchEvent){var a=Ze(e.touches[0],e.touches[1]);t._handler.pinchEvent(t._startPinchMiddleCoordinate,a/t._startPinchDistance),Ke(e)}}),{passive:!1}),this._target.addEventListener("touchend",(function(e){t._checkPinchState(e.touches)})))}},{key:"_checkPinchState",value:function(t){1===t.length&&(this._pinchPrevented=!1),2!==t.length||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(t)}},{key:"_startPinch",value:function(t){var e=qe(this._target);this._startPinchMiddleCoordinate={x:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,y:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this._startPinchDistance=Ze(t[0],t[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent(),this._clearLongTapTimeout()}},{key:"_stopPinch",value:function(){null!==this._startPinchMiddleCoordinate&&(this._startPinchMiddleCoordinate=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent())}},{key:"_mouseLeaveHandler",value:function(t){this._unsubscribeMousemove&&this._unsubscribeMousemove();var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseLeaveEvent)}},{key:"_longTapHandler",value:function(t){var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.longTapEvent),this._cancelClick=!0,this._longTapActive=!0}},{key:"_processEvent",value:function(t,e){e&&e.call(this._handler,t)}},{key:"_makeCompatEvent",value:function(t){var e;e="touches"in t&&t.touches.length?t.touches[0]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0]:t;var a=qe(this._target);return{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,localX:e.clientX-a.left,localY:e.clientY-a.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,type:t.type.startsWith("mouse")?"mouse":"touch",target:e.target,view:t.view}}}]),t}(),Qe=function(){function t(e,a,i,n,r,o){_(this,t),this._chartStore=a,this._topPaneId=i,this._bottomPaneId=n,this._dragEnabled=r,this._width=0,this._offsetLeft=0,this._dragEventHandler=o,this._dragFlag=!1,this._initElement(e),this._initEvent(r)}return y(t,[{key:"_initElement",value:function(t){this._container=t,this._wrapper=fe("div",{margin:"0",padding:"0",position:"relative",boxSizing:"border-box"}),this._element=fe("div",{width:"100%",height:"7px",margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box"}),this._wrapper.appendChild(this._element);var e=t.lastChild;e?t.insertBefore(this._wrapper,e):t.appendChild(this._wrapper)}},{key:"_initEvent",value:function(t){t&&(this._element.style.cursor="ns-resize",this._dragEvent=new Je(this._element,{mouseDownEvent:this._mouseDownEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseEnterEvent:this._mouseEnterEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this)},{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!0}))}},{key:"_mouseDownEvent",value:function(t){this._dragFlag=!0,this._startY=t.pageY,this._dragEventHandler.startDrag(this._topPaneId,this._bottomPaneId)}},{key:"_mouseUpEvent",value:function(){this._dragFlag=!1,this._chartStore.setDragPaneFlag(!1)}},{key:"_pressedMouseMoveEvent",value:function(t){this._dragEventHandler.drag(t.pageY-this._startY,this._topPaneId,this._bottomPaneId),this._chartStore.setDragPaneFlag(!0),this._chartStore.crosshairStore().set()}},{key:"_mouseEnterEvent",value:function(){var t=this._chartStore.styleOptions().separator;this._element.style.background=t.activeBackgroundColor,this._chartStore.crosshairStore().set()}},{key:"_mouseLeaveEvent",value:function(){this._dragFlag||(this._element.style.background=null,this._chartStore.setDragPaneFlag(!1))}},{key:"height",value:function(){return this._wrapper.offsetHeight}},{key:"setSize",value:function(t,e){this._offsetLeft=t,this._width=e,this.invalidate()}},{key:"setDragEnabled",value:function(t){t!==this._dragEnabled&&(this._dragEnabled=t,t?!this._dragEvent&&this._initEvent(t):(this._element.style.cursor="default",this._dragEvent&&this._dragEvent.destroy(),this._dragEvent=null))}},{key:"topPaneId",value:function(){return this._topPaneId}},{key:"bottomPaneId",value:function(){return this._bottomPaneId}},{key:"updatePaneId",value:function(t,e){A(t)&&(this._topPaneId=t),A(e)&&(this._bottomPaneId=e)}},{key:"invalidate",value:function(){var t=this._chartStore.styleOptions().separator;this._element.style.top="".concat(-Math.floor((7-t.size)/2),"px"),this._wrapper.style.backgroundColor=t.color,this._wrapper.style.height="".concat(t.size,"px"),this._wrapper.style.marginLeft="".concat(t.fill?0:this._offsetLeft,"px"),this._wrapper.style.width=t.fill?"100%":"".concat(this._width,"px")}},{key:"getImage",value:function(){var t=this._chartStore.styleOptions().separator,e=this._wrapper.offsetWidth,a=t.size,i=fe("canvas",{width:"".concat(e,"px"),height:"".concat(a,"px"),boxSizing:"border-box"}),n=i.getContext("2d"),r=Nt(i);return i.width=e*r,i.height=a*r,n.scale(r,r),n.fillStyle=t.color,n.fillRect(this._offsetLeft,0,e,a),i}},{key:"destroy",value:function(){this._dragEvent&&this._dragEvent.destroy(),this._container.removeChild(this._wrapper)}}]),t}(),ta=y((function t(e){_(this,t),this._chartStore=e}));var ea=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t){var i;return _(this,a),(i=e.call(this,t))._startScrollCoordinate=null,i._touchCoordinate=null,i._touchCancelCrosshair=!1,i._touchZoomed=!1,i._pinchScale=1,i}return y(a,[{key:"pinchStartEvent",value:function(){this._pinchScale=1,this._touchZoomed=!0}},{key:"pinchEvent",value:function(t,e){var a=5*(e-this._pinchScale);this._pinchScale=e,this._chartStore.timeScaleStore().zoom(a,t)}},{key:"mouseUpEvent",value:function(){this._startScrollCoordinate=null}},{key:"mouseLeaveEvent",value:function(t){this._startScrollCoordinate=null,$e(t)&&this._chartStore.crosshairStore().set()}},{key:"mouseMoveEvent",value:function(t){$e(t)&&this._chartStore.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})}},{key:"mouseWheelEvent",value:function(t){if(Math.abs(t.deltaX)>Math.abs(t.deltaY)){if(t.cancelable&&t.preventDefault(),0===Math.abs(t.deltaX))return;this._chartStore.timeScaleStore().startScroll(),this._chartStore.timeScaleStore().scroll(-t.deltaX)}else{var e=-t.deltaY/100;if(0===e)return;switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120;break;case t.DOM_DELTA_LINE:e*=32}if(0!==e){var a=Math.sign(e)*Math.min(1,Math.abs(e));this._chartStore.timeScaleStore().zoom(a,{x:t.localX,y:t.localY})}}}},{key:"mouseClickEvent",value:function(t){We(t)&&(this._touchCoordinate||this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:t.localX,y:t.localY},this._chartStore.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})))}},{key:"mouseDownEvent",value:function(t){if(this._startScrollCoordinate={x:t.localX,y:t.localY},this._chartStore.timeScaleStore().startScroll(),We(t))if(this._touchZoomed=!1,this._touchCoordinate){var e=t.localX-this._touchCoordinate.x,a=t.localY-this._touchCoordinate.y;10>Math.sqrt(e*e+a*a)?(this._touchCoordinate={x:t.localX,y:t.localY},this._chartStore.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})):(this._touchCancelCrosshair=!0,this._touchCoordinate=null,this._chartStore.crosshairStore().set())}else this._touchCancelCrosshair=!1}},{key:"pressedMouseMoveEvent",value:function(t){var e={x:t.localX,y:t.paneY,paneId:t.paneId};if(We(t)){if(this._touchCoordinate)return this._touchCoordinate={x:t.localX,y:t.localY},void this._chartStore.crosshairStore().set(e);e=null}if(this._startScrollCoordinate){var a=t.localX-this._startScrollCoordinate.x;this._chartStore.timeScaleStore().scroll(a,e)}}},{key:"longTapEvent",value:function(t){We(t)&&(this._touchCoordinate={x:t.localX,y:t.localY},this._chartStore.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId}))}}]),a}(ta);function aa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ia(t){for(var e=1;arguments.length>e;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(a),!0).forEach((function(e){bt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):aa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function na(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return ra(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ra(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return t.length>i?{done:!1,value:t[i++]}:{done:!0}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw r}}}}function ra(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);e>a;a++)i[a]=t[a];return i}var oa=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t,i){var n;return _(this,a),(n=e.call(this,t))._yAxis=i,n}return y(a,[{key:"_performOverlayMouseHover",value:function(t,e,a,i){var n;if(t){var r,o=na(t);try{for(o.s();!(r=o.n()).done;)if(n=r.value.checkEventCoordinateOn(a))break}catch(t){o.e(t)}finally{o.f()}n&&e.id===n.id||(e.id&&e.instance&&$e(i)&&e.instance.onMouseLeave({id:e.id,points:e.instance.points(),event:i}),n&&n.id!==e.id&&n.instance&&$e(i)&&n.instance.onMouseEnter({id:n.id,points:n.instance.points(),event:i}))}return n}},{key:"mouseUpEvent",value:function(){this._chartStore.shapeStore().updatePressedInstance()}},{key:"mouseMoveEvent",value:function(t){if(this._waitingForMouseMove)return!1;this._waitingForMouseMove=!0;var e,a,i,n={x:t.localX,y:t.paneY},r=this._chartStore.shapeStore().progressInstance(),o=r.paneId,s=r.instance;if(s&&s.isDrawing())t.paneId&&(s.isStart()&&this._chartStore.shapeStore().updateProgressInstance(this._yAxis(t.paneId),t.paneId),o===t.paneId&&s.mouseMoveForDrawing(n,t),e=s.checkEventCoordinateOn(n)),a={id:"",element:Xt,elementIndex:-1};else{var c=this._chartStore.annotationStore().get(t.paneId),l=this._chartStore.shapeStore().instances(t.paneId),u=this._chartStore.shapeStore().mouseOperate().hover,h=this._chartStore.annotationStore().mouseOperate();e=this._performOverlayMouseHover(l,u,n,t),i=this._performOverlayMouseHover(c,h,n,t)}this._chartStore.shapeStore().setMouseOperate({hover:e||{id:"",element:Xt,elementIndex:-1},click:a}),this._chartStore.annotationStore().setMouseOperate(i||{id:""}),this._waitingForMouseMove=!1}},{key:"mouseDownEvent",value:function(t){var e,a={x:t.localX,y:t.paneY},i=this._chartStore.shapeStore().progressInstance(),n=i.instance,r=i.paneId,o={id:"",element:Xt,elementIndex:-1};if(n&&n.isDrawing()&&r===t.paneId)n.mouseLeftButtonDownForDrawing(),e=n.checkEventCoordinateOn(a);else{var s,c=na(this._chartStore.shapeStore().instances(t.paneId));try{for(c.s();!(s=c.n()).done;){var l=s.value;if(e=l.checkEventCoordinateOn(a)){this._chartStore.shapeStore().updatePressedInstance(l,t.paneId,e.element),e.element===Ut?o=ia({},e):l.startPressedOtherMove(a),l.onClick({id:e.id,points:l.points(),event:t});break}}}catch(t){c.e(t)}finally{c.f()}var u=this._chartStore.annotationStore().get(t.paneId);if(u){var h,d=na(u);try{for(d.s();!(h=d.n()).done;){var f=h.value,p=f.checkEventCoordinateOn(a);if(p){f.onClick({id:p.id,points:f.points(),event:t});break}}}catch(t){d.e(t)}finally{d.f()}}}this._chartStore.shapeStore().setMouseOperate({hover:o,click:e||{id:"",element:Xt,elementIndex:-1}})&&this._chartStore.invalidate(1)}},{key:"mouseRightDownEvent",value:function(t){var e,a=this._chartStore.shapeStore().progressInstance().instance;e=a||this._chartStore.shapeStore().instances(t.paneId).find((function(e){return e.checkEventCoordinateOn({x:t.localX,y:t.paneY})})),e&&!e.onRightClick({id:e.id(),points:e.points(),event:t})&&this._chartStore.shapeStore().removeInstance(e.id());var i=this._chartStore.annotationStore().get(t.paneId);if(i){var n=i.find((function(e){return e.checkEventCoordinateOn({x:t.localX,y:t.paneY})}));n&&n.onRightClick({id:n.id(),points:n.points(),event:t})}}},{key:"pressedMouseMoveEvent",value:function(t){var e=this._chartStore.shapeStore().pressedInstance(),a=e.instance;if(a&&e.paneId===t.paneId){var i={x:t.localX,y:t.paneY};e.element===Ut?a.mousePressedPointMove(i,t):a.mousePressedOtherMove(i,t),this._chartStore.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})}}}]),a}(ta);var sa=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(){return _(this,a),e.apply(this,arguments)}return y(a,[{key:"keyBoardDownEvent",value:function(t){if(t.shiftKey)switch(t.code){case"Equal":this._chartStore.timeScaleStore().zoom(.5);break;case"Minus":this._chartStore.timeScaleStore().zoom(-.5);break;case"ArrowLeft":this._chartStore.timeScaleStore().startScroll(),this._chartStore.timeScaleStore().scroll(-3*this._chartStore.timeScaleStore().dataSpace());break;case"ArrowRight":this._chartStore.timeScaleStore().startScroll(),this._chartStore.timeScaleStore().scroll(3*this._chartStore.timeScaleStore().dataSpace())}}}]),a}(ta),ca=function(){function t(e,a,i){_(this,t),this._target=e,this._chartStore=a,this._chartContentLeftRight={},this._chartContentTopBottom={},this._paneContentSize={},this._event=new Je(this._target,{pinchStartEvent:this._pinchStartEvent.bind(this),pinchEvent:this._pinchEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),mouseClickEvent:this._mouseClickEvent.bind(this),mouseDownEvent:this._mouseDownEvent.bind(this),mouseRightDownEvent:this._mouseRightDownEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this),mouseMoveEvent:this._mouseMoveEvent.bind(this),mouseWheelEvent:this._mouseWheelEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),longTapEvent:this._longTapEvent.bind(this)},{treatVertTouchDragAsPageScroll:!0,treatHorzTouchDragAsPageScroll:!1}),this._boundKeyBoardDownEvent=this._keyBoardDownEvent.bind(this),this._target.addEventListener("keydown",this._boundKeyBoardDownEvent),this._boundContextMenuEvent=function(t){t.preventDefault()},this._target.addEventListener("contextmenu",this._boundContextMenuEvent,!1),this._zoomScrollEventHandler=new ea(a),this._overlayEventHandler=new oa(a,i),this._keyBoardEventHandler=new sa(a)}return y(t,[{key:"_keyBoardDownEvent",value:function(t){this._keyBoardEventHandler.keyBoardDownEvent(t)}},{key:"_pinchStartEvent",value:function(){this._zoomScrollEventHandler.pinchStartEvent()}},{key:"_pinchEvent",value:function(t,e){this._zoomScrollEventHandler.pinchEvent(t,e)}},{key:"_mouseUpEvent",value:function(t){this._checkEventInChartContent(t)&&(this._target.style.cursor="crosshair"),this._zoomScrollEventHandler.mouseUpEvent(t),this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseUpEvent(t)}},{key:"_mouseLeaveEvent",value:function(t){this._zoomScrollEventHandler.mouseLeaveEvent(t)}},{key:"_mouseMoveEvent",value:function(t){if(t.target instanceof HTMLCanvasElement)if(this._checkEventInChartContent(t)){this._target.style.cursor="crosshair";var e=this._compatChartEvent(t,!0);this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseMoveEvent(e),this._chartStore.dragPaneFlag()||this._zoomScrollEventHandler.mouseMoveEvent(e)}else this._target.style.cursor="default",this._zoomScrollEventHandler.mouseLeaveEvent(t);else this._target.style.cursor="default",this._chartStore.crosshairStore().set()}},{key:"_mouseWheelEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&this._zoomScrollEventHandler.mouseWheelEvent(this._compatChartEvent(t))}},{key:"_mouseClickEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&(this._zoomScrollEventHandler.mouseClickEvent(this._compatChartEvent(t,!0)),this._modifyEventOptions(t))}},{key:"_mouseDownEvent",value:function(t){if(this._checkEventInChartContent(t)){this._target.style.cursor="pointer";var e=this._compatChartEvent(t,!0);this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseDownEvent(e),this._checkZoomScroll()&&(this._zoomScrollEventHandler.mouseDownEvent(e),this._modifyEventOptions(t))}}},{key:"_mouseRightDownEvent",value:function(t){this._shouldPerformOverlayEvent()&&this._checkEventInChartContent(t)&&this._overlayEventHandler.mouseRightDownEvent(this._compatChartEvent(t,!0))}},{key:"_pressedMouseMoveEvent",value:function(t){if(this._checkEventInChartContent(t)){var e=this._compatChartEvent(t,!0);this._checkZoomScroll()?(this._zoomScrollEventHandler.pressedMouseMoveEvent(e),this._modifyEventOptions(t)):this._overlayEventHandler.pressedMouseMoveEvent(e)}}},{key:"_longTapEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&(this._zoomScrollEventHandler.longTapEvent(this._compatChartEvent(t,!0)),this._modifyEventOptions(t))}},{key:"_checkZoomScroll",value:function(){return!this._chartStore.dragPaneFlag()&&!this._chartStore.shapeStore().isPressed()&&!this._chartStore.shapeStore().isDrawing()}},{key:"_shouldPerformOverlayEvent",value:function(){return!this._chartStore.shapeStore().isEmpty()||!this._chartStore.annotationStore().isEmpty()}},{key:"_modifyEventOptions",value:function(t){We(t)&&this._chartStore.crosshairStore().get().paneId?this._event.setOptions({treatVertTouchDragAsPageScroll:!1}):this._event.setOptions({treatVertTouchDragAsPageScroll:!0})}},{key:"_compatChartEvent",value:function(t,e){if(e)for(var a in this._paneContentSize)if(Object.prototype.hasOwnProperty.call(this._paneContentSize,a)){var i=this._paneContentSize[a];if(t.localY>i.contentTop&&i.contentBottom>t.localY){t.paneY=t.localY-i.contentTop,t.paneId=a;break}}return t.localX-=this._chartContentLeftRight.contentLeft,t}},{key:"_checkEventInChartContent",value:function(t){return t.localX>this._chartContentLeftRight.contentLeft&&this._chartContentLeftRight.contentRight>t.localX&&t.localY>this._chartContentTopBottom.contentTop&&this._chartContentTopBottom.contentBottom>t.localY}},{key:"setChartContentLeftRight",value:function(t){this._chartContentLeftRight=t}},{key:"setChartContentTopBottom",value:function(t){this._chartContentTopBottom=t}},{key:"setPaneContentSize",value:function(t){this._paneContentSize=t}},{key:"destroy",value:function(){this._event.destroy(),this._target.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._target.removeEventListener("contextmenu",this._boundContextMenuEvent)}}]),t}();function la(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=0;return function(){var i=Date.now(),n=this,r=arguments;i-a>e&&(t.apply(n,r),a=i)}}var ua=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t){var i,n=t.id,r=t.point,o=t.chartStore,s=t.xAxis,c=t.yAxis,l=t.styles;return _(this,a),(i=e.call(this,{id:n,chartStore:o,xAxis:s,yAxis:c}))._point=r,i._symbolCoordinate={},i.setStyles(l,o.styleOptions().annotation),i}return y(a,[{key:"_drawSymbol",value:function(t,e,a){var i=this._chartStore.timeScaleStore().barSpace(),n=a.symbol,r=n.size,o=n.activeSize,s=e?C(o)?o:i:C(r)?r:i,c=e?n.activeColor:n.color;switch(n.type){case Y:kt(t,c,this._symbolCoordinate,s/2);break;case W:!function(t,e,a,i,n,r){t.fillStyle=e,t.fillRect(a,i,n,r)}(t,c,this._symbolCoordinate.x-s/2,this._symbolCoordinate.y-s/2,s,s);break;case U:!function(t,e,a,i,n){t.fillStyle=e,t.beginPath(),t.moveTo(a.x-i/2,a.y),t.lineTo(a.x,a.y-n/2),t.lineTo(a.x+i/2,a.y),t.lineTo(a.x,a.y+n/2),t.closePath(),t.fill()}(t,c,this._symbolCoordinate,s,s);break;case $:!function(t,e,a,i,n){t.fillStyle=e,t.beginPath(),t.moveTo(a.x-i/2,a.y+n/2),t.lineTo(a.x,a.y-n/2),t.lineTo(a.x+i/2,a.y+n/2),t.closePath(),t.fill()}(t,c,this._symbolCoordinate,s,s);break;case X:t.save(),this.drawCustomSymbol({ctx:t,point:this._point,coordinate:this._symbolCoordinate,viewport:{width:this._xAxis.width(),height:this._yAxis.height(),barSpace:i},styles:n,isActive:e}),t.restore()}}},{key:"draw",value:function(t){var e=this._styles||this._chartStore.styleOptions().annotation,a=e.offset||[0,0],i=0;switch(e.position){case q:i=this._yAxis.convertToPixel(this._point.value);break;case G:i=0;break;case"bottom":i=this._yAxis.height()}this._symbolCoordinate.y=i+a[0];var n=this._id===this._chartStore.annotationStore().mouseOperate().id;this._drawSymbol(t,n,e),this.drawExtend&&(t.save(),this.drawExtend({ctx:t,point:this._point,coordinate:this._symbolCoordinate,viewport:{width:this._xAxis.width(),height:this._yAxis.height()},styles:e,isActive:n}),t.restore())}},{key:"checkEventCoordinateOn",value:function(t){var e,a,i,n,r,o=this._chartStore.timeScaleStore().barSpace(),s=(this._styles||this._chartStore.styleOptions().annotation).symbol,c=C(s.size)?s.size:o;switch(s.type){case Y:e=Dt(this._symbolCoordinate,c/2,t);break;case W:e=function(t,e,a){return!(t.x>a.x||a.x>e.x||t.y>a.y||a.y>e.y)}({x:this._symbolCoordinate.x-c/2,y:this._symbolCoordinate.y-c/2},{x:this._symbolCoordinate.x+c/2,y:this._symbolCoordinate.y+c/2},t);break;case U:e=(i=c)*(n=c)/2+2>Math.abs((a=this._symbolCoordinate).x-(r=t).x)*n+Math.abs(a.y-r.y)*i;break;case $:e=function(t,e){var a=Ct(t[0],t[1],t[2]),i=Ct(t[0],t[1],e)+Ct(t[0],t[2],e)+Ct(t[1],t[2],e);return 2>Math.abs(a-i)}([{x:this._symbolCoordinate.x-c/2,y:this._symbolCoordinate.y+c/2},{x:this._symbolCoordinate.x,y:this._symbolCoordinate.y-c/2},{x:this._symbolCoordinate.x+c/2,y:this._symbolCoordinate.y+c/2}],t);break;case X:e=this.checkEventCoordinateOnCustomSymbol({eventCoordinate:t,coordinate:this._symbolCoordinate,size:c})}if(e)return{id:this._id,instance:this}}},{key:"createSymbolCoordinate",value:function(t){var e=this._styles||this._chartStore.styleOptions().annotation;this._symbolCoordinate={x:t+(e.offset||[0,0])[1]}}},{key:"points",value:function(){return this._point}},{key:"checkEventCoordinateOnCustomSymbol",value:function(t){}},{key:"drawCustomSymbol",value:function(t){}}]),a}(wt);var ha=function(t){ct(a,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,i=ut(t);if(e){var n=ut(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return lt(this,a)}}(a);function a(t){var i,n=t.id,r=t.point,o=t.text,s=t.mark,c=t.chartStore,l=t.xAxis,u=t.yAxis,h=t.styles;return _(this,a),(i=e.call(this,{id:n,chartStore:c,xAxis:l,yAxis:u}))._point=r||{},i._text=o,i._mark=s,i.setStyles(h,c.styleOptions().tag),i}return y(a,[{key:"update",value:function(t){var e=t.point,a=t.text,i=t.mark,n=t.styles,r=!1;return k(e)&&(this._point=e,r=!0),A(a)&&(this._text=a,r=!0),A(i)&&(this._mark=i,r=!0),this.setStyles(n,this._chartStore.styleOptions().tag)&&(r=!0),r}},{key:"drawMarkLine",value:function(t){var e=this._chartStore.styleOptions(),a=e.yAxis,i=this._styles||e.tag,n=this._getY(i);t.save(),this._drawLine(t,n,i,a),this._drawMark(t,n,i,a),t.restore()}},{key:"drawText",value:function(t){if(A(this._text)){var e=this._chartStore.styleOptions(),a=this._styles||e.tag,i=a.text;t.save();var n,r=Yt(t,this._text,i),o=Wt(i);n=this._yAxis.isFromYAxisZero()?0:this._yAxis.width()-r;var s=this._getY(a);we(t,i.backgroundColor,i.borderColor,i.borderSize,n,s-o/2,r,o,i.borderRadius),xe(t,i.color,n+i.paddingLeft,s,this._text),t.restore()}}},{key:"_drawLine",value:function(t,e,a,i){var n=a.line;if(n.show){t.save();var r=Yt(t,this._text,a.text),o=Yt(t,this._mark,a.mark);t.strokeStyle=n.color,t.lineWidth=n.size,n.style===T&&t.setLineDash(n.dashValue);var s=a.mark.offset,c=[],l=A(this._text),u=A(this._mark);i.inside?i.position===O?l&&u?s>0?(c.push([r,r+s]),c.push([r+s+o,this._xAxis.width()])):c.push(Math.min(r,o)>Math.abs(s)?[r+s+o,this._xAxis.width()]:[Math.max(r,o),this._xAxis.width()]):l?c.push([r,this._xAxis.width()]):u?s>0?(c.push([0,s]),c.push([s+o,this._xAxis.width()])):c.push(o>Math.abs(s)?[s+o,this._xAxis.width()]:[0,this._xAxis.width()]):c.push([0,this._xAxis.width()]):l&&u?0>s?(c.push([0,this._xAxis.width()-r+s-o]),c.push([this._xAxis.width()-r+s,this._xAxis.width()-r])):c.push(Math.min(r,o)>s?[0,this._xAxis.width()-r-o+s]:[0,this._xAxis.width()-Math.max(r,o)]):l?c.push([0,this._xAxis.width()-r]):u?0>s?(c.push([0,this._xAxis.width()+s-o]),c.push([this._xAxis.width()+s,this._xAxis.width()])):c.push(o>s?[0,this._xAxis.width()-o+s]:[0,this._xAxis.width()]):c.push([0,this._xAxis.width()]):i.position===O?u?s>0?(c.push([0,s]),c.push([s+o,this._xAxis.width()])):c.push(o>Math.abs(s)?[o+s,this._xAxis.width()]:[0,this._xAxis.width()]):c.push([0,this._xAxis.width()]):u?0>s?(c.push([0,this._xAxis.width()-o+s]),c.push([this._xAxis.width()+s,this._xAxis.width()])):c.push(o>s?[0,this._xAxis.width()-o+s]:[0,this._xAxis.width()]):c.push([0,this._xAxis.width()]),c.forEach((function(a){Ft(t,e,a[0],a[1])})),t.restore()}}},{key:"_drawMark",value:function(t,e,a,i){if(A(this._mark)){var n,r=a.mark,o=Yt(t,this._mark,r),s=Wt(r);if(i.inside){var c=0;A(this._text)&&(c=Yt(t,this._text,a.text)),n=i.position===O?c:this._xAxis.width()-c-o}else n=i.position===O?0:this._xAxis.width()-o;we(t,r.backgroundColor,r.borderColor,r.borderSize,n+=r.offset,e-s/2,o,s,r.borderRadius),t.textBaseline="middle",t.font=Vt(r.size,r.weight,r.family),xe(t,r.color,n+r.paddingLeft,e,this._mark)}}},{key:"_getY",value:function(t){var e=t.offset;switch(t.position){case G:return e;case"bottom":return this._yAxis.height()+e;default:return this._yAxis.convertToNicePixel(this._point.value)+e}}}]),a}(wt);function da(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return fa(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?fa(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return t.length>i?{done:!1,value:t[i++]}:{done:!0}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw r}}}}function fa(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);e>a;a++)i[a]=t[a];return i}var pa="technical_indicator_pane_",va="candle_pane",_a=function(){function t(e,a){var i=this;_(this,t),this._initChartContainer(e),this._shapeBaseId=0,this._paneBaseId=0,this._separatorDragStartTopPaneHeight=0,this._separatorDragStartBottomPaneHeight=0,this._chartStore=new ue(a,{invalidate:this._invalidatePane.bind(this),crosshair:this._crosshairObserver.bind(this)}),this._xAxisPane=new Ye({id:"x_axis_pane",container:this._chartContainer,chartStore:this._chartStore}),this._panes=new Map([[va,new ze({container:this._chartContainer,chartStore:this._chartStore,xAxis:this._xAxisPane.xAxis(),id:va})]]),this._separators=new Map,this._chartWidth={},this._chartHeight={},this._chartEvent=new ca(this._chartContainer,this._chartStore,(function(t){return i._panes.get(t).yAxis()})),this.adjustPaneViewport(!0,!0,!0)}return y(t,[{key:"_initChartContainer",value:function(t){this._container=t,this._chartContainer=fe("div",{userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent",position:"relative",outline:"none",borderStyle:"none",width:"100%",cursor:"crosshair",boxSizing:"border-box"}),this._chartContainer.tabIndex=1,t.appendChild(this._chartContainer)}},{key:"_crosshairObserver",value:function(t){var e=this,a=t.paneId,i=t.dataIndex,n=t.kLineData,r=t.x,o=t.y;if(this._chartStore.actionStore().has(nt.CROSSHAIR)||this._chartStore.actionStore().has(nt.TOOLTIP)){var s={};this._panes.forEach((function(t,a){var r={},o=[];e.chartStore().technicalIndicatorStore().instances(a).forEach((function(t){var e=t.result[i];r[t.name]=e,o.push({name:t.name,data:e})})),s[a]=r,e._chartStore.actionStore().execute(nt.TOOLTIP,{paneId:a,dataIndex:i,kLineData:n,technicalIndicatorData:o})})),a&&this._chartStore.actionStore().execute(nt.CROSSHAIR,{paneId:a,coordinate:{x:r,y:o},dataIndex:i,kLineData:n,technicalIndicatorData:s})}}},{key:"_separatorStartDrag",value:function(t,e){this._separatorDragStartTopPaneHeight=this._panes.get(t).height(),this._separatorDragStartBottomPaneHeight=this._panes.get(e).height()}},{key:"_separatorDrag",value:function(t,e,a){var i=this._separatorDragStartTopPaneHeight+t,n=this._separatorDragStartBottomPaneHeight-t;i>this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight&&(i=this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight,n=0),0>i&&(i=0,n=this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight),this._panes.get(e).setHeight(i),this._panes.get(a).setHeight(n),this._chartStore.actionStore().execute(nt.PANE_DRAG,{topPaneId:e,bottomPaneId:a,topPaneHeight:i,bottomPaneHeight:n}),this.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"_invalidatePane",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;if(1===t)this._xAxisPane.invalidate(t),this._panes.forEach((function(e){e.invalidate(t)}));else{var e=!1;this._panes.forEach((function(t){var a=t.yAxis().computeAxis();a&&(e=a)})),this.adjustPaneViewport(!1,e,!0)}}},{key:"_measurePaneHeight",value:function(){var t=this,e=this._chartStore.styleOptions(),a=this._container.offsetHeight,i=e.separator.size,n=i*this._separators.size,r=this._xAxisPane.xAxis().getSelfHeight(),o=a-r-n,s=0;this._panes.forEach((function(t){if(t.id()!==va){var e=t.height();s+e>o?(t.setHeight(o-s),s=o):s+=e}}));var c=o-s,l={};l.candle_pane={contentTop:0,contentBottom:c};var u=c,h=c;this._panes.get(va).setHeight(c),this._chartHeight.candle_pane=c,this._panes.forEach((function(e){if(e.id()!==va){var a=e.height();h+=a+i,l[e.id()]={contentTop:u,contentBottom:h},t._chartHeight[e.id()]=a,u=h}})),this._xAxisPane.setHeight(r),this._chartHeight.xAxis=r,this._chartHeight.total=a,this._chartEvent.setPaneContentSize(l),this._chartEvent.setChartContentTopBottom({contentTop:0,contentBottom:h})}},{key:"_measurePaneWidth",value:function(){var t,e,a,i=this,n=this._chartStore.styleOptions().yAxis,r=n.position===O,o=this._container.offsetWidth,s=Number.MIN_SAFE_INTEGER;n.inside?(t=o,s=o,e=0,a=0):(this._panes.forEach((function(t){s=Math.max(s,t.yAxis().getSelfWidth())})),t=o-s,r?(e=0,a=s):(a=0,e=o-s)),this._chartStore.timeScaleStore().setTotalDataSpace(t),this._panes.forEach((function(n,r){n.setWidth(t,s),n.setOffsetLeft(a,e);var o=i._separators.get(r);o&&o.setSize(a,t)})),this._chartWidth={content:t,yAxis:s,total:o},this._xAxisPane.setWidth(t,s),this._xAxisPane.setOffsetLeft(a,e),this._chartEvent.setChartContentLeftRight({contentLeft:a,contentRight:a+t})}},{key:"adjustPaneViewport",value:function(t,e,a,i,n){t&&this._measurePaneHeight();var r=!1;i&&this._panes.forEach((function(t){var e=t.yAxis().computeAxis(n);r||(r=e)})),(!i&&e||i&&r)&&this._measurePaneWidth(),a&&(this._xAxisPane.xAxis().computeAxis(!0),this._xAxisPane.layout(),this._panes.forEach((function(t){t.layout()})))}},{key:"hasPane",value:function(t){return this._panes.has(t)}},{key:"getPane",value:function(t){return this._panes.get(t)}},{key:"chartStore",value:function(){return this._chartStore}},{key:"removeTechnicalIndicator",value:function(t,e){var a=this;if(this._chartStore.technicalIndicatorStore().removeInstance(t,e)){var i=!1;if(t!==va&&!this._chartStore.technicalIndicatorStore().hasInstance(t)){i=!0,this._panes.get(t).destroy();var n=this._separators.get(t).topPaneId();this._separators.get(t).destroy(),this._panes.delete(t),this._separators.delete(t),this._separators.forEach((function(t){var e=t.topPaneId();a._separators.has(e)||t.updatePaneId(n)}))}this.adjustPaneViewport(i,!0,!0,!0,!0)}}},{key:"createTechnicalIndicator",value:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._panes.has(i.id)){var n=this._chartStore.technicalIndicatorStore().addInstance(i.id,t,e);return n&&n.finally((function(t){a.setPaneOptions(i,a._panes.get(i.id).yAxis().computeAxis())})),i.id}var r=i.id||"".concat(pa).concat(++this._paneBaseId),o=!E(i.dragEnabled)||i.dragEnabled;this._separators.set(r,new Qe(this._chartContainer,this._chartStore,Array.from(this._panes.keys()).pop(),r,o,{startDrag:this._separatorStartDrag.bind(this),drag:la(this._separatorDrag.bind(this),50)}));var s=new Le({container:this._chartContainer,chartStore:this._chartStore,xAxis:this._xAxisPane.xAxis(),id:r,height:i.height||100});this._panes.set(r,s);var c=this._chartStore.technicalIndicatorStore().addInstance(r,t,e);return c&&c.finally((function(t){a.adjustPaneViewport(!0,!0,!0,!0,!0)})),r}},{key:"createShape",value:function(t,e,a){var i=e.points,n=e.styles,r=e.lock,o=e.mode,s=e.data,c=e.onDrawStart,l=e.onDrawing,u=e.onDrawEnd,h=e.onClick,d=e.onRightClick,f=e.onPressedMove,p=e.onMouseEnter,v=e.onMouseLeave,_=e.onRemove,m=e.id||"".concat("shape_").concat(++this._shapeBaseId);if(!this._chartStore.shapeStore().hasInstance(m)){var y=null;this.hasPane(a)?y=this._panes.get(a).yAxis():i&&i.length>0&&(a=va,y=this._panes.get(va).yAxis());var g=new t({id:m,chartStore:this._chartStore,xAxis:this._xAxisPane.xAxis(),yAxis:y,points:i,styles:n,lock:r,mode:o,data:s});return w(c)&&c({id:m}),St(g,[{key:"onDrawing",fn:l},{key:"onDrawEnd",fn:u},{key:"onClick",fn:h},{key:"onRightClick",fn:d},{key:"onPressedMove",fn:f},{key:"onMouseEnter",fn:p},{key:"onMouseLeave",fn:v},{key:"onRemove",fn:_}]),this._chartStore.shapeStore().addInstance(g,a),m}return null}},{key:"createAnnotation",value:function(t,e){var a=this,i=[];t.forEach((function(t){var n=t.point,r=t.styles,o=t.checkEventCoordinateOnCustomSymbol,s=t.drawCustomSymbol,c=t.drawExtend,l=t.onClick,u=t.onRightClick,h=t.onMouseEnter,d=t.onMouseLeave;if(n&&n.timestamp){var f=new ua({id:n.timestamp,chartStore:a._chartStore,point:n,xAxis:a._xAxisPane.xAxis(),yAxis:a._panes.get(e).yAxis(),styles:r});St(f,[{key:"drawExtend",fn:c},{key:"drawCustomSymbol",fn:s},{key:"checkEventCoordinateOnCustomSymbol",fn:o},{key:"onClick",fn:l},{key:"onRightClick",fn:u},{key:"onMouseEnter",fn:h},{key:"onMouseLeave",fn:d}]),i.push(f)}})),i.length>0&&this._chartStore.annotationStore().add(i,e)}},{key:"createTag",value:function(t,e){var a=this,i=[],n=!1,r=!1;t.forEach((function(t){var o=t.id,s=t.point,c=t.text,l=t.mark,u=t.styles;if(A(o))if(a._chartStore.tagStore().has(o,e)){var h=a._chartStore.tagStore().update(o,e,{point:s,text:c,mark:l,styles:u});n||(n=h)}else r=!0,i.push(new ha({id:o,point:s,text:c,mark:l,styles:u,chartStore:a._chartStore,xAxis:a._xAxisPane.xAxis(),yAxis:a._panes.get(e).yAxis()}))})),r?this._chartStore.tagStore().add(i,e):n&&this._invalidatePane(1)}},{key:"removeAllHtml",value:function(){this._panes.forEach((function(t){t.removeHtml()})),this._xAxisPane.removeHtml()}},{key:"setPaneOptions",value:function(t,e){var a=e,i=!1;if(t.id!==va){var n=this._panes.get(t.id);n&&(C(t.height)&&t.height>0&&n.height()!==t.height&&(a=!0,n.setHeight(t.height),i=!0),E(t.dragEnabled)&&this._separators.get(t.id).setDragEnabled(t.dragEnabled))}a&&this.adjustPaneViewport(i,!0,!0,!0,!0)}},{key:"setTimezone",value:function(t){this._chartStore.timeScaleStore().setTimezone(t),this._xAxisPane.xAxis().computeAxis(!0),this._xAxisPane.invalidate(3)}},{key:"convertToPixel",value:function(t,e){var a,i=this,n=e.paneId,r=void 0===n?va:n,o=e.absoluteYAxis,s=[].concat(t),c=[],l=this._chartStore.styleOptions().separator.size,u=0,h=da(this._panes.values());try{var d=function(){var t=a.value;if(t.id()===r)return c=s.map((function(e){var a=e.timestamp,n=e.value,r={},s=e.dataIndex;if(A(a)&&(s=i._chartStore.timeScaleStore().timestampToDataIndex(a)),A(s)&&(r.x=i._xAxisPane.xAxis().convertToPixel(s)),A(n)){var c=t.yAxis().convertToPixel(n);r.y=o?u+c:c}return r})),"break";u+=t.height()+l};for(h.s();!(a=h.n()).done;)if("break"===d())break}catch(t){h.e(t)}finally{h.f()}return S(t)?c:c[0]||{}}},{key:"convertFromPixel",value:function(t,e){var a,i=this,n=e.paneId,r=void 0===n?va:n,o=e.absoluteYAxis,s=[].concat(t),c=[],l=this._chartStore.styleOptions().separator.size,u=0,h=da(this._panes.values());try{var d=function(){var t=a.value;if(t.id()===r)return c=s.map((function(e){var a=e.x,n=e.y,r={};if(A(a)&&(r.dataIndex=i._xAxisPane.xAxis().convertFromPixel(a),r.timestamp=i._chartStore.timeScaleStore().dataIndexToTimestamp(r.dataIndex)),A(n)){var s=o?n-u:n;r.value=t.yAxis().convertFromPixel(s)}return r})),"break";u+=t.height()+l};for(h.s();!(a=h.n()).done;)if("break"===d())break}catch(t){h.e(t)}finally{h.f()}return S(t)?c:c[0]||{}}},{key:"chartWidth",value:function(){return this._chartWidth}},{key:"chartHeight",value:function(){return this._chartHeight}},{key:"getConvertPictureUrl",value:function(t,e,a){var i=this,n=this._chartContainer.offsetWidth,r=this._chartContainer.offsetHeight,o=fe("canvas",{width:"".concat(n,"px"),height:"".concat(r,"px"),boxSizing:"border-box"}),s=o.getContext("2d"),c=Nt(o);o.width=n*c,o.height=r*c,s.scale(c,c),s.fillStyle=a,s.fillRect(0,0,n,r);var l=0;return this._panes.forEach((function(e,a){if(a!==va){var r=i._separators.get(a);s.drawImage(r.getImage(),0,l,n,r.height()),l+=r.height()}s.drawImage(e.getImage(t),0,l,n,e.height()),l+=e.height()})),s.drawImage(this._xAxisPane.getImage(t),0,l,n,this._xAxisPane.height()),o.toDataURL("image/".concat(e))}},{key:"destroy",value:function(){this._panes.forEach((function(t){t.destroy()})),this._separators.forEach((function(t){t.destroy()})),this._panes.clear(),this._separators.clear(),this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer),this._chartEvent.destroy()}}]),t}(),ma=function(){function t(e,a){_(this,t),this._chartPane=new _a(e,a)}return y(t,[{key:"getWidth",value:function(){return this._chartPane.chartWidth()}},{key:"getHeight",value:function(){return this._chartPane.chartHeight()}},{key:"setStyleOptions",value:function(t){k(t)&&(this._chartPane.chartStore().applyStyleOptions(t),this._chartPane.adjustPaneViewport(!0,!0,!0,!0,!0))}},{key:"getStyleOptions",value:function(){return b(this._chartPane.chartStore().styleOptions())}},{key:"setPriceVolumePrecision",value:function(t,e){C(t)&&t>=0&&C(e)&&e>=0&&this._chartPane.chartStore().setPriceVolumePrecision(t,e)}},{key:"setTimezone",value:function(t){this._chartPane.setTimezone(t)}},{key:"getTimezone",value:function(){return this._chartPane.chartStore().timeScaleStore().timezone()}},{key:"resize",value:function(){this._chartPane.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"setOffsetRightSpace",value:function(t){C(t)&&this._chartPane.chartStore().timeScaleStore().setOffsetRightSpace(t,!0)}},{key:"setLeftMinVisibleBarCount",value:function(t){C(t)&&t>0&&this._chartPane.chartStore().timeScaleStore().setLeftMinVisibleBarCount(Math.ceil(t))}},{key:"setRightMinVisibleBarCount",value:function(t){C(t)&&t>0&&this._chartPane.chartStore().timeScaleStore().setRightMinVisibleBarCount(Math.ceil(t))}},{key:"setDataSpace",value:function(t){C(t)&&this._chartPane.chartStore().timeScaleStore().setDataSpace(t)}},{key:"getDataSpace",value:function(){return this._chartPane.chartStore().timeScaleStore().dataSpace()}},{key:"getBarSpace",value:function(){return this._chartPane.chartStore().timeScaleStore().barSpace()}},{key:"clearData",value:function(){this._chartPane.chartStore().clearDataList()}},{key:"getDataList",value:function(){return this._chartPane.chartStore().dataList()}},{key:"applyNewData",value:function(t,e){var a=this;if(S(t)){var i=this._chartPane.chartStore();i.clearDataList(),i.addData(t,0,e),i.technicalIndicatorStore().calcInstance().finally((function(t){a._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}},{key:"applyMoreData",value:function(t,e){var a=this;if(S(t)){var i=this._chartPane.chartStore();i.addData(t,0,e),i.technicalIndicatorStore().calcInstance().finally((function(t){a._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}},{key:"updateData",value:function(t){var e=this;if(k(t)&&!S(t)){var a=this._chartPane.chartStore(),i=a.dataList(),n=i.length,r=Z(t,"timestamp",0),o=Z(i[n-1],"timestamp",0);if(r>=o){var s=n;r===o&&(s=n-1),a.addData(t,s),a.technicalIndicatorStore().calcInstance().finally((function(t){e._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}}},{key:"loadMore",value:function(t){w(t)&&this._chartPane.chartStore().timeScaleStore().setLoadMoreCallback(t)}},{key:"createTechnicalIndicator",value:function(t,e,a){if(!A(t))return null;var i=k(t)&&!S(t)?t:{name:t};return this._chartPane.chartStore().technicalIndicatorStore().hasTemplate(i.name)?this._chartPane.createTechnicalIndicator(i,e,a):null}},{key:"addTechnicalIndicatorTemplate",value:function(t){if(k(t)){var e=[].concat(t);this._chartPane.chartStore().technicalIndicatorStore().addTemplate(e)}}},{key:"overrideTechnicalIndicator",value:function(t,e){var a=this;if(k(t)&&!S(t)){var i=this._chartPane.chartStore().technicalIndicatorStore().override(t,e);i&&i.then((function(t){a._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}},{key:"getTechnicalIndicatorTemplate",value:function(t){return this._chartPane.chartStore().technicalIndicatorStore().getTemplateInfo(t)}},{key:"getTechnicalIndicatorByPaneId",value:function(t,e){return this._chartPane.chartStore().technicalIndicatorStore().getInstanceInfo(t,e)}},{key:"removeTechnicalIndicator",value:function(t,e){this._chartPane.removeTechnicalIndicator(t,e)}},{key:"addShapeTemplate",value:function(t){if(k(t)){var e=[].concat(t);this._chartPane.chartStore().shapeStore().addTemplate(e)}}},{key:"createShape",value:function(t,e){if(!A(t))return null;var a=k(t)&&!S(t)?t:{name:t},i=this._chartPane.chartStore().shapeStore().getTemplate(a.name);return i?this._chartPane.createShape(i,a,e):null}},{key:"getShape",value:function(t){return this._chartPane.chartStore().shapeStore().getInstanceInfo(t)}},{key:"setShapeOptions",value:function(t){k(t)&&!S(t)&&this._chartPane.chartStore().shapeStore().setInstanceOptions(t)}},{key:"removeShape",value:function(t){this._chartPane.chartStore().shapeStore().removeInstance(t)}},{key:"createAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:va;if(k(t)&&this._chartPane.hasPane(e)){var a=[].concat(t);this._chartPane.createAnnotation(a,e)}}},{key:"removeAnnotation",value:function(t,e){this._chartPane.chartStore().annotationStore().remove(t,e)}},{key:"createTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:va;if(k(t)&&this._chartPane.hasPane(e)){var a=[].concat(t);this._chartPane.createTag(a,e)}}},{key:"removeTag",value:function(t,e){this._chartPane.chartStore().tagStore().remove(t,e)}},{key:"createHtml",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:va;if(!k(t))return null;if(!(P(t.content)||t.content instanceof HTMLElement))return null;var a=this._chartPane.getPane(e);return a?a.createHtml(t):null}},{key:"removeHtml",value:function(t,e){if(t){var a=this._chartPane.getPane(t);a&&a.removeHtml(e)}else this._chartPane.removeAllHtml()}},{key:"setPaneOptions",value:function(t){k(t)&&this._chartPane.setPaneOptions(t,!1)}},{key:"setZoomEnabled",value:function(t){this._chartPane.chartStore().timeScaleStore().setZoomEnabled(t)}},{key:"isZoomEnabled",value:function(){return this._chartPane.chartStore().timeScaleStore().zoomEnabled()}},{key:"setScrollEnabled",value:function(t){this._chartPane.chartStore().timeScaleStore().setScrollEnabled(t)}},{key:"isScrollEnabled",value:function(){return this._chartPane.chartStore().timeScaleStore().scrollEnabled()}},{key:"scrollByDistance",value:function(t,e){var a=this;if(C(t))if(C(e)&&e>0){this._chartPane.chartStore().timeScaleStore().startScroll();var i=(new Date).getTime();!function n(){var r=((new Date).getTime()-i)/e,o=r>=1,s=o?t:t*r;a._chartPane.chartStore().timeScaleStore().scroll(s),o||me(n)}()}else this._chartPane.chartStore().timeScaleStore().startScroll(),this._chartPane.chartStore().timeScaleStore().scroll(t)}},{key:"scrollToRealTime",value:function(t){var e=(this._chartPane.chartStore().timeScaleStore().offsetRightBarCount()-this._chartPane.chartStore().timeScaleStore().offsetRightSpace()/this._chartPane.chartStore().timeScaleStore().dataSpace())*this._chartPane.chartStore().timeScaleStore().dataSpace();this.scrollByDistance(e,t)}},{key:"scrollToDataIndex",value:function(t,e){if(C(t)){var a=(this._chartPane.chartStore().dataList().length-1-t)*this._chartPane.chartStore().timeScaleStore().dataSpace();this.scrollByDistance(a,e)}}},{key:"zoomAtCoordinate",value:function(t,e,a){var i=this;if(C(t))if(C(a)&&a>0){var n=this._chartPane.chartStore().timeScaleStore().dataSpace(),r=n*t-n,o=(new Date).getTime();!function t(){var s=((new Date).getTime()-o)/a,c=s>=1,l=c?r:r*s;i._chartPane.chartStore().timeScaleStore().zoom(l/n,e),c||me(t)}()}else this._chartPane.chartStore().timeScaleStore().zoom(t,e)}},{key:"zoomAtDataIndex",value:function(t,e,a){if(C(t)&&C(e)){var i=this._chartPane.chartStore().timeScaleStore().dataIndexToCoordinate(e);this.zoomAtCoordinate(t,{x:i},a)}}},{key:"convertToPixel",value:function(t,e){return this._chartPane.convertToPixel(t,e)}},{key:"convertFromPixel",value:function(t,e){return this._chartPane.convertFromPixel(t,e)}},{key:"subscribeAction",value:function(t,e){this._chartPane.chartStore().actionStore().subscribe(t,e)}},{key:"unsubscribeAction",value:function(t,e){this._chartPane.chartStore().actionStore().unsubscribe(t,e)}},{key:"getConvertPictureUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jpeg",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#FFFFFF";if("png"===e||"jpeg"===e||"bmp"===e)return this._chartPane.getConvertPictureUrl(t,e,a)}},{key:"destroy",value:function(){this._chartPane.destroy()}}]),t}(),ya={},ga=1,xa="k_line_chart_",ba={clone:b,merge:x,isString:P,isNumber:C,isValid:A,isObject:k,isArray:S,isFunction:w,isBoolean:E,formatValue:Z,formatPrecision:Q,formatBigNumber:tt};v.addTechnicalIndicatorTemplate([{name:"AVP",shortName:"AVP",series:"price",precision:2,plots:[{key:"avp",title:"AVP: ",type:"line"}],calcTechnicalIndicator:function(t){var e=0,a=0;return t.map((function(t){var i={};return e+=t.turnover||0,0!==(a+=t.volume||0)&&(i.avp=e/a),i}))}},e,a,i,{name:"EMV",shortName:"EMV",calcParams:[14,9],plots:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=0,r=[],o=[];return t.forEach((function(e,s){var c={},l=t[s-1]||e,u=e.high,h=e.low,d=e.turnover||0,f=0;0!==d&&(f=((u+h)/2-(l.high+l.low)/2)*(u-h)/d),r.push(f),i+=f,a[0]-1>s||(c.emv=i,i-=r[s-(a[0]-1)],n+=c.emv,a[0]+a[1]-2>s||(c.maEmv=n/a[1],n-=o[s-(a[1]-1)].emv)),o.push(c)})),o}},{name:"EMA",shortName:"EMA",series:"price",calcParams:[6,12,20],precision:2,shouldCheckParamCount:!1,shouldOhlc:!0,plots:[{key:"ema6",title:"EMA6: ",type:"line"},{key:"ema12",title:"EMA12: ",type:"line"},{key:"ema20",title:"EMA20: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t){return{key:"ema".concat(t),title:"EMA".concat(t,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var a=e.params,i=e.plots,n=0,r=[];return t.map((function(t,e){var o={},s=t.close;return n+=s,a.forEach((function(t,a){t-1>e||(r[a]=e>t-1?(2*s+(t-1)*r[a])/(t+1):n/t,o[i[a].key]=r[a])})),o}))}},{name:"MA",shortName:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldCheckParamCount:!1,shouldOhlc:!0,plots:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t){return{key:"ma".concat(t),title:"MA".concat(t,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var a=e.params,i=e.plots,n=[];return t.map((function(e,r){var o={},s=e.close;return a.forEach((function(e,a){n[a]=(n[a]||0)+s,e-1>r||(o[i[a].key]=n[a]/e,n[a]-=t[r-(e-1)].close)})),o}))}},n,{name:"SMA",shortName:"SMA",series:"price",calcParams:[12,2],precision:2,plots:[{key:"sma",title:"SMA: ",type:"line"}],shouldCheckParamCount:!0,shouldOhlc:!0,calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=0;return t.map((function(t,e){var r={},o=t.close;return i+=o,a[0]-1>e||(r.sma=n=e>a[0]-1?(o*a[1]+n*(a[0]-a[1]+1))/(a[0]+1):i/a[0]),r}))}},{name:"TRIX",shortName:"TRIX",calcParams:[12,9],plots:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a,i,n,r=e.params,o=0,s=0,c=0,l=0,u=[];return t.forEach((function(t,e){var h={},d=t.close;if(o+=d,e>=r[0]-1&&(s+=a=e>r[0]-1?(2*d+(r[0]-1)*a)/(r[0]+1):o/r[0],e>=2*r[0]-2&&(c+=i=e>2*r[0]-2?(2*a+(r[0]-1)*i)/(r[0]+1):s/r[0],e>=3*r[0]-3))){var f,p=0;e>3*r[0]-3?p=((f=(2*i+(r[0]-1)*n)/(r[0]+1))-n)/n*100:f=c/r[0],n=f,h.trix=p,l+=p,3*r[0]+r[1]-4>e||(h.maTrix=l/r[1],l-=u[e-(r[1]-1)].trix)}u.push(h)})),u}},{name:"BRAR",shortName:"BRAR",calcParams:[26],plots:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=0,r=0,o=0;return t.map((function(e,s){var c={},l=e.high,u=e.low,h=e.open,d=(t[s-1]||e).close;if(r+=l-h,o+=h-u,i+=l-d,n+=d-u,s>=a[0]-1){c.ar=0!==o?r/o*100:0,c.br=0!==n?i/n*100:0;var f=t[s-(a[0]-1)],p=f.high,v=f.low,_=f.open,m=(t[s-a[0]]||t[s-(a[0]-1)]).close;i-=p-m,n-=m-v,r-=p-_,o-=_-v}return c}))}},r,{name:"MTM",shortName:"MTM",calcParams:[12,6],plots:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=[];return t.forEach((function(e,r){var o={};r<a[0]||(o.mtm=e.close-t[r-a[0]].close,i+=o.mtm,a[0]+a[1]-1>r||(o.maMtm=i/a[1],i-=n[r-(a[1]-1)].mtm)),n.push(o)})),n}},{name:"PSY",shortName:"PSY",calcParams:[12,6],plots:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=0,r=[],o=[];return t.forEach((function(e,s){var c={},l=e.close-(t[s-1]||e).close>0?1:0;r.push(l),i+=l,a[0]-1>s||(c.psy=i/a[0]*100,n+=c.psy,a[0]+a[1]-2>s||(c.maPsy=n/a[1],n-=o[s-(a[1]-1)].psy),i-=r[s-(a[0]-1)]),o.push(c)})),o}},{name:"ROC",shortName:"ROC",calcParams:[12,6],shouldCheckParamCount:!0,plots:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=[],n=0;return t.forEach((function(e,r){var o={};if(r>=a[0]-1){var s=(t[r-a[0]]||t[r-(a[0]-1)]).close;o.roc=0!==s?(e.close-s)/s*100:0,n+=o.roc,a[0]-1+a[1]-1>r||(o.maRoc=n/a[1],n-=i[r-(a[1]-1)].roc)}i.push(o)})),i}},{name:"VR",shortName:"VR",calcParams:[26,6],plots:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=0,r=0,o=0,s=[];return t.forEach((function(e,c){var l={},u=e.close,h=(t[c-1]||e).close,d=e.volume;if(u>h?i+=d:h>u?n+=d:r+=d,c>=a[0]-1){var f=r/2;l.vr=n+f===0?0:(i+f)/(n+f)*100,o+=l.vr,a[0]+a[1]-2>c||(l.maVr=o/a[1],o-=s[c-(a[1]-1)].vr);var p=t[c-(a[0]-1)],v=t[c-a[0]]||p,_=p.close,m=p.volume;_>v.close?i-=m:v.close>_?n-=m:r-=m}s.push(l)})),s}},s,{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],shouldCheckParamCount:!1,plots:[{key:"bias6",title:"BIAS6: ",type:"line"},{key:"bias12",title:"BIAS12: ",type:"line"},{key:"bias24",title:"BIAS24: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t){return{key:"bias".concat(t),title:"BIAS".concat(t,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var a=e.params,i=e.plots,n=[];return t.map((function(e,r){var o={},s=e.close;return a.forEach((function(e,c){if(n[c]=(n[c]||0)+s,r>=e-1){var l=n[c]/a[c];o[i[c].key]=(s-l)/l*100,n[c]-=t[r-(e-1)].close}})),o}))}},c,l,h,d,f,p,{name:"OBV",shortName:"OBV",calcParams:[30],plots:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calcTechnicalIndicator:function(t,e){var a=e.params,i=0,n=0,r=[];return t.forEach((function(e,o){var s=t[o-1]||e;s.close>e.close?n-=e.volume:e.close>s.close&&(n+=e.volume);var c={obv:n};i+=n,a[0]-1>o||(c.maObv=i/a[0],i-=r[o-(a[0]-1)].obv),r.push(c)})),r}},{name:"PVT",shortName:"PVT",plots:[{key:"pvt",title:"PVT: ",type:"line"}],calcTechnicalIndicator:function(t){var e=0;return t.map((function(a,i){var n={},r=(t[i-1]||a).close,o=0;return 0!==r&&(o=(a.close-r)/r*a.volume),n.pvt=e+=o,n}))}},{name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldCheckParamCount:!1,shouldFormatBigNumber:!0,precision:0,minValue:0,plots:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma20",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,color:function(t,e){var a=t.current.kLineData||{};return a.close>a.open?e.bar.upColor:a.open>a.close?e.bar.downColor:e.bar.noChangeColor}}],regeneratePlots:function(t){var e=t.map((function(t){return{key:"ma".concat(t),title:"MA".concat(t,": "),type:"line"}}));return e.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,color:function(t,e){var a=t.current.kLineData||{};return a.close>a.open?e.bar.upColor:a.open>a.close?e.bar.downColor:e.bar.noChangeColor}}),e},calcTechnicalIndicator:function(t,e){var a=e.params,i=e.plots,n=[];return t.map((function(e,r){var o=e.volume||0,s={volume:o};return a.forEach((function(e,a){n[a]=(n[a]||0)+o,e-1>r||(s[i[a].key]=n[a]/e,n[a]-=t[r-(e-1)].volume)})),s}))}}]),v.addShapeTemplate([{name:"horizontalRayLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,a={x:0,y:e[0].y};return e[1]&&e[1].x>e[0].x&&(a.x=t.viewport.width),[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[e[0],a]]}]},performEventPressedMove:function(t){var e=t.points,a=t.pressPoint;e[0].value=a.value,e[1].value=a.value},performEventMoveForDrawing:function(t){2===t.step&&(t.points[0].value=t.movePoint.value)}},{name:"horizontalSegment",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Tt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,a=[];return 2===e.length&&(a=[e]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:a}]},performEventPressedMove:function(t){var e=t.points,a=t.pressPoint;e[0].value=a.value,e[1].value=a.value},performEventMoveForDrawing:function(t){2===t.step&&(t.points[0].value=t.movePoint.value)}},{name:"horizontalStraightLine",totalStep:2,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return It(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:0,y:e[0].y},{x:t.viewport.width,y:e[0].y}]]}]}},{name:"verticalRayLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,a={x:e[0].x,y:0};return e[1]&&e[1].y>e[0].y&&(a.y=t.viewport.height),[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[e[0],a]]}]},performEventPressedMove:function(t){var e=t.points,a=t.pressPoint;e[0].timestamp=a.timestamp,e[0].dataIndex=a.dataIndex,e[1].timestamp=a.timestamp,e[1].dataIndex=a.dataIndex},performEventMoveForDrawing:function(t){var e=t.points,a=t.movePoint;2===t.step&&(e[0].timestamp=a.timestamp,e[0].dataIndex=a.dataIndex)}},{name:"verticalSegment",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Tt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,a=[];return 2===e.length&&(a=[e]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:a}]},performEventPressedMove:function(t){var e=t.points,a=t.pressPoint;e[0].timestamp=a.timestamp,e[0].dataIndex=a.dataIndex,e[1].timestamp=a.timestamp,e[1].dataIndex=a.dataIndex},performEventMoveForDrawing:function(t){var e=t.points,a=t.movePoint;2===t.step&&(e[0].timestamp=a.timestamp,e[0].dataIndex=a.dataIndex)}},{name:"verticalStraightLine",totalStep:2,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return It(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:e[0].x,y:0},{x:e[0].x,y:t.viewport.height}]]}]}},{name:"rayLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e,a,i,n=t.coordinates,r=t.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[(e=n[0],a=n[1],i={x:r.width,y:r.height},e&&a?[e,e.x===a.x&&e.y!==a.y?a.y>e.y?{x:e.x,y:i.y}:{x:e.x,y:0}:e.x>a.x?{x:0,y:Et(e,a,{x:0,y:e.y})}:{x:i.x,y:Et(e,a,{x:i.x,y:e.y})}]:[])]}]}},{name:"segment",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Tt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,a=[];return 2===e.length&&(a=[e]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:a}]}},{name:"straightLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return It(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,a=t.viewport;return 2>e.length||e[0].x===e[1].x?[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:e[0].x,y:0},{x:e[0].x,y:a.height}]]}]:[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:0,y:Et(e[0],e[1],{x:0,y:e[0].y})},{x:a.width,y:Et(e[0],e[1],{x:a.width,y:e[0].y})}]]}]}},{name:"parallelStraightLine",totalStep:4,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return It(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:Ot(t.coordinates,{x:e.width,y:e.height})}]}},{name:"priceChannelLine",totalStep:4,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return It(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:Ot(t.coordinates,{x:e.width,y:e.height},1)}]}},{name:"priceLine",totalStep:2,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,a=t.precision;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[e[0],{x:t.viewport.width,y:e[0].y}]]},{type:"text",isDraw:!0,isCheck:!1,dataSource:[{x:e[0].x,y:e[0].y,text:t.yAxis.convertFromPixel(e[0].y).toFixed(a.price)}]}]}},{name:"fibonacciLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return It(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.points,a=t.coordinates,i=t.precision;if(a.length>0){var n=[],r=[],o=t.viewport.width;if(a.length>1){var s=a[0].y-a[1].y,c=e[0].value-e[1].value;[1,.786,.618,.5,.382,.236,0].forEach((function(t){var l=a[1].y+s*t,u=(e[1].value+c*t).toFixed(i.price);n.push([{x:0,y:l},{x:o,y:l}]),r.push({x:0,y:l,text:"".concat(u," (").concat((100*t).toFixed(1),"%)")})}))}return[{type:"line",isDraw:!0,isCheck:!0,dataSource:n},{type:"text",isDraw:!0,isCheck:!1,dataSource:r}]}return[]}}]),t.dispose=function(t){if(t){var e;if(P(t)){var a=document.getElementById(t);e=a&&a.chartId}else e=t instanceof ma?t.id:t&&t.chartId;e&&(ya[e].destroy(),delete ya[e])}},t.extension=v,t.init=function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return null;if(!(e=P(t)?document.getElementById(t):t))return null;var i=ya[e.chartId||""];if(i)return i;var n="".concat(xa).concat(ga++);return(i=new ma(e,a)).id=n,e.chartId=n,ya[n]=i,i},t.utils=ba,t.version=function(){return"8.3.2"},Object.defineProperty(t,"__esModule",{value:!0})}))},"3fd3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsSAAALEgHS3X78AAAEWUlEQVRogdVaTU4bMRh9IPak+5Ewq1mSGzScoOEEhBOQnqBwgoYTlJwAOAFwgoblrGqkOQA5AdU3eg7OF9szHghVn4REGHv8/Pz9Ouy8vr7if8TeR3KuTTkCMAAwVI8WAF4KWz181FrvUrw2pRCcABDCRx2nPQGQDVwXtlr0XbsX8dqUExL+2ndh4pEbuM6dmEWcpjDLULcr5BSmOaa0m0FaCN9vgTT4znuu0QmtitemHNAmt0E4BFF/VNjqJTUoqTid7zNJg2s9cO0ooopTafH6g08k7SOpfFBxzzz+FWl4yg9CD2OmcvHJ5hHDEblsYIM4Q955j0WWAOYAzgAcA/hS2GqHv58AuALwHJj3neNOIu89J6c1bNh4bUqbaSJLqnLdFgn4/gnHuzWOXfyuTRkLcc+FrYz/hzXF+dIc0ncATGGrmSYtKoWUYpYc8gS64oDcVlhTPFPteWGr1cvoRK4U0P4hEeJWsq6/QZJZuJoloTi06ivitSnHAG56kpa5ouS+N0ZMyKpNNGYlJxR6aQtx+Gblm8q4I2lxsKm32IQb3lfjRF2dRGTMz9qU2UUVsRKrD/GJO24q/Us9F7s/KWzlwtgxo42P09qUU+Rj5TONqTC9/u7wmsfCViO82bRVSn9PmIErH/zxh4WtrDemS6nazHGKm5bBDv4RTxWJZ0daSLooUJuyUZ4OqDcVTC4taMzPEU8WNA6q4NdHbb3fZ54YP2pTLmpTSlT5oeacxlJ6Ag3XrJ6zNuUDHWQWcEafwFiJcZQoIZr3hWJ+CrmmIq3aHwDfAs+OnHmI83rdzCGAS4bCECTKLNikZBP/KPySU2G0ATdhGWFEnFCtgj4FnSNuW8Y5XEXCmw85lRvnlG4TDKGhELhsOZEk8U4obOUa2lg0eAxUgDfeCYQEMjyRTgFCE++qeAPG3kf150vGeF1AuXuUhqSaM/dql65+1nDd8z9kYqbuVcbSpWuTcGmfYU+flP95gm5ouO7y5dlXY4WtbpneHcTBFrr8xFtzopvuK5c1a1OK2qcd190osu7iw6OY0BQcDhhZXr3MaQP3MU/iL97nrvcpK44+8dtc1jSLUcDeQdMZB+r7uV8scYOhvBDCiqNfj4eKJk10B29HO/AvLUlgmojJsrkL3yw5R1eXMSwZgV4Q6IDEWXQ9ESI+4u7H2j+4qZEXJRbsctYCQCZpMGqtnFkTT6quiLsUfcWuprVR9jY2yzAPaLWhExAfRB2Fi0IVVHKVYaWr8VO9mjeQZ6wQY7VOChvNePAKjkVPyFafaSKTlC9wnDONYcvYNjwFWsAocUPbfM+CHwExkaH2D8RqFQ7s2oNuE+MQ6ShxvGWos39I+iyV0btc7IfuTLaJZSjMarSWtaxJRiq1bwvuTry1dsr98iqZoN6JtQTThtxG4oI9ZKoDysWcdyVZVxW9v6BlyBxHLjnb8ES/uY1Fja0RD2xi6P3ou5IXV7OE6pY++D//CQHAX/gsDjAw+Z4sAAAAAElFTkSuQmCC"},"41a9":function(t,e,a){"use strict";a.r(e);var i=a("d97d"),n=a("b092");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("4f01");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"680fef0f",null,!1,i["a"],void 0);e["default"]=s.exports},4417:function(t,e,a){t.exports=a.p+"static/img/tabbar2.6adc0ca2.png"},"45d7":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"kline-box"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-view",{staticClass:"vcenter-hcenter",staticStyle:{width:"710rpx","margin-top":"40rpx"}},[a("v-uni-view",{staticClass:"price"},[t._v(t._s(t.shishi.now))])],1)],1)],1),a("v-uni-view",{wxsProps:{"change:prop":"chartData"},staticClass:"content",attrs:{id:"renderKlinechart",prop:t.chartData,"change:prop":t.renderKlinechart.getData}}),a("v-uni-view",{staticClass:"vcenter-hcenter",staticStyle:{padding:"30rpx"}},[a("v-uni-view",{staticClass:"hspace_between-vcenter",staticStyle:{width:"690rpx",padding:"30rpx"}},[a("v-uni-view",{staticClass:"hleft-vcenter"},[a("v-uni-view",{staticStyle:{"font-size":"25rpx",color:"#828095","font-weight":"bold"}},[t._v(t._s(t.$t("record2.kp")))]),a("v-uni-view",{staticStyle:{"margin-left":"10rpx","font-size":"25rpx",color:"#a6a6a6","font-weight":"bold"}},[t._v(t._s(t.shishi.open))])],1),a("v-uni-view",{staticClass:"hleft-vcenter"},[a("v-uni-view",{staticStyle:{"font-size":"25rpx",color:"#828095","font-weight":"bold"}},[t._v(t._s(t.$t("record2.zg")))]),a("v-uni-view",{staticStyle:{"margin-left":"10rpx","font-size":"25rpx",color:"#a6a6a6","font-weight":"bold"}},[t._v(t._s(t.shishi.highest))])],1),a("v-uni-view",{staticClass:"hleft-vcenter"},[a("v-uni-view",{staticStyle:{"font-size":"25rpx",color:"#828095","font-weight":"bold"}},[t._v(t._s(t.$t("record2.zd")))]),a("v-uni-view",{staticStyle:{"margin-left":"10rpx","font-size":"25rpx",color:"#a6a6a6","font-weight":"bold"}},[t._v(t._s(t.shishi.lowest))])],1)],1)],1)],1)},n=[]},"45d9":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("3f78"),r=i(a("b03e")),o=(a("9652"),i(a("cba7")),{data:function(){return{chart:null,macd:null}},mounted:function(){this.initChart()},methods:{initChart:function(){(0,n.dispose)("renderKlinechart"),this.chart=(0,n.init)("renderKlinechart"),this.chart.setStyleOptions((0,r.default)("dark")),this.chart.createTechnicalIndicator({name:"MA",calcParams:[5,10,30]},!1,{id:"candle_pane"}),this.macd=this.chart.createTechnicalIndicator("MACD",!1,{height:100,dragEnabled:!1}),this.chart.overrideTechnicalIndicator({name:"MACD"})},getData:function(t,e){console.log(t,e),t.historyData&&(this.chart.clearData(),this.chart.applyNewData(t.historyData)),t.updateData&&this.chart.updateData(t.updateData),t.chartType&&this.chart.setStyleOptions({candle:{type:t.chartType}}),this.chart.setPriceVolumePrecision(t.precision,t.precision)}},beforeDestroy:function(){}});e.default=o},"48bc":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("dfd6")),r={name:"u-popup",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{overlayDuration:this.duration+50}},watch:{show:function(t,e){}},computed:{transitionStyle:function(){var t={zIndex:this.zIndex,position:"fixed",display:"flex"};return t[this.mode]=0,"left"===this.mode||"right"===this.mode?uni.$u.deepMerge(t,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?uni.$u.deepMerge(t,{left:0,right:0}):"center"===this.mode?uni.$u.deepMerge(t,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle:function(){var t={},e=uni.$u.sys();e.safeAreaInsets;if("center"!==this.mode&&(t.flex=1),this.bgColor&&(t.backgroundColor=this.bgColor),this.round){var a=uni.$u.addUnit(this.round);"top"===this.mode?(t.borderBottomLeftRadius=a,t.borderBottomRightRadius=a):"bottom"===this.mode?(t.borderTopLeftRadius=a,t.borderTopRightRadius=a):"center"===this.mode&&(t.borderRadius=a)}return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))},position:function(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},methods:{overlayClick:function(){this.closeOnClickOverlay&&this.$emit("close")},close:function(t){this.$emit("close")},afterEnter:function(){this.$emit("open")},clickHandler:function(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}};e.default=r},"48ee":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".circle_box[data-v-637b4f06]{position:relative}.slot[data-v-637b4f06]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center}.CanvasBox[data-v-637b4f06]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center}",""]),t.exports=e},4954:function(t,e,a){"use strict";a.r(e);var i=a("5ea5"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"4cfa":function(t,e,a){"use strict";a.r(e);var i=a("327a"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"4f01":function(t,e,a){"use strict";var i=a("5c1b"),n=a.n(i);n.a},"52b7":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uIcon:a("dfd2").default,uBadge:a("2f73").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-tabbar-item",style:[t.$u.addStyle(t.customStyle)],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickHandler.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-tabbar-item__icon"},[t.icon?a("u-icon",{attrs:{name:t.icon,color:t.isActive?t.parentData.activeColor:t.parentData.inactiveColor,size:20}}):[t.isActive?t._t("active-icon"):t._t("inactive-icon")],a("u-badge",{attrs:{absolute:!0,offset:[0,t.dot?"34rpx":t.badge>9?"14rpx":"20rpx"],customStyle:t.badgeStyle,isDot:t.dot,value:t.badge||(t.dot?1:null),show:t.dot||t.badge>0}})],2),t._t("text",[a("v-uni-text",{staticClass:"u-tabbar-item__text",style:{color:t.isActive?t.parentData.activeColor:t.parentData.inactiveColor}},[t._v(t._s(t.text))])])],2)},r=[]},"5c1b":function(t,e,a){var i=a("88de");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("76f98925",i,!0,{sourceMap:!1,shadowMode:!1})},"5ea5":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={name:"iCircle",props:{percent:{type:Number,default:0},prefix:{type:String,default:""},size:{type:Number,default:120},strokeWidth:{type:Number,default:10},strokeColor:{type:String,default:"#2d8cf0"},trailWidth:{type:Number,default:12},trailColor:{type:String,default:"#eaeef2"},BgId:{type:String,required:!0},InId:{type:String,required:!0},dashboard:{type:Boolean,default:!1},start:{type:Number,default:27}},data:function(){return{selfPercent:0,type:"add",T:null}},computed:{UniSize:function(){return uni.upx2px(this.size)},circleSize:function(){return{width:"".concat(this.UniSize,"px"),height:"".concat(this.UniSize,"px")}},center_x:function(){return this.UniSize/2},center_y:function(){return this.UniSize/2},rad:function(){return 2*Math.PI/100},lineWidth:function(){return uni.upx2px(this.trailWidth)},BgWidth:function(){return uni.upx2px(this.strokeWidth)},radius:function(){return this.center_x-this.BgWidth-Math.abs(this.BgWidth-this.lineWidth)},startDeg:function(){return Math.PI*(1-this.start/180)},countDeg:function(){return 2*this.start+180},fillDegArr:function(){var t,e;return this.dashboard?(t=this.startDeg,e=Math.PI*this.selfPercent/100*this.countDeg/180+this.startDeg):(t=-Math.PI/2,e=-Math.PI/2+this.selfPercent*this.rad),{start:t,end:e}},bgDegArr:function(){var t,e;return this.dashboard?(t=this.startDeg,e=Math.PI*this.countDeg/180+this.startDeg):(t=0,e=2*Math.PI),{start:t,end:e}}},methods:{Init:function(){this.backgroundCircle(),this.requestAnimationFrame()},requestAnimationFrame:function(){if("add"==this.type){if(this.selfPercent>=this.percent)return void clearTimeout(this.T);this.selfPercent++,this.selfPercent>=100&&(this.selfPercent=100)}else{if(this.selfPercent<=this.percent)return void clearTimeout(this.T);this.selfPercent--,this.selfPercent<=0&&(this.selfPercent=0)}this.foregroundCircle(),this.T=setTimeout(this.requestAnimationFrame,5)},backgroundCircle:function(){var t=uni.createCanvasContext(this.BgId);Math.PI;t.save(),t.beginPath(),t.setLineWidth(this.lineWidth),t.setLineCap("round"),t.setStrokeStyle(this.trailColor),t.arc(this.center_x,this.center_y,this.radius,this.bgDegArr.start,this.bgDegArr.end,!1),t.stroke(),t.closePath(),t.restore(),t.draw()},foregroundCircle:function(){var t=uni.createCanvasContext(this.InId);t.save(),t.setStrokeStyle(this.strokeColor),t.setLineWidth(this.BgWidth),t.setLineCap("round"),t.beginPath(),t.arc(this.center_x,this.center_y,this.radius,this.fillDegArr.start,this.fillDegArr.end,!1),t.stroke(),t.closePath(),t.restore(),t.draw()}},mounted:function(){this.Init()},onReady:function(){},watch:{percent:function(t,e){this.type=t>e?"add":"reduce",this.Init()}}};e.default=i},"629d":function(t,e,a){"use strict";a.r(e);var i=a("48bc"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},6948:function(t,e,a){t.exports=a.p+"static/img/tabbar3.1afd97dc.png"},"6c15":function(t,e,a){"use strict";a.r(e);var i=a("6e1f"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"6c57":function(t,e,a){var i=a("23e7"),n=a("da84");i({global:!0,forced:n.globalThis!==n},{globalThis:n})},"6e1f":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("ddb0"),a("14d9"),a("a434"),a("e25e");var n=i(a("c7eb")),r=i(a("1da1")),o=i(a("ade3")),s=i(a("fc9c")),c=i(a("41a9")),l=i(a("830b")),u=i(a("d23d")),h=a("b72e"),d={data:function(){var t;return t={current:0,pid:0,active1:0,active2:0,money:"",protime:[],proscale:[],userinfo:[],pay_choose_arr:[],order:{uid:0,order_type:0,order_pid:0,order_price:0,order_sen:0,order_shouyi:0,order_kuishun:0,newprice:0},pro:{},chartData:{categories:[],series:[]},opts:{},times:[{label:"1M",value:1},{label:"15M",value:15},{label:"30M",value:30},{label:"1H",value:60},{label:"1D",value:"d"}],timer:null,shishi:{},percent:100,countdown:"",day:"",time:"",minute:"",second:""},(0,o.default)(t,"timer",null),(0,o.default)(t,"goodOid",null),(0,o.default)(t,"endtime",0),(0,o.default)(t,"thisOrder",{}),(0,o.default)(t,"popup",!1),(0,o.default)(t,"popup2",!1),(0,o.default)(t,"isjieliu",!0),t},components:{DsNavbar:s.default,DsTabbar:c.default,iCircle:u.default},onLoad:function(t){this.opts=l.default.opts,this.pid=t.pid,this.chartData={categories:[],series:[{name:"",data:[]}]}},onShow:function(){0!=this.vuex_login?(this.getProtime(),this.getProduct(),this.$refs.popup2.open()):uni.navigateTo({url:"/pages/my/login"})},onUnload:function(){clearInterval(this.timer)},onHide:function(){clearInterval(this.timer),console.log(1)},methods:{showtime:function(t){var e=new Date;if(t){var a=t-Math.floor(e.getTime()/1e3);this.countdown=Math.floor(a),this.percent=Math.floor(this.countdown/(60*this.protime[this.active1])*100),console.log(Math.floor(this.countdown/(60*this.protime[this.active1])*100)),this.countdown<0&&(this.countdown=0,this.percent=0,clearInterval(this.timer))}},getOrder:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a,i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.http.post("index/yii/get_this_order.html",{oid:t.goodOid});case 2:a=e.sent,i=JSON.parse(Base64.decode(a)),t.thisOrder=i,t.showtime(i.endtime);case 6:case"end":return e.stop()}}),e)})))()},continueOrder:function(){this.popup2=!1,clearInterval(this.timer)},selectTime:function(t){this.current=t,this.getChartData()},getChartData:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a,i,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.http.post("index/api/getkdata",{pid:t.pid,num:60,interval:t.times[t.current].value});case 2:a=e.sent,i=JSON.parse(h.Base64.decode(a)),r=t.splitData(i.items),t.chartData.categories=r.categoryData,t.chartData.series[0]["data"]=r.values,t.shishi=i.topdata,t.opts.extra.markLine.data[0].value=t.shishi.now;case 9:case"end":return e.stop()}}),e)})))()},setInterl:function(){var t=this;this.timer=setInterval((function(){uni.$u.http.post("index/api/getprodata",{pid:t.pid}).then((function(e){var a=JSON.parse(h.Base64.decode(e));console.log(a),t.shishi.now!=a.now&&(t.shishi=a,t.opts.extra.markLine.data[0].value=t.shishi.now)}))}),3e3)},getUserinfo:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.http.post("index/yii/user_index.html",{uid:t.vuex_login});case 2:a=e.sent,console.log(a),t.userinfo=a.data.user,t.mybank=a.data.data.mybank,t.level=a.data.level;case 7:case"end":return e.stop()}}),e)})))()},getProduct:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.http.post("index/yii/goods_show.html",{pid:t.pid});case 2:a=e.sent,t.pro=a.data.pro;case 4:case"end":return e.stop()}}),e)})))()},getProtime:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.http.post("index/yii/goods_time.html",{pid:t.pid});case 2:a=e.sent,t.protime=a.data.protime,t.proscale=a.data.proscale,t.pay_choose_arr=a.data.pay_choose_arr;case 6:case"end":return e.stop()}}),e)})))()},getTime:function(t){this.active1=t},getMoney:function(t){this.active2=t},select:function(t){this.getUserinfo(),this.popup=!0,this.order.order_type=t},getSokcetData:function(t){console.log(t),this.shishi=t},save:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a,i,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,0!=t.isjieliu){e.next=4;break}return uni.showToast({icon:"none",title:t.$t("record2.qwcfxd")}),e.abrupt("return",!1);case 4:return 1==t.isjieliu&&(t.isjieliu=!1,setTimeout((function(){a.isjieliu=!0}),3e3)),t.order.uid=t.vuex_login,t.order.order_pid=t.pid,100==t.active2?t.order.order_price=t.money:t.order.order_price=t.pay_choose_arr[t.active2],t.order.order_sen=60*t.protime[t.active1],t.order.order_shouyi=t.proscale[t.active1],t.order.order_kuishun=t.order.order_shouyi,t.order.newprice=t.shishi.now,e.next=14,uni.$u.http.post("index/yii/addorder.html",t.order);case 14:i=e.sent,console.log(i),1==i.type&&(r=JSON.parse(Base64.decode(i.msg)),t.goodOid=r.oid,uni.$u.toast(t.$t("record2.xdcg")),t.popup=!1,t.popup2=!0,t.timer=setInterval((function(){t.getOrder()}),1e3));case 17:case"end":return e.stop()}}),e)})))()},splitData:function(t){for(var e=[],a=[],i=0;i<t.length;i++)e.push(this.getDateHM(t[i].splice(0,1)[0])),a.push(t[i]);return{categoryData:e,values:a}},getDateHM:function(t){var e=new Date(1e3*parseInt(t)).getHours(t),a=new Date(1e3*parseInt(t)).getMinutes(t);e<10&&(e="0"+e),a<10&&(a="0"+a);var i=e+":"+a;return i}}};e.default=d},"6fa9":function(t,e,a){"use strict";a.r(e);var i=a("b3fc"),n=a("629d");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("2b41");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"63bc9907",null,!1,i["a"],void 0);e["default"]=s.exports},7540:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c975");var n=i(a("b7db")),r={name:"u-tabbar-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:""}}},created:function(){this.init()},methods:{init:function(){this.updateParentData(),this.parent||uni.$u.error("u-tabbar-item必须搭配u-tabbar组件使用");var t=this.parent.children.indexOf(this);this.isActive=(this.name||t)===this.parentData.value},updateParentData:function(){this.getParentData("u-tabbar")},updateFromParent:function(){this.init()},clickHandler:function(){var t=this;this.$nextTick((function(){var e=t.parent.children.indexOf(t),a=t.name||e;a!==t.parent.value&&t.parent.$emit("change",a),t.$emit("click",a)}))}}};e.default=r},7766:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show&&(0!==Number(t.value)||t.showZero||t.isDot)?a("v-uni-text",{staticClass:"u-badge",class:[t.isDot?"u-badge--dot":"u-badge--not-dot",t.inverted&&"u-badge--inverted","horn"===t.shape&&"u-badge--horn","u-badge--"+t.type+(t.inverted?"--inverted":"")],style:[t.$u.addStyle(t.customStyle),t.badgeStyle]},[t._v(t._s(t.isDot?"":t.showValue))]):t._e()},n=[]},"7a25":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsSAAALEgHS3X78AAACRklEQVRoge1ZwW3CQBDcRPlDASfl8vITOgglOBWEdEAJSQd0ENMBJeAKIE//DukKgAqINlpLFtHZt7tnJ5aYLyw3Nz5uZ9Z3l8sFxoj7UbIGgIdUP+RtZgFgBQALAJhdffwFADsAWBtXuRTrqY+Kt9kUCQHAa2TJBjdoXHXSrKsi7m02JyUnzNIjAOTGVQfp2mLiCtI1znispORFf046HlsFaaDaQlosvVXwT/goXbSBmbfZu6SQfVRIbadUu4mzcdWUWyRRPE9IGjHxNsu5RRLiC0FNF+bcAglxq6b5G2wxRtvyb8SVYPsXCfFdD8TZ3VNCfCuoSf6bbOLkLUpuXQs2EqurafkpgEZL1PJFxEn1jwTEV9JgofXjBSNAXOPNuGpwd/gD46olEqBHHgv87ouGtJo4kS/Ia2w6NoCf4fGyxlXqmyn5eMLbbEEbqa0qZsuDcVXS+3+0c5WU44lpQ+lrm4q30Cml6ilS/jIwSwmhnrEUg6d8b7MlNQ5t7ixpA+wbhkWcFC4Y6saipGYU/QSir0NSed8DacQzHh9aIwpRiis7JBdRHbVTcW+z1YCkEZ8xyrcqTmd6n5pZBLDLztsMWJfi66EZEyZddjeo+B+q3cRTSPU2xdnTpR4Q5NBGvI+JFRdBDv99rhIcht4GQj0haAHaiKuiVSIEbXCQOLXdFElegjO1/mDE6/QqjfeXeaLXJ2040pMuusYWEltbZ0pLrk6DkgaeeJZ3HFubJHPShppXVzO+HSgw18AIJ04+NcYZlgHgG8Yk3Kt6qfpqAAAAAElFTkSuQmCC"},"7c5a":function(t,e,a){"use strict";a.r(e);var i=a("3974"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"7e50":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-6482b06c], uni-scroll-view[data-v-6482b06c], uni-swiper-item[data-v-6482b06c]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-tabbar[data-v-6482b06c]{display:flex;flex-direction:column;flex:1;justify-content:center}.u-tabbar__content[data-v-6482b06c]{display:flex;flex-direction:column;background-color:#fff}.u-tabbar__content__item-wrapper[data-v-6482b06c]{height:50px;display:flex;flex-direction:row}.u-tabbar--fixed[data-v-6482b06c]{position:fixed;bottom:0;left:0;right:0}',""]),t.exports=e},8084:function(t,e,a){var i=a("9072");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("14317404",i,!0,{sourceMap:!1,shadowMode:!1})},8279:function(t,e,a){"use strict";a.r(e);var i=a("cb02"),n=a("bda3");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("aa12");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"4c9df1fe",null,!1,i["a"],void 0);e["default"]=s.exports},"830b":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={opts:{type:"candle",canvasId:"",canvas2d:!1,background:"none",animation:!0,timing:"easeOut",duration:1e3,color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,15],rotate:!1,errorReload:!0,fontSize:13,fontColor:"#666666",enableScroll:!0,touchMoveLimit:60,enableMarkLine:!0,dataLabel:!1,dataPointShape:!0,dataPointShapeType:"solid",tapLegend:!0,xAxis:{disabled:!1,axisLine:!0,axisLineColor:"#CCCCCC",calibration:!1,fontColor:"#666666",fontSize:13,rotateLabel:!1,labelCount:4,itemCount:40,boundaryGap:"center",disableGrid:!0,gridColor:"#CCCCCC",gridType:"solid",dashLength:4,gridEval:1,scrollShow:!0,scrollAlign:"left",scrollColor:"#A6A6A6",scrollBackgroundColor:"#EFEBEF",format:""},yAxis:{disabled:!1,disableGrid:!1,splitNumber:10,gridType:"solid",dashLength:8,gridColor:"#CCCCCC",padding:10,showTitle:!1,data:[{type:"value",position:"left",disabled:!1,axisLine:!0,axisLineColor:"#CCCCCC",calibration:!1,fontColor:"#666666",fontSize:13,textAlign:"right",title:"",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666",min:null,max:null,tofix:3,unit:"",format:""}]},legend:{show:!1,position:"bottom",float:"center",padding:5,margin:5,backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,fontSize:13,fontColor:"#666666",lineHeight:11,hiddenColor:"#CECECE",itemGap:10},extra:{candle:{color:{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},average:{show:!0,name:["MA5","MA10","MA30"],day:[5,10,20],color:["#1890ff","#2fc25b","#facc14"]}},tooltip:{showBox:!0,showArrow:!0,showCategory:!1,borderWidth:0,borderRadius:0,borderColor:"#000000",borderOpacity:.7,bgColor:"#000000",bgOpacity:.7,gridType:"solid",dashLength:4,gridColor:"#CCCCCC",fontColor:"#FFFFFF",splitLine:!0,horizentalLine:!1,xAxisLabel:!1,yAxisLabel:!1,labelBgColor:"#FFFFFF",labelBgOpacity:.7,labelFontColor:"#666666"},markLine:{type:"dash",dashLength:5,data:[{value:2150,lineColor:"#f04864",showLabel:!0},{value:2350,lineColor:"#f04864",showLabel:!0}]}}}};e.default=i},8641:function(t,e,a){"use strict";a.r(e);var i=a("45d7"),n=a("fe15");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var o=a("7c5a");for(var r in o)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(r);a("2b6b");var s=a("f0c5");n["default"].__module="renderKlinechart";var c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"761a7597",null,!1,i["a"],n["default"]);e["default"]=c.exports},8820:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"circle_box",style:{width:this.circleSize.width,height:this.circleSize.height}},[e("v-uni-view",{staticClass:"canvas"},[this._t("canvas")],2),e("v-uni-view",{staticClass:"slot"},[this._t("default")],2)],1)},n=[]},"88de":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".icon[data-v-680fef0f]{width:%?44?%;height:%?44?%}",""]),t.exports=e},"8caa":function(t,e,a){var i=a("2a2c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("a1fd72a0",i,!0,{sourceMap:!1,shadowMode:!1})},"8cc0":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".left-icon[data-v-4c5dc9bc]{width:%?275?%;height:%?87?%}.tabmenu[data-v-4c5dc9bc]{background-color:#e31f26;width:%?65?%;height:%?65?%;border-radius:50%;display:flex;justify-content:center;align-items:center}.tabmenu .icon[data-v-4c5dc9bc]{width:%?30?%;height:%?30?%}.drawer[data-v-4c5dc9bc]{display:flex;flex-direction:column;align-items:center;height:100vh;width:%?400?%;background-color:#fff}.drawer .item[data-v-4c5dc9bc]{height:%?120?%;border-top:#f8f8f8 4px solid;display:flex;align-items:center;background-color:#fff;width:100%;justify-content:center}.drawer .drawer-logo[data-v-4c5dc9bc]{width:%?320?%;margin-top:%?100?%}",""]),t.exports=e},"8dbf":function(t,e,a){var i=a("b509");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("22fdc5c4",i,!0,{sourceMap:!1,shadowMode:!1})},"8f0e":function(t,e,a){"use strict";var i=a("10ef"),n=a.n(i);n.a},"8f5a":function(t,e,a){"use strict";var i=a("8dbf"),n=a.n(i);n.a},9072:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-63bc9907], uni-scroll-view[data-v-63bc9907], uni-swiper-item[data-v-63bc9907]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-popup[data-v-63bc9907]{flex:1}.u-popup__content[data-v-63bc9907]{background-color:#fff;position:relative}.u-popup__content--round-top[data-v-63bc9907]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.u-popup__content--round-left[data-v-63bc9907]{border-top-left-radius:0;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:10px}.u-popup__content--round-right[data-v-63bc9907]{border-top-left-radius:10px;border-top-right-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:0}.u-popup__content--round-bottom[data-v-63bc9907]{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:0}.u-popup__content--round-center[data-v-63bc9907]{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.u-popup__content__close[data-v-63bc9907]{position:absolute}.u-popup__content__close--hover[data-v-63bc9907]{opacity:.4}.u-popup__content__close--top-left[data-v-63bc9907]{top:15px;left:15px}.u-popup__content__close--top-right[data-v-63bc9907]{top:15px;right:15px}.u-popup__content__close--bottom-left[data-v-63bc9907]{bottom:15px;left:15px}.u-popup__content__close--bottom-right[data-v-63bc9907]{right:15px;bottom:15px}',""]),t.exports=e},9652:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.shapes=e.rect=e.intervals=e.circle=e.chartTypes=void 0;var n=i(a("5530"));e.intervals=[{name:"Time",value:"1min",time:1},{name:"1min",value:"1min",time:1},{name:"5min",value:"5min",time:5},{name:"30min",value:"30min",time:30},{name:"1h",value:"60min",time:60},{name:"1day",value:"1D",time:360},{name:"1week",value:"1W",time:1800},{name:"1mon",value:"1M",time:10800}];e.chartTypes=[{name:"蜡烛实心",value:"candle_solid"},{name:"面积图",value:"area"},{name:"蜡烛空心",value:"candle_stroke"},{name:"蜡烛涨空心",value:"candle_up_stroke"},{name:"蜡烛跌空心",value:"candle_down_stroke"},{name:"OHLC",value:"ohlc"}];e.shapes=[{name:"价格线",value:"priceLine"},{name:"价格通道线",value:"priceChannelLine"},{name:"平行直线",value:"parallelStraightLine"},{name:"斐波那契回调",value:"fibonacciLine"},{name:"自定义矩形",value:"rect"},{name:"自定义圆",value:"circle"}];var r={name:"rect",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource,a=t.eventCoordinate;return checkCoordinateOnSegment(e[0],e[1],a)},createShapeDataSource:function(t){var e=t.coordinates;return 2===e.length?[{type:"line",isDraw:!1,isCheck:!0,dataSource:[[(0,n.default)({},e[0]),{x:e[1].x,y:e[0].y}],[{x:e[1].x,y:e[0].y},(0,n.default)({},e[1])],[(0,n.default)({},e[1]),{x:e[0].x,y:e[1].y}],[{x:e[0].x,y:e[1].y},(0,n.default)({},e[0])]]},{type:"polygon",isDraw:!0,isCheck:!1,styles:{style:"fill"},dataSource:[[(0,n.default)({},e[0]),{x:e[1].x,y:e[0].y},(0,n.default)({},e[1]),{x:e[0].x,y:e[1].y}]]},{type:"polygon",isDraw:!0,isCheck:!1,dataSource:[[(0,n.default)({},e[0]),{x:e[1].x,y:e[0].y},(0,n.default)({},e[1]),{x:e[0].x,y:e[1].y}]]}]:[]}};e.rect=r;var o={name:"circle",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource,a=t.eventCoordinate,i=Math.abs(e.x-a.x),n=Math.abs(e.y-a.y),r=Math.sqrt(i*i+n*n);return Math.abs(r-e.radius)<3},createShapeDataSource:function(t){var e=t.coordinates;if(2===e.length){var a=Math.abs(e[0].x-e[1].x),i=Math.abs(e[0].y-e[1].y),r=Math.sqrt(a*a+i*i);return[{type:"arc",isDraw:!0,isCheck:!1,styles:{style:"fill"},dataSource:[(0,n.default)((0,n.default)({},e[0]),{},{radius:r,startAngle:0,endAngle:2*Math.PI})]},{type:"arc",isDraw:!0,isCheck:!0,dataSource:[(0,n.default)((0,n.default)({},e[0]),{},{radius:r,startAngle:0,endAngle:2*Math.PI})]}]}return[]}};e.circle=o},9790:function(t,e,a){t.exports=a.p+"static/img/logo_small.c91e3ff2.png"},a222:function(t,e,a){"use strict";var i=a("dd54"),n=a.n(i);n.a},a41c:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uSafeBottom:a("23f2").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-tabbar"},[a("v-uni-view",{ref:"u-tabbar__content",staticClass:"u-tabbar__content",class:[t.border&&"u-border-top",t.fixed&&"u-tabbar--fixed"],style:[t.tabbarStyle],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.noop.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-tabbar__content__item-wrapper"},[t._t("default")],2),t.safeAreaInsetBottom?a("u-safe-bottom"):t._e()],1),t.placeholder?a("v-uni-view",{staticClass:"u-tabbar__placeholder",style:{height:t.placeholderHeight+"px"}}):t._e()],1)},r=[]},a49b:function(t,e,a){var i=a("30e0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("4b581848",i,!0,{sourceMap:!1,shadowMode:!1})},a5b4:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-4c9df1fe], uni-scroll-view[data-v-4c9df1fe], uni-swiper-item[data-v-4c9df1fe]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}\n/**\n * vue版本动画内置的动画模式有如下：\n * fade：淡入\n * zoom：缩放\n * fade-zoom：缩放淡入\n * fade-up：上滑淡入\n * fade-down：下滑淡入\n * fade-left：左滑淡入\n * fade-right：右滑淡入\n * slide-up：上滑进入\n * slide-down：下滑进入\n * slide-left：左滑进入\n * slide-right：右滑进入\n */.u-fade-enter-active[data-v-4c9df1fe],\n.u-fade-leave-active[data-v-4c9df1fe]{transition-property:opacity}.u-fade-enter[data-v-4c9df1fe],\n.u-fade-leave-to[data-v-4c9df1fe]{opacity:0}.u-fade-zoom-enter[data-v-4c9df1fe],\n.u-fade-zoom-leave-to[data-v-4c9df1fe]{-webkit-transform:scale(.95);transform:scale(.95);opacity:0}.u-fade-zoom-enter-active[data-v-4c9df1fe],\n.u-fade-zoom-leave-active[data-v-4c9df1fe]{transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.u-fade-down-enter-active[data-v-4c9df1fe],\n.u-fade-down-leave-active[data-v-4c9df1fe],\n.u-fade-left-enter-active[data-v-4c9df1fe],\n.u-fade-left-leave-active[data-v-4c9df1fe],\n.u-fade-right-enter-active[data-v-4c9df1fe],\n.u-fade-right-leave-active[data-v-4c9df1fe],\n.u-fade-up-enter-active[data-v-4c9df1fe],\n.u-fade-up-leave-active[data-v-4c9df1fe]{transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.u-fade-up-enter[data-v-4c9df1fe],\n.u-fade-up-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);opacity:0}.u-fade-down-enter[data-v-4c9df1fe],\n.u-fade-down-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);opacity:0}.u-fade-left-enter[data-v-4c9df1fe],\n.u-fade-left-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);opacity:0}.u-fade-right-enter[data-v-4c9df1fe],\n.u-fade-right-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0}.u-slide-down-enter-active[data-v-4c9df1fe],\n.u-slide-down-leave-active[data-v-4c9df1fe],\n.u-slide-left-enter-active[data-v-4c9df1fe],\n.u-slide-left-leave-active[data-v-4c9df1fe],\n.u-slide-right-enter-active[data-v-4c9df1fe],\n.u-slide-right-leave-active[data-v-4c9df1fe],\n.u-slide-up-enter-active[data-v-4c9df1fe],\n.u-slide-up-leave-active[data-v-4c9df1fe]{transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.u-slide-up-enter[data-v-4c9df1fe],\n.u-slide-up-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.u-slide-down-enter[data-v-4c9df1fe],\n.u-slide-down-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.u-slide-left-enter[data-v-4c9df1fe],\n.u-slide-left-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.u-slide-right-enter[data-v-4c9df1fe],\n.u-slide-right-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.u-zoom-enter-active[data-v-4c9df1fe],\n.u-zoom-leave-active[data-v-4c9df1fe]{transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.u-zoom-enter[data-v-4c9df1fe],\n.u-zoom-leave-to[data-v-4c9df1fe]{-webkit-transform:scale(.95);transform:scale(.95)}',""]),t.exports=e},a5fd:function(t,e,a){"use strict";a.r(e);var i=a("a41c"),n=a("189b");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("8f0e");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6482b06c",null,!1,i["a"],void 0);e["default"]=s.exports},a9d3:function(t,e,a){"use strict";a.r(e);var i=a("52b7"),n=a("eef7");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("a222");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"5bbbcbb7",null,!1,i["a"],void 0);e["default"]=s.exports},aa12:function(t,e,a){"use strict";var i=a("ea7a"),n=a.n(i);n.a},aba2:function(t,e,a){var i=a("8cc0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("473006a3",i,!0,{sourceMap:!1,shadowMode:!1})},af95:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-5bbbcbb7], uni-scroll-view[data-v-5bbbcbb7], uni-swiper-item[data-v-5bbbcbb7]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-tabbar-item[data-v-5bbbcbb7]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1}.u-tabbar-item__icon[data-v-5bbbcbb7]{display:flex;flex-direction:row;position:relative;width:%?150?%;justify-content:center}.u-tabbar-item__text[data-v-5bbbcbb7]{margin-top:2px;font-size:12px;color:#606266}',""]),t.exports=e},b039:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{isopen:!1}},props:{left:{type:Boolean,default:!1}},mounted:function(){},methods:{clickLeft:function(){uni.navigateBack({delta:1})},changMenu:function(){this.isopen?this.$refs.drawer.close():this.$refs.drawer.open(),this.isopen=!this.isopen}}};e.default=i},b03e:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e="dark"===t?"#929AA5":"#76808F",a="dark"===t?"#292929":"#ededed",i="dark"===t?"#333333":"#DDDDDD",n="dark"===t?"#333333":"#DDDDDD",r="dark"===t?"#373a40":"#686d76";return{grid:{horizontal:{color:a},vertical:{color:a}},candle:{bar:{noChangeColor:"#888888"},priceMark:{high:{color:e},low:{color:e}},tooltip:{showRule:"none",labels:["Time","Open","Close","High","Low"],text:{color:e},showType:"standard",rect:{offsetTop:24,borderColor:"#3f4254",backgroundColor:"rgba(17, 17, 17, .3)"}}},technicalIndicator:{tooltip:{showParams:!1}},xAxis:{axisLine:{color:i},tickLine:{color:i},tickText:{color:e}},yAxis:{axisLine:{color:i},tickLine:{color:i},tickText:{color:e}},separator:{color:i},crosshair:{horizontal:{line:{color:n},text:{backgroundColor:r}},vertical:{line:{color:n},text:{backgroundColor:r}}}}}},b092:function(t,e,a){"use strict";a.r(e);var i=a("c0f0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b1ae:function(t,e,a){t.exports=a.p+"static/img/tabbar5.d779b3d4.png"},b3ea:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c7eb")),r=i(a("1da1"));a("d3b7"),a("99af");i(a("c3e9"));var o=function(t){return{enter:"u-".concat(t,"-enter u-").concat(t,"-enter-active"),"enter-to":"u-".concat(t,"-enter-to u-").concat(t,"-enter-active"),leave:"u-".concat(t,"-leave u-").concat(t,"-leave-active"),"leave-to":"u-".concat(t,"-leave-to u-").concat(t,"-leave-active")}},s={methods:{clickHandler:function(){this.$emit("click")},vueEnter:function(){var t=this,e=o(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=e.enter,this.$nextTick((0,r.default)((0,n.default)().mark((function a(){return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,uni.$u.sleep(20);case 2:t.$emit("enter"),t.transitionEnded=!1,t.$emit("afterEnter"),t.classes=e["enter-to"];case 6:case"end":return a.stop()}}),a)}))))},vueLeave:function(){var t=this;if(this.display){var e=o(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=e.leave,this.$nextTick((function(){t.transitionEnded=!1,t.$emit("leave"),setTimeout(t.onTransitionEnd,t.duration),t.classes=e["leave-to"]}))}},onTransitionEnd:function(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}};e.default=s},b3fc:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uOverlay:a("f6ca").default,uTransition:a("8279").default,uStatusBar:a("6a83").default,uIcon:a("dfd2").default,uSafeBottom:a("23f2").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-popup"},[t.overlay?a("u-overlay",{attrs:{show:t.show,duration:t.overlayDuration,customStyle:t.overlayStyle,opacity:t.overlayOpacity},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.overlayClick.apply(void 0,arguments)}}}):t._e(),a("u-transition",{attrs:{show:t.show,customStyle:t.transitionStyle,mode:t.position,duration:t.duration},on:{afterEnter:function(e){arguments[0]=e=t.$handleEvent(e),t.afterEnter.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickHandler.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-popup__content",style:[t.contentStyle],on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.noop.apply(void 0,arguments)}}},[t.safeAreaInsetTop?a("u-status-bar"):t._e(),t._t("default"),t.closeable?a("v-uni-view",{staticClass:"u-popup__content__close",class:["u-popup__content__close--"+t.closeIconPos],attrs:{"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:"close",color:"#909399",size:"18",bold:!0}})],1):t._e(),t.safeAreaInsetBottom?a("u-safe-bottom"):t._e()],2)],1)],1)},r=[]},b509:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-ed62b646], uni-scroll-view[data-v-ed62b646], uni-swiper-item[data-v-ed62b646]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-overlay[data-v-ed62b646]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7)}',""]),t.exports=e},b72e:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__("7037").default;__webpack_require__("ac1f"),__webpack_require__("5319"),__webpack_require__("d401"),__webpack_require__("0eb6"),__webpack_require__("b7ef"),__webpack_require__("8bd4"),__webpack_require__("d3b7"),__webpack_require__("25f0"),__webpack_require__("81b2"),__webpack_require__("ace4"),__webpack_require__("5cc6"),__webpack_require__("907a"),__webpack_require__("9a8c"),__webpack_require__("a975"),__webpack_require__("735e"),__webpack_require__("c1ac"),__webpack_require__("d139"),__webpack_require__("3a7b"),__webpack_require__("986a"),__webpack_require__("1d02"),__webpack_require__("d5d6"),__webpack_require__("82f8"),__webpack_require__("e91f"),__webpack_require__("60bd"),__webpack_require__("5f96"),__webpack_require__("3280"),__webpack_require__("3fcc"),__webpack_require__("ca91"),__webpack_require__("25a1"),__webpack_require__("cd26"),__webpack_require__("3c5d"),__webpack_require__("2954"),__webpack_require__("649e"),__webpack_require__("219c"),__webpack_require__("b39a"),__webpack_require__("72f7"),__webpack_require__("20bf"),__webpack_require__("7a82"),function(t,e){"object"===_typeof(exports)&&"undefined"!==typeof module?module.exports=e(t):(__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.2",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},a=0,i=t.length;a<i;a++)e[t.charAt(a)]=a;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)}e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],a=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),i=[b64chars.charAt(a>>>18),b64chars.charAt(a>>>12&63),e>=2?"=":b64chars.charAt(a>>>6&63),e>=1?"=":b64chars.charAt(63&a)];return i.join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(t){var e="[object Uint8Array]"===Object.prototype.toString.call(t);return e?t.toString("base64"):btoa(utob(String(t)))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,""):_encode(t)},encodeURI=function(t){return encode(t,!0)},re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),a=e-65536;return fromCharCode(55296+(a>>>10))+fromCharCode(56320+(1023&a));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,a=e%4,i=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),n=[fromCharCode(i>>>16),fromCharCode(i>>>8&255),fromCharCode(255&i)];return n.length-=[0,0,2,1][a],n.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(t){return encode(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global["Meteor"]&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__("c8ba"))},b7db:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{name:{type:[String,Number,null],default:uni.$u.props.tabbarItem.name},icon:{icon:String,default:uni.$u.props.tabbarItem.icon},badge:{type:[String,Number,null],default:uni.$u.props.tabbarItem.badge},dot:{type:Boolean,default:uni.$u.props.tabbarItem.dot},text:{type:String,default:uni.$u.props.tabbarItem.text},badgeStyle:{type:[Object,String],default:uni.$u.props.tabbarItem.badgeStyle}}};e.default=i},b9d7:function(t,e,a){"use strict";a.r(e);var i=a("c09c"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},bb85:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsSAAALEgHS3X78AAADL0lEQVRogdWa3W3bMBSFT4u+pwMICPvEx7oTRJ2gzgRRNpAnqDdoMkHsDZIJak9Q55FPpQEOEE/gguqlQNGUROrPzgEEJLEpfbq6vDxXzIfj8Yj3qE9DMCvGPwOYAUgBmJ9t7QC8AdjonxMp3vpes3PECTaj42vk8FcAK310vYlocMU4A7AEcNflgh6t9fkSKWTMoGBwinAO4OcwvBUdADwkUixDBwSBK8Zn9GhjUyJWOoWyRIpd27iPAdAZTaqxoUHX2CjG521fbIw4QT8NTReo+0SKVTT4maGNbhMpnn0feMEpp/9MBNckPWlTX86f5DhVD+9dnkFXuigQUzM41ejrCwEHTdiTMllJlTOmyIFsAWsI2hd7kXK9ysPAQHvtW0KXdUoJXUl+eD5ekr0oVEaclvK/A0JrbRMp0pgBLRxl1O2I570Q/bpRjC9pAfNJuh5F/64YrztfZvLdjriceFJuAcx9aaQYr1sV94kU+on8ryo0KaeEXusUMtB6sSOGNl1TKpXlMCoPB4AuJxml0hM1ICEqWE2Oh9ztEHpMpCjnkmJ81cHXz2xwNgF0xTR1hIYLHqM11VrQDL+JgW6p1cEy4CEXh5ufOt9aIqdXxNyBHsTbtzYSlu4d6EL0t0UNdDoGNCzw1wDoEkBHmSJt4LVVuCVYuHaUSt2gXZQBr/MSB09+big17hTjO2M5yfCnFIQu0DP6flBpLlZOxfizZ7K4Uat71LUNrgV9FQJD52q7wWKemYi7F4151KbBrUSKGt4YaATmf8FkIq4v+ps+qEQwMmoLOrEe8ysCOEbfNJttso5WfhoPEfuox9YhkaKYU3Y5XDjQ2YVBw+6F67r8S3g14dP3RIrC2/u6/PxCobcGGi44VYKxJlVfVTr9k1RRjG8ivMtUOuldfV4lt5buS9DB7u5rwal+j9E4d1Xue+nvdYfkTdbTcDXqse6Nbdtr5q5dyhByvX9FjX6cBp4j8o3QCGkkGhqFseRtWFzFbF6NvQ8UvP+DjtuF2cCvove0XVi7beJTnw1asznbdbF60aYpFtio914+dUZz8uDmcB2lef9tDg3ca1v8ff4TAoB/BL+VmsEL7e8AAAAASUVORK5CYII="},bda3:function(t,e,a){"use strict";a.r(e);var i=a("e49e"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},c09c:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("eb00")),r={name:"u-overlay",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],computed:{overlayStyle:function(){var t={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":"rgba(0, 0, 0, ".concat(this.opacity,")")};return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(){this.$emit("click")}}};e.default=r},c0f0:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={data:function(){return{tabbar1:a("1a69"),tabbar2:a("4417"),tabbar4:a("0f8b"),tabbar5:a("b1ae")}},props:{left:{type:Boolean,default:!1},value:{type:Number,default:0}},created:function(){},methods:{click1:function(t){console.log("click1",t),0==t&&uni.switchTab({url:"/pages/index/index"}),1==t&&uni.switchTab({url:"/pages/info/index"}),2==t&&uni.switchTab({url:"/pages/my/record1"}),3==t&&uni.switchTab({url:"/pages/chat/index"}),4==t&&uni.switchTab({url:"/pages/my/index"})}}};e.default=i},c1d5:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var n=i(a("2cb3")),r={name:"u-badge",mixins:[uni.$u.mpMixin,n.default,uni.$u.mixin],computed:{boxStyle:function(){return{}},badgeStyle:function(){var t={};if(this.color&&(t.color=this.color),this.bgColor&&!this.inverted&&(t.backgroundColor=this.bgColor),this.absolute&&(t.position="absolute",this.offset.length)){var e=this.offset[0],a=this.offset[1]||e;t.top=uni.$u.addUnit(e),t.right=uni.$u.addUnit(a)}return t},showValue:function(){switch(this.numberType){case"overflow":return Number(this.value)>Number(this.max)?this.max+"+":this.value;case"ellipsis":return Number(this.value)>Number(this.max)?"...":this.value;case"limit":return Number(this.value)>999?Number(this.value)>=9999?Math.floor(this.value/1e4*100)/100+"w":Math.floor(this.value/1e3*100)/100+"k":this.value;default:return Number(this.value)}}}};e.default=r},c2fa:function(t,e,a){"use strict";var i=a("cdf8"),n=a.n(i);n.a},c3e9:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={fade:{enter:{opacity:0},"enter-to":{opacity:1},leave:{opacity:1},"leave-to":{opacity:0}},"fade-up":{enter:{opacity:0,transform:"translateY(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(100%)"}},"fade-down":{enter:{opacity:0,transform:"translateY(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(-100%)"}},"fade-left":{enter:{opacity:0,transform:"translateX(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(-100%)"}},"fade-right":{enter:{opacity:0,transform:"translateX(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(100%)"}},"slide-up":{enter:{transform:"translateY(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(100%)"}},"slide-down":{enter:{transform:"translateY(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(-100%)"}},"slide-left":{enter:{transform:"translateX(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(-100%)"}},"slide-right":{enter:{transform:"translateX(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(100%)"}},zoom:{enter:{transform:"scale(0.95)"},"enter-to":{transform:"scale(1)"},leave:{transform:"scale(1)"},"leave-to":{transform:"scale(0.95)"}},"fade-zoom":{enter:{opacity:0,transform:"scale(0.95)"},"enter-to":{opacity:1,transform:"scale(1)"},leave:{opacity:1,transform:"scale(1)"},"leave-to":{opacity:0,transform:"scale(0.95)"}}}},c9ee:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.u-safe-bottom[data-v-b1c30928]{width:100%}',""]),t.exports=e},cb02:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.inited?a("v-uni-view",{ref:"u-transition",staticClass:"u-transition",class:t.classes,style:[t.mergeStyle],on:{touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.noop.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickHandler.apply(void 0,arguments)}}},[t._t("default")],2):t._e()},n=[]},cb29:function(t,e,a){var i=a("23e7"),n=a("81d5"),r=a("44d2");i({target:"Array",proto:!0},{fill:n}),r("fill")},cba7:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,i=[],n=60*Math.floor(t/60/1e3)*1e3,r=e,o=[],s=0;s<a;s++){r=r+20*Math.random()-10;for(var c=0;c<4;c++)o[c]=12*(Math.random()-.5)+r;o.sort();var l=+Math.round(3*Math.random()).toFixed(0),u=+Math.round(2*Math.random()).toFixed(0);u===l&&u++;var h=50*Math.random()+10,d={open:o[l],low:o[0],high:o[3],close:o[u],volume:h,timestamp:n};n-=6e4,d.turnover=(d.open+d.close+d.high+d.low)/4*h,i.unshift(d)}return i},a("4e82"),a("3c65")},cdf8:function(t,e,a){var i=a("1960");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("96402208",i,!0,{sourceMap:!1,shadowMode:!1})},d0d3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAuCAYAAAC4e0AJAAAACXBIWXMAAAsSAAALEgHS3X78AAAEjklEQVRoge1a3U3jQBAeTvdOCrCEefIjoYILFcBVcKECoAJCBRcqIHQAFRB3AI9+M5ILIBVwGvQ5jD/Pru3AwSHdSBFRdrz7zf/Mmq3n52f5qvTtyyIXke/vtVGVZmMRmYjICH8tlfjci8gyKYun9zjzTW5TpZmCnIrIkYhsD3j0QUQW+nmLIBuBr9JMAc9EZGfTg0ErCDHbRIhB4OEacxH5MRxnlFYQYD7kod7goe15D/dYwbctaRzs9TgmVxfsa4Ve4Ks0U9P+6jh0gWAsI/tMEB/TiBI0HqZJWbAChoPvAH4NcwcBR/aNWVKtN+kSIAq+SjPd/MRZeoR2lsSfQrOjpCxm+G2GNNmySpVmIwjgKUfPGMdcKAgemrlyllp+Cd5T69dJWWxhzR6gLjFPymLR96ykLLhmxMFDg/eOSa+Tspgavgl8vZUyA+BralkuIsBFbUWmUHvg+WJOwJXnLpDrHwPfa9Jn7uBStbCqhGOH9xzK7AYPbR7Szyv4cs2zcGJBeS5FZDcpi/Vh+L6PtZUDbGF4F+BjcjXfcpsqzZZOEfqZlMWNvAbgOa3fwg2i+RkBqgBZOWe2QFVpVjoW3eWAb2ge5mHguQE+doDrwb0Ki/Ior/oxLf3G3jVN20+/JIQGsdsctZ9pmIzL90WopCsYtRK0zULMUCMszc36EpnJUksgBs8Mj3VGQCxYq+ShLAAtLmGlZUCAKQH8gTNqYqVs0/oreBzA/YfNx2y2LuB1ttoLCeDsaZV34/D74LWaOcy2gtoHH7i6BoDX5AqAPWwqPTJrT47rNDBGwZPLWEAtrUSARwWgvbYpcL3u1AXPm9qczEWCe5ou4DEBGKA9ixu+RiaMDeB2U7fCGeoDvKYXASIAreaj6fdfvz3YGLw1LWuHXWzilP4QaRDa4I+5ZNTiMfA2bcZMKxga+gjwgCHDapQTRUzbjSbPgvdSXyqvWccCa1W7HgJ4wIWq+oqmJ+/+xwXvjXL2YZvSdrjadQjgAq/S7IgaME7BbJVGZlqDR8fGvbfVyoLW3J7GESCkcW8P21l6F1kN72CfZ9c5JNfJzdoeBpKYABch4OjjrdZzchmvSYyC9/oJ69/ci5zYaYgF0MYtApyHbjulpc76Le/VAI++nV3n1GhfNXNG6zoN3YRGNQKdYthhYMc0aHgKYbd1JylvEL7FEFHzeJpbmcvTRmChfTgNXHF4Q/0d8Tza0TIIXsJjGI9q3ji4FiQpixH4niKtA+85QtZj/vUYailUpFojF0a1tYYwiBw4biZ0uAdcM9C+A9zrkXIPuITAg5nHNKUrEmAJcx47vbdHOfx7bF3LAPcuY8fUJq8pdmMW2/AyKYuWdRC06rNpn+s+efXxm46u1L277LqrHKGqeRdLqulTb6LqQ9h7FrgL7SVAn1viFJoJ3a/nyDCtVBbYr848Q18FtQToez8/ggBdb0RyuFpJvdIE7e3kHV4FrdPm0Nc6sfT4kaRBvxg0SSEId6nH+Qx60fzgMVAzBu7MDwLp9CPopcd58+t7xMMEn/FfeFPItG4n/v/vwaeQiPwBtTtswgfjs+4AAAAASUVORK5CYII="},d23d:function(t,e,a){"use strict";a.r(e);var i=a("8820"),n=a("4954");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("d40a");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"637b4f06",null,!1,i["a"],void 0);e["default"]=s.exports},d40a:function(t,e,a){"use strict";var i=a("1898"),n=a.n(i);n.a},d5c1:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c7eb")),r=i(a("1da1"));a("d81d");var o=i(a("33ea")),s={name:"u-tabbar",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{placeholderHeight:0}},computed:{tabbarStyle:function(){var t={zIndex:this.zIndex};return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))},updateChild:function(){return[this.value,this.activeColor,this.inactiveColor]},updatePlaceholder:function(){return[this.fixed,this.placeholder]}},watch:{updateChild:function(){this.updateChildren()},updatePlaceholder:function(){this.setPlaceholderHeight()}},created:function(){this.children=[]},mounted:function(){this.setPlaceholderHeight()},methods:{updateChildren:function(){this.children.length&&this.children.map((function(t){return t.updateFromParent()}))},setPlaceholderHeight:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.fixed&&t.placeholder){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uni.$u.sleep(20);case 4:t.$uGetRect(".u-tabbar__content").then((function(e){var a=e.height,i=void 0===a?50:a;t.placeholderHeight=i}));case 5:case"end":return e.stop()}}),e)})))()}}};e.default=s},d793:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uNavbar:a("abf4").default,klinechart:a("8641").default,uPopup:a("6fa9").default,"u-Input":a("bf8a").default,uButton:a("722e").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"buy"},[a("u-navbar",{attrs:{title:t.$t("record2.cpxq"),placeholder:!0,autoBack:!0,leftIconColor:"#fff"}}),a("klinechart",{attrs:{currency_name:t.pro.ptitle,legal_name:t.pro.Price,pid:t.pid},on:{getSokcetData:function(e){arguments[0]=e=t.$handleEvent(e),t.getSokcetData.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"pdesc"},[t._v(t._s(t.pro.pdesc))]),a("v-uni-view",{staticClass:"navbar"},[a("v-uni-navigator",{attrs:{"hover-class":"none",url:"/pages/my/record2"}},[t._v(t._s(t.$t("record2.ccmx")))]),a("v-uni-view",{staticClass:"btn-green",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.select(0)}}},[a("v-uni-view",{},[t._v(t._s(t.$t("record2.mz")))]),a("v-uni-view",{},[t._v(t._s(t.shishi.now))])],1),a("v-uni-view",{staticClass:"btn-red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.select(1)}}},[a("v-uni-view",{},[t._v(t._s(t.$t("record2.md")))]),a("v-uni-view",{},[t._v(t._s(t.shishi.now))])],1)],1),a("v-uni-view",{staticClass:"popupbuy"},[a("u-popup",{attrs:{show:t.popup,round:10,mode:"center",closeable:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.popup=!1}}},[a("v-uni-view",{staticClass:"form1"},[a("v-uni-view",{staticClass:"form-title",staticStyle:{"justify-content":"center"}},[a("v-uni-view",{staticClass:"f18"},[t._v(t._s(t.$t("record2.zhye"))+"\n\t\t\t\t\t\t："+t._s(t.userinfo.usermoney))])],1),a("v-uni-view",{staticClass:"form-title"},[a("v-uni-view",{staticClass:"f18"},[t._v(t._s(t.$t("record2.dqsj")))])],1),a("v-uni-view",{staticClass:"scrollview"},[a("v-uni-scroll-view",{attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"input-box"},t._l(t.protime,(function(e,i){return a("v-uni-view",{key:i,class:{item1:!0,active:t.active1==i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getTime(i)}}},[a("v-uni-view",[t._v(t._s(t.$t("record2.jssj")))]),a("v-uni-view",{staticStyle:{"font-size":"32rpx"}},[t._v(t._s(60*e)+"s")]),a("v-uni-view",{staticClass:"bottom"},[t._v(t._s(t.$t("record2.shouyi"))+"\n\t\t\t\t\t\t\t\t"+t._s(t.proscale[i])+"%")])],1)})),1)],1)],1),a("v-uni-view",{staticClass:"form-title"},[a("v-uni-view",{staticClass:"f18"},[t._v(t._s(t.$t("record2.xdje")))])],1),a("v-uni-view",{staticClass:"scrollview"},[a("v-uni-scroll-view",{attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"input-box",staticStyle:{display:"flex","flex-wrap":"wrap"}},[t._l(t.pay_choose_arr,(function(e,i){return a("v-uni-view",{key:i,class:{item2:!0,active:t.active2==i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getMoney(i)}}},[t._v("￥"+t._s(e))])})),a("v-uni-view",{class:{item2:!0,active:100==t.active2},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getMoney(100)}}},[t._v(t._s(t.$t("record2.qtje")))])],2)],1)],1),a("v-uni-view",{staticClass:"input-box",staticStyle:{"margin-top":"20rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getMoney(100)}}},[a("u--input",{attrs:{placeholder:t.$t("record2.qsrxdje"),border:"surround",clearable:!0},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}})],1),a("v-uni-view",{staticClass:"input-box"},[a("v-uni-view",{staticClass:"flex align-center justify-center",staticStyle:{margin:"50rpx"}},[a("u-button",{staticStyle:{"letter-spacing":"2rpx"},attrs:{type:"primary",text:"",size:"large"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}},[t._v(t._s(t.$t("record2.ljxd")))])],1)],1)],1)],1)],1),a("u-popup",{attrs:{show:t.popup2,round:10,mode:"center",closeable:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.popup2=!1}}},[a("v-uni-view",{staticClass:"form vcenter-hcenter",staticStyle:{width:"650rpx",height:"inherit",padding:"25rpx","background-color":"#000","border-radius":"25rpx"}},[a("iCircle",{attrs:{percent:t.percent,size:200,"stroke-color":t.color,BgId:"BgId",InId:"InId"}},[0==t.percent?a("v-uni-view",{staticStyle:{"font-size":"24px"},style:{color:t.thisOrder.ploss>0?"#00bb00":"#ff0000"}},[t._v(t._s(t.thisOrder.ploss))]):a("v-uni-view",{staticClass:"vcenter-hcenter"},[a("v-uni-text",{staticStyle:{"font-size":"24px",color:"#606266"}},[t._v(t._s(t.countdown))]),a("v-uni-view",{staticClass:"vcenter-hcenter",staticStyle:{height:"50rpx"}},[a("v-uni-view",{staticStyle:{color:"#4b5461","font-size":"20rpx"}},[t._v(t._s(t.$t("record2.xjg")))]),a("v-uni-view",{staticStyle:{color:"#f00","font-size":"20rpx","line-height":"20rpx"}},[t._v(t._s(t.shishi.now))])],1)],1),a("v-uni-view",{attrs:{slot:"canvas"},slot:"canvas"},[a("v-uni-canvas",{staticClass:"CanvasBox strokeCanvas",attrs:{"canvas-id":"BgId"}}),a("v-uni-canvas",{staticClass:"CanvasBox trailCanvas",attrs:{"canvas-id":"InId"}})],1)],1),a("v-uni-view",{staticStyle:{padding:"20rpx","border-top":"1px solid #f8f8f8"}},[a("v-uni-view",{staticClass:"hspace_between-vcenter",staticStyle:{width:"580rpx",padding:"30rpx"}},[a("v-uni-view",{staticClass:"hleft-vcenter"},[a("v-uni-view",{staticStyle:{"font-size":"25rpx",color:"#3f4954","font-weight":"bold"}},[t._v(t._s(t.$t("record2.cp")))]),a("v-uni-view",{staticStyle:{"margin-left":"10rpx","font-size":"25rpx",color:"#606266","font-weight":"bold"}},[a("v-uni-text",[t._v(t._s(t.pro.Name))])],1)],1),a("v-uni-view",{staticClass:"hleft-vcenter"},[a("v-uni-view",{staticStyle:{"font-size":"25rpx",color:"#3f4954","font-weight":"bold"}},[t._v(t._s(t.$t("record2.fx")))]),a("v-uni-view",{staticStyle:{"margin-left":"10rpx","font-size":"25rpx",color:"#606266","font-weight":"bold"}},[t._v(t._s(0==t.order.order_type?t.$t("record2.mz"):t.$t("record2.md")))])],1),a("v-uni-view",{staticClass:"hleft-vcenter"},[a("v-uni-view",{staticStyle:{"font-size":"25rpx",color:"#3f4954","font-weight":"bold"}},[t._v(t._s(t.$t("record2.sy")))]),a("v-uni-view",{staticStyle:{"margin-left":"10rpx","font-size":"25rpx",color:"#606266","font-weight":"bold"}},[t._v(t._s(t.proscale[t.active1])+"%")])],1)],1)],1),a("v-uni-view",{staticClass:"vcenter-hcenter",staticStyle:{"align-items":"unset"}},[a("u-button",{attrs:{type:"primary",text:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.continueOrder.apply(void 0,arguments)}}},[t._v(t._s(t.$t("record2.jxxd")))])],1)],1)],1)],1)},r=[]},d97d:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uTabbar:a("a5fd").default,uTabbarItem:a("a9d3").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("u-tabbar",{attrs:{activeColor:"#E31F26",value:t.value,fixed:!0,placeholder:!1,safeAreaInsetBottom:!1}},[i("u-tabbar-item",{attrs:{text:"首页"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click1.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"icon",attrs:{slot:"active-icon",src:a("d0d3")},slot:"active-icon"}),i("v-uni-image",{staticClass:"icon",attrs:{slot:"inactive-icon",src:a("1a69")},slot:"inactive-icon"})],1),i("u-tabbar-item",{attrs:{text:"产品"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click1.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"icon",attrs:{slot:"active-icon",src:a("bb85")},slot:"active-icon"}),i("v-uni-image",{staticClass:"icon",attrs:{slot:"inactive-icon",src:a("4417")},slot:"inactive-icon"})],1),i("u-tabbar-item",{attrs:{text:"明细"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click1.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"icon",attrs:{slot:"active-icon",src:a("3fd3")},slot:"active-icon"}),i("v-uni-image",{staticClass:"icon",attrs:{slot:"inactive-icon",src:a("6948")},slot:"inactive-icon"})],1),i("u-tabbar-item",{attrs:{text:"我的"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click1.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"icon",attrs:{slot:"active-icon",src:a("7a25")},slot:"active-icon"}),i("v-uni-image",{staticClass:"icon",attrs:{slot:"inactive-icon",src:a("b1ae")},slot:"inactive-icon"})],1)],1)],1)},r=[]},d9d0:function(t,e,a){"use strict";var i=a("0217"),n=a.n(i);n.a},dd54:function(t,e,a){var i=a("af95");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("d284d878",i,!0,{sourceMap:!1,shadowMode:!1})},dd71:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-6718ea06], uni-scroll-view[data-v-6718ea06], uni-swiper-item[data-v-6718ea06]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-badge[data-v-6718ea06]{border-top-right-radius:100px;border-top-left-radius:100px;border-bottom-left-radius:100px;border-bottom-right-radius:100px;display:flex;flex-direction:row;line-height:11px;text-align:center;font-size:11px;color:#fff}.u-badge--dot[data-v-6718ea06]{height:8px;width:8px}.u-badge--inverted[data-v-6718ea06]{font-size:13px}.u-badge--not-dot[data-v-6718ea06]{padding:2px 5px}.u-badge--horn[data-v-6718ea06]{border-bottom-left-radius:0}.u-badge--primary[data-v-6718ea06]{background-color:#3c9cff}.u-badge--primary--inverted[data-v-6718ea06]{color:#3c9cff}.u-badge--error[data-v-6718ea06]{background-color:#f56c6c}.u-badge--error--inverted[data-v-6718ea06]{color:#f56c6c}.u-badge--success[data-v-6718ea06]{background-color:#5ac725}.u-badge--success--inverted[data-v-6718ea06]{color:#5ac725}.u-badge--info[data-v-6718ea06]{background-color:#909399}.u-badge--info--inverted[data-v-6718ea06]{color:#909399}.u-badge--warning[data-v-6718ea06]{background-color:#f9ae3d}.u-badge--warning--inverted[data-v-6718ea06]{color:#f9ae3d}',""]),t.exports=e},dfd6:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.popup.show},overlay:{type:Boolean,default:uni.$u.props.popup.overlay},mode:{type:String,default:uni.$u.props.popup.mode},duration:{type:[String,Number],default:uni.$u.props.popup.duration},closeable:{type:Boolean,default:uni.$u.props.popup.closeable},overlayStyle:{type:[Object,String],default:uni.$u.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:uni.$u.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:uni.$u.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:uni.$u.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:uni.$u.props.popup.round},zoom:{type:Boolean,default:uni.$u.props.popup.zoom},bgColor:{type:String,default:uni.$u.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:uni.$u.props.popup.overlayOpacity}}};e.default=i},e49e:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),r=i(a("3877")),o=i(a("b3ea")),s={name:"u-transition",data:function(){return{inited:!1,viewStyle:{},status:"",transitionEnded:!1,display:!1,classes:""}},computed:{mergeStyle:function(){var t=this.viewStyle,e=this.customStyle;return(0,n.default)((0,n.default)({transitionDuration:"".concat(this.duration,"ms"),transitionTimingFunction:this.timingFunction},uni.$u.addStyle(e)),t)}},mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default,r.default],watch:{show:{handler:function(t){t?this.vueEnter():this.vueLeave()},immediate:!0}}};e.default=s},e94a:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniNavBar:a("688d").default,uniIcons:a("1323").default,uniPopup:a("8037").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("uni-nav-bar",{staticStyle:{width:"100vw","z-index":"99999"},attrs:{backgroundColor:"rgba(255,255,255,0)",leftWidth:"275rpx",height:"120rpx",statusBar:!0,border:!1,fixed:!0},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.clickLeft.apply(void 0,arguments)}}},[t.left?i("v-uni-view",{attrs:{slot:"left"},slot:"left"},[i("v-uni-image",{staticClass:"left-icon",attrs:{src:a("9790"),mode:"scaleToFill"}})],1):t._e(),i("v-uni-view",{attrs:{slot:"right"},slot:"right"},[i("v-uni-view",{staticClass:"tabmenu",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changMenu.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"bars",size:"18",color:"#ffffff"}})],1)],1)],1),i("uni-popup",{ref:"drawer",attrs:{type:"right"}},[i("v-uni-view",{staticClass:"drawer"},[i("v-uni-view",{staticStyle:{height:"120rpx"}}),i("v-uni-navigator",{staticClass:"item",attrs:{"hover-class":"none","open-type":"switchTab",url:"/pages/index/index"}},[t._v("首页")]),i("v-uni-navigator",{staticClass:"item",attrs:{"hover-class":"none",url:"/pages/news/index"}},[t._v("新闻资讯")]),i("v-uni-navigator",{staticClass:"item",attrs:{"hover-class":"none","open-type":"switchTab",url:"/pages/my/index"}},[t._v("个人中心")]),i("v-uni-navigator",{staticClass:"item",attrs:{"hover-class":"none","open-type":"switchTab",url:"/pages/chat/index"}},[t._v("联系我们")]),i("v-uni-image",{staticClass:"drawer-logo",attrs:{src:a("21f6"),mode:"widthFix"}})],1)],1)],1)},r=[]},ea7a:function(t,e,a){var i=a("a5b4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("c409b970",i,!0,{sourceMap:!1,shadowMode:!1})},eb00:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.overlay.show},zIndex:{type:[String,Number],default:uni.$u.props.overlay.zIndex},duration:{type:[String,Number],default:uni.$u.props.overlay.duration},opacity:{type:[String,Number],default:uni.$u.props.overlay.opacity}}};e.default=i},ed56:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"u-safe-bottom",class:[!this.isNvue&&"u-safe-area-inset-bottom"],style:[this.style]})},n=[]},edfd:function(t,e,a){"use strict";a.r(e);var i=a("c1d5"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},eef7:function(t,e,a){"use strict";a.r(e);var i=a("7540"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},efe4:function(t,e,a){"use strict";var i=a("205f"),n=a.n(i);n.a},f09c:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uTransition:a("8279").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("u-transition",{attrs:{show:t.show,"custom-class":"u-overlay",duration:t.duration,"custom-style":t.overlayStyle},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickHandler.apply(void 0,arguments)}}},[t._t("default")],2)},r=[]},f6ca:function(t,e,a){"use strict";a.r(e);var i=a("f09c"),n=a("b9d7");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("8f5a");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"ed62b646",null,!1,i["a"],void 0);e["default"]=s.exports},f748:function(t,e){t.exports=Math.sign||function(t){var e=+t;return 0==e||e!=e?e:e<0?-1:1}},fc9c:function(t,e,a){"use strict";a.r(e);var i=a("e94a"),n=a("22cf");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("ff56");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"4c5dc9bc",null,!1,i["a"],void 0);e["default"]=s.exports},fe15:function(t,e,a){"use strict";a.r(e);var i=a("45d9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},ff56:function(t,e,a){"use strict";var i=a("aba2"),n=a.n(i);n.a}}]);